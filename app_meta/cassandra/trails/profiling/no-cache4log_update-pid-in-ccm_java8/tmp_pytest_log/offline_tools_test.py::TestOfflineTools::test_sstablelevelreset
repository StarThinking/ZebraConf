cassandra offline_tools_test.py::TestOfflineTools::test_sstablelevelreset true true
log_dts_dir = /users/masix/vm_images/ZebraConf/app_meta/logs
the_test is offline_tools_test.py::TestOfflineTools::test_sstablelevelreset
rm: cannot remove '/tmp/my_log.txt': No such file or directory
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /users/masix/dtest/bin/python
cachedir: .pytest_cache
rootdir: /users/masix/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 900.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

offline_tools_test.py::TestOfflineTools::test_sstablelevelreset 
-------------------------------- live log call ---------------------------------
10:14:30,388 ccmlib.node WARNING [msx] ccmlib:node.py:start(), self.name= node1, self.pid= 38926
10:14:30,389 ccmlib.cluster WARNING [msx] ccmlib:cluster.py:start() p.pid= 38829 node.name= node1 node.pid= 38926
10:14:41,698 ccmlib.node WARNING [msx] ccmlib:node.py:start(), self.name= node1, self.pid= 39696
10:14:41,700 ccmlib.cluster WARNING [msx] ccmlib:cluster.py:start() p.pid= 39599 node.name= node1 node.pid= 39696
FAILED                                                                   [100%]

=================================== FAILURES ===================================
___________________ TestOfflineTools.test_sstablelevelreset ____________________

self = <offline_tools_test.TestOfflineTools object at 0x7fd2317a9f98>

    def test_sstablelevelreset(self):
        """
            Insert data and call sstablelevelreset on a series of
            tables. Confirm level is reset to 0 using its output.
            Test a variety of possible errors and ensure response is resonable.
            @since 2.1.5
            @jira_ticket CASSANDRA-7614
            """
        cluster = self.cluster
        cluster.populate(1).start()
        node1 = cluster.nodelist()[0]
    
        # test by trying to run on nonexistent keyspace
        cluster.stop(gently=False)
        try:
            node1.run_sstablelevelreset("keyspace1", "standard1")
        except ToolError as e:
            assert re.search("ColumnFamily not found: keyspace1/standard1", str(e))
            # this should return exit code 1
            assert e.exit_status == 1, "Expected sstablelevelreset to have a return code of 1 == but instead return code was {}".format(e.exit_status)
    
        # now test by generating keyspace but not flushing sstables
        cluster.start()
        node1.stress(['write', 'n=100', 'no-warmup', '-schema', 'replication(factor=1)',
                      '-rate', 'threads=8'])
        cluster.stop(gently=False)
    
        output, error, rc = node1.run_sstablelevelreset("keyspace1", "standard1")
>       self._check_stderr_error(error)

offline_tools_test.py:56: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <offline_tools_test.TestOfflineTools object at 0x7fd2317a9f98>
error = "WARN  09:15:00,500 Small commitlog volume detected at '/tmp/dtest-7y51ye1a/test/node1/commitlogs'; setting commitlog_...22.693GiB free across all data volumes. Consider adding more capacity to your cluster or removing obsolete snapshots\n"

    def _check_stderr_error(self, error):
        acceptable = ["Max sstable size of",
                "Consider adding more capacity",
                "JNA link failure",
                "Class JavaLaunchHelper is implemented in both",
                "Picked up JAVA_TOOL_OPTIONS:"]
    
        if len(error) > 0:
            for line in error.splitlines():
>               assert any([msg in line for msg in acceptable]), \
                    'Found line \n\n"{line}"\n\n in error\n\n{error}'.format(line=line, error=error)
E               AssertionError: Found line 
E                 
E                 "WARN  09:15:00,500 Small commitlog volume detected at '/tmp/dtest-7y51ye1a/test/node1/commitlogs'; setting commitlog_total_space_in_mb to 3999.  You can override this in cassandra.yaml"
E                 
E                  in error
E                 
E                 WARN  09:15:00,500 Small commitlog volume detected at '/tmp/dtest-7y51ye1a/test/node1/commitlogs'; setting commitlog_total_space_in_mb to 3999.  You can override this in cassandra.yaml
E                 WARN  09:15:00,505 Only 22.693GiB free across all data volumes. Consider adding more capacity to your cluster or removing obsolete snapshots
E                 
E               assert False
E                +  where False = any([False, False, False, False, False])

offline_tools_test.py:463: AssertionError
---------------------------- Captured stdout setup -----------------------------
10:14:29,272 ccm DEBUG Log-watching thread starting.
------------------------------ Captured log setup ------------------------------
10:14:29,232 conftest INFO Starting execution of test_sstablelevelreset at 2022-01-11 10:14:29.232184
10:14:29,232 dtest_setup INFO cluster ccm directory: /tmp/dtest-7y51ye1a
----------------------------- Captured stdout call -----------------------------
10:14:59,395 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/users/masix/cassandra, env={'LS_COLORS': 'rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:', 'HOSTTYPE': 'x86_64-linux', 'SSH_CONNECTION': '104.6.248.234 65373 128.105.145.106 22', 'LESSCLOSE': '/usr/bin/lesspipe %s %s', 'LANG': 'en_US.UTF-8', 'OLDPWD': '/users/masix/vm_images/ZebraConf/app_meta', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'VENDOR': 'unknown', 'MACHTYPE': 'x86_64', 'OSTYPE': 'linux', 'XDG_SESSION_ID': '295', 'USER': 'masix', 'GROUP': 'postman-PG0', 'PWD': '/users/masix/cassandra-dtest', 'HOME': '/users/masix', 'HOST': 'node0.2-220g2.postman-pg0.wisc.cloudlab.us', 'SSH_CLIENT': '104.6.248.234 65373 22', 'SSH_TTY': '/dev/pts/1', 'MAIL': '/var/mail/masix', 'REMOTEHOST': '104.6.248.234', 'TERM': 'xterm-256color', 'SHELL': '/bin/tcsh', 'SHLVL': '4', 'ZEBRACONF_HOME': '/users/masix/vm_images/ZebraConf', 'LOGNAME': 'masix', 'XDG_RUNTIME_DIR': '/run/user/20001', 'PATH': '/users/masix/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games', 'LESSOPEN': '| /usr/bin/lesspipe %s', '_': '/users/masix/dtest/bin/pytest', 'PYTEST_CURRENT_TEST': 'offline_tools_test.py::TestOfflineTools::()::test_sstablelevelreset (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-7y51ye1a/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/users/masix/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-7y51ye1a/test/node1/conf'}
10:14:59,395 ccm INFO node1: using Java 8 for the current invocation
------------------------------ Captured log call -------------------------------
10:14:29,642 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/users/masix/cassandra, env={'LS_COLORS': 'rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:', 'HOSTTYPE': 'x86_64-linux', 'SSH_CONNECTION': '104.6.248.234 65373 128.105.145.106 22', 'LESSCLOSE': '/usr/bin/lesspipe %s %s', 'LANG': 'en_US.UTF-8', 'OLDPWD': '/users/masix/vm_images/ZebraConf/app_meta', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'VENDOR': 'unknown', 'MACHTYPE': 'x86_64', 'OSTYPE': 'linux', 'XDG_SESSION_ID': '295', 'USER': 'masix', 'GROUP': 'postman-PG0', 'PWD': '/users/masix/cassandra-dtest', 'HOME': '/users/masix', 'HOST': 'node0.2-220g2.postman-pg0.wisc.cloudlab.us', 'SSH_CLIENT': '104.6.248.234 65373 22', 'SSH_TTY': '/dev/pts/1', 'MAIL': '/var/mail/masix', 'REMOTEHOST': '104.6.248.234', 'TERM': 'xterm-256color', 'SHELL': '/bin/tcsh', 'SHLVL': '4', 'ZEBRACONF_HOME': '/users/masix/vm_images/ZebraConf', 'LOGNAME': 'masix', 'XDG_RUNTIME_DIR': '/run/user/20001', 'PATH': '/users/masix/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games', 'LESSOPEN': '| /usr/bin/lesspipe %s', '_': '/users/masix/dtest/bin/pytest', 'PYTEST_CURRENT_TEST': 'offline_tools_test.py::TestOfflineTools::()::test_sstablelevelreset (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-7y51ye1a/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/users/masix/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-7y51ye1a/test/node1/conf'}
10:14:29,643 ccm INFO node1: using Java 8 for the current invocation
10:14:29,798 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/users/masix/cassandra, env={'LS_COLORS': 'rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:', 'HOSTTYPE': 'x86_64-linux', 'SSH_CONNECTION': '104.6.248.234 65373 128.105.145.106 22', 'LESSCLOSE': '/usr/bin/lesspipe %s %s', 'LANG': 'en_US.UTF-8', 'OLDPWD': '/users/masix/vm_images/ZebraConf/app_meta', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'VENDOR': 'unknown', 'MACHTYPE': 'x86_64', 'OSTYPE': 'linux', 'XDG_SESSION_ID': '295', 'USER': 'masix', 'GROUP': 'postman-PG0', 'PWD': '/users/masix/cassandra-dtest', 'HOME': '/users/masix', 'HOST': 'node0.2-220g2.postman-pg0.wisc.cloudlab.us', 'SSH_CLIENT': '104.6.248.234 65373 22', 'SSH_TTY': '/dev/pts/1', 'MAIL': '/var/mail/masix', 'REMOTEHOST': '104.6.248.234', 'TERM': 'xterm-256color', 'SHELL': '/bin/tcsh', 'SHLVL': '4', 'ZEBRACONF_HOME': '/users/masix/vm_images/ZebraConf', 'LOGNAME': 'masix', 'XDG_RUNTIME_DIR': '/run/user/20001', 'PATH': '/users/masix/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games', 'LESSOPEN': '| /usr/bin/lesspipe %s', '_': '/users/masix/dtest/bin/pytest', 'PYTEST_CURRENT_TEST': 'offline_tools_test.py::TestOfflineTools::()::test_sstablelevelreset (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-7y51ye1a/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/users/masix/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-7y51ye1a/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
10:14:29,799 ccm INFO node1: using Java 8 for the current invocation
10:14:29,876 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/users/masix/cassandra
10:14:30,388 ccmlib.node WARNING [msx] ccmlib:node.py:start(), self.name= node1, self.pid= 38926
10:14:30,389 ccmlib.cluster WARNING [msx] ccmlib:cluster.py:start() p.pid= 38829 node.name= node1 node.pid= 38926
10:14:38,267 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/users/masix/cassandra, env={'LS_COLORS': 'rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:', 'HOSTTYPE': 'x86_64-linux', 'SSH_CONNECTION': '104.6.248.234 65373 128.105.145.106 22', 'LESSCLOSE': '/usr/bin/lesspipe %s %s', 'LANG': 'en_US.UTF-8', 'OLDPWD': '/users/masix/vm_images/ZebraConf/app_meta', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'VENDOR': 'unknown', 'MACHTYPE': 'x86_64', 'OSTYPE': 'linux', 'XDG_SESSION_ID': '295', 'USER': 'masix', 'GROUP': 'postman-PG0', 'PWD': '/users/masix/cassandra-dtest', 'HOME': '/users/masix', 'HOST': 'node0.2-220g2.postman-pg0.wisc.cloudlab.us', 'SSH_CLIENT': '104.6.248.234 65373 22', 'SSH_TTY': '/dev/pts/1', 'MAIL': '/var/mail/masix', 'REMOTEHOST': '104.6.248.234', 'TERM': 'xterm-256color', 'SHELL': '/bin/tcsh', 'SHLVL': '4', 'ZEBRACONF_HOME': '/users/masix/vm_images/ZebraConf', 'LOGNAME': 'masix', 'XDG_RUNTIME_DIR': '/run/user/20001', 'PATH': '/users/masix/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games', 'LESSOPEN': '| /usr/bin/lesspipe %s', '_': '/users/masix/dtest/bin/pytest', 'PYTEST_CURRENT_TEST': 'offline_tools_test.py::TestOfflineTools::()::test_sstablelevelreset (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-7y51ye1a/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/users/masix/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-7y51ye1a/test/node1/conf'}
10:14:38,268 ccm INFO node1: using Java 8 for the current invocation
10:14:40,936 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/users/masix/cassandra, env={'LS_COLORS': 'rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:', 'HOSTTYPE': 'x86_64-linux', 'SSH_CONNECTION': '104.6.248.234 65373 128.105.145.106 22', 'LESSCLOSE': '/usr/bin/lesspipe %s %s', 'LANG': 'en_US.UTF-8', 'OLDPWD': '/users/masix/vm_images/ZebraConf/app_meta', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'VENDOR': 'unknown', 'MACHTYPE': 'x86_64', 'OSTYPE': 'linux', 'XDG_SESSION_ID': '295', 'USER': 'masix', 'GROUP': 'postman-PG0', 'PWD': '/users/masix/cassandra-dtest', 'HOME': '/users/masix', 'HOST': 'node0.2-220g2.postman-pg0.wisc.cloudlab.us', 'SSH_CLIENT': '104.6.248.234 65373 22', 'SSH_TTY': '/dev/pts/1', 'MAIL': '/var/mail/masix', 'REMOTEHOST': '104.6.248.234', 'TERM': 'xterm-256color', 'SHELL': '/bin/tcsh', 'SHLVL': '4', 'ZEBRACONF_HOME': '/users/masix/vm_images/ZebraConf', 'LOGNAME': 'masix', 'XDG_RUNTIME_DIR': '/run/user/20001', 'PATH': '/users/masix/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games', 'LESSOPEN': '| /usr/bin/lesspipe %s', '_': '/users/masix/dtest/bin/pytest', 'PYTEST_CURRENT_TEST': 'offline_tools_test.py::TestOfflineTools::()::test_sstablelevelreset (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-7y51ye1a/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/users/masix/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-7y51ye1a/test/node1/conf'}
10:14:40,937 ccm INFO node1: using Java 8 for the current invocation
10:14:41,97 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/users/masix/cassandra, env={'LS_COLORS': 'rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:', 'HOSTTYPE': 'x86_64-linux', 'SSH_CONNECTION': '104.6.248.234 65373 128.105.145.106 22', 'LESSCLOSE': '/usr/bin/lesspipe %s %s', 'LANG': 'en_US.UTF-8', 'OLDPWD': '/users/masix/vm_images/ZebraConf/app_meta', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'VENDOR': 'unknown', 'MACHTYPE': 'x86_64', 'OSTYPE': 'linux', 'XDG_SESSION_ID': '295', 'USER': 'masix', 'GROUP': 'postman-PG0', 'PWD': '/users/masix/cassandra-dtest', 'HOME': '/users/masix', 'HOST': 'node0.2-220g2.postman-pg0.wisc.cloudlab.us', 'SSH_CLIENT': '104.6.248.234 65373 22', 'SSH_TTY': '/dev/pts/1', 'MAIL': '/var/mail/masix', 'REMOTEHOST': '104.6.248.234', 'TERM': 'xterm-256color', 'SHELL': '/bin/tcsh', 'SHLVL': '4', 'ZEBRACONF_HOME': '/users/masix/vm_images/ZebraConf', 'LOGNAME': 'masix', 'XDG_RUNTIME_DIR': '/run/user/20001', 'PATH': '/users/masix/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games', 'LESSOPEN': '| /usr/bin/lesspipe %s', '_': '/users/masix/dtest/bin/pytest', 'PYTEST_CURRENT_TEST': 'offline_tools_test.py::TestOfflineTools::()::test_sstablelevelreset (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-7y51ye1a/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/users/masix/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-7y51ye1a/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
10:14:41,97 ccm INFO node1: using Java 8 for the current invocation
10:14:41,185 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/users/masix/cassandra
10:14:41,698 ccmlib.node WARNING [msx] ccmlib:node.py:start(), self.name= node1, self.pid= 39696
10:14:41,700 ccmlib.cluster WARNING [msx] ccmlib:cluster.py:start() p.pid= 39599 node.name= node1 node.pid= 39696
10:14:59,395 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/users/masix/cassandra, env={'LS_COLORS': 'rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:', 'HOSTTYPE': 'x86_64-linux', 'SSH_CONNECTION': '104.6.248.234 65373 128.105.145.106 22', 'LESSCLOSE': '/usr/bin/lesspipe %s %s', 'LANG': 'en_US.UTF-8', 'OLDPWD': '/users/masix/vm_images/ZebraConf/app_meta', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'VENDOR': 'unknown', 'MACHTYPE': 'x86_64', 'OSTYPE': 'linux', 'XDG_SESSION_ID': '295', 'USER': 'masix', 'GROUP': 'postman-PG0', 'PWD': '/users/masix/cassandra-dtest', 'HOME': '/users/masix', 'HOST': 'node0.2-220g2.postman-pg0.wisc.cloudlab.us', 'SSH_CLIENT': '104.6.248.234 65373 22', 'SSH_TTY': '/dev/pts/1', 'MAIL': '/var/mail/masix', 'REMOTEHOST': '104.6.248.234', 'TERM': 'xterm-256color', 'SHELL': '/bin/tcsh', 'SHLVL': '4', 'ZEBRACONF_HOME': '/users/masix/vm_images/ZebraConf', 'LOGNAME': 'masix', 'XDG_RUNTIME_DIR': '/run/user/20001', 'PATH': '/users/masix/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games', 'LESSOPEN': '| /usr/bin/lesspipe %s', '_': '/users/masix/dtest/bin/pytest', 'PYTEST_CURRENT_TEST': 'offline_tools_test.py::TestOfflineTools::()::test_sstablelevelreset (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-7y51ye1a/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/users/masix/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-7y51ye1a/test/node1/conf'}
10:14:59,395 ccm INFO node1: using Java 8 for the current invocation
--------------------------- Captured stdout teardown ---------------------------
10:15:02,361 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_sstablelevelreset failed and was not selected for rerun.
	<class 'AssertionError'>
	Found line 
  
  "WARN  09:15:00,500 Small commitlog volume detected at '/tmp/dtest-7y51ye1a/test/node1/commitlogs'; setting commitlog_total_space_in_mb to 3999.  You can override this in cassandra.yaml"
  
   in error
  
  WARN  09:15:00,500 Small commitlog volume detected at '/tmp/dtest-7y51ye1a/test/node1/commitlogs'; setting commitlog_total_space_in_mb to 3999.  You can override this in cassandra.yaml
  WARN  09:15:00,505 Only 22.693GiB free across all data volumes. Consider adding more capacity to your cluster or removing obsolete snapshots
  
assert False
 +  where False = any([False, False, False, False, False])
	[<TracebackEntry /users/masix/cassandra-dtest/offline_tools_test.py:56>, <TracebackEntry /users/masix/cassandra-dtest/offline_tools_test.py:463>]

===End Flaky Test Report===
========================== 1 failed in 33.73 seconds ===========================
[msx] rc = 1
