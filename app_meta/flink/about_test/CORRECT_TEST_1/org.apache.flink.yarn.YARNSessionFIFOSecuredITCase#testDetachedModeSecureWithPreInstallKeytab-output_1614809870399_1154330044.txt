Mar 03, 2021 10:16:56 PM com.sun.jersey.guice.spi.container.GuiceComponentProviderFactory register
INFO: Registering org.apache.hadoop.yarn.server.resourcemanager.webapp.JAXBContextResolver as a provider class
Mar 03, 2021 10:16:56 PM com.sun.jersey.guice.spi.container.GuiceComponentProviderFactory register
INFO: Registering org.apache.hadoop.yarn.server.resourcemanager.webapp.RMWebServices as a root resource class
Mar 03, 2021 10:16:56 PM com.sun.jersey.guice.spi.container.GuiceComponentProviderFactory register
INFO: Registering org.apache.hadoop.yarn.webapp.GenericExceptionHandler as a provider class
Mar 03, 2021 10:16:56 PM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
INFO: Initiating Jersey application, version 'Jersey: 1.9 09/02/2011 11:17 AM'
Mar 03, 2021 10:16:56 PM com.sun.jersey.guice.spi.container.GuiceComponentProviderFactory getComponentProvider
INFO: Binding org.apache.hadoop.yarn.server.resourcemanager.webapp.JAXBContextResolver to GuiceManagedComponentProvider with the scope "Singleton"
Mar 03, 2021 10:16:56 PM com.sun.jersey.guice.spi.container.GuiceComponentProviderFactory getComponentProvider
INFO: Binding org.apache.hadoop.yarn.webapp.GenericExceptionHandler to GuiceManagedComponentProvider with the scope "Singleton"
Mar 03, 2021 10:16:57 PM com.sun.jersey.guice.spi.container.GuiceComponentProviderFactory getComponentProvider
INFO: Binding org.apache.hadoop.yarn.server.resourcemanager.webapp.RMWebServices to GuiceManagedComponentProvider with the scope "Singleton"
Mar 03, 2021 10:16:57 PM com.google.inject.servlet.GuiceFilter setPipeline
WARNING: Multiple Servlet injectors detected. This is a warning indicating that you have more than one GuiceFilter running in your web application. If this is deliberate, you may safely ignore this message. If this is NOT deliberate however, your application may not work as expected.
Mar 03, 2021 10:16:57 PM com.sun.jersey.guice.spi.container.GuiceComponentProviderFactory register
INFO: Registering org.apache.hadoop.yarn.server.nodemanager.webapp.NMWebServices as a root resource class
Mar 03, 2021 10:16:57 PM com.sun.jersey.guice.spi.container.GuiceComponentProviderFactory register
INFO: Registering org.apache.hadoop.yarn.webapp.GenericExceptionHandler as a provider class
Mar 03, 2021 10:16:57 PM com.sun.jersey.guice.spi.container.GuiceComponentProviderFactory register
INFO: Registering org.apache.hadoop.yarn.server.nodemanager.webapp.JAXBContextResolver as a provider class
Mar 03, 2021 10:16:57 PM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
INFO: Initiating Jersey application, version 'Jersey: 1.9 09/02/2011 11:17 AM'
Mar 03, 2021 10:16:57 PM com.sun.jersey.guice.spi.container.GuiceComponentProviderFactory getComponentProvider
INFO: Binding org.apache.hadoop.yarn.server.nodemanager.webapp.JAXBContextResolver to GuiceManagedComponentProvider with the scope "Singleton"
Mar 03, 2021 10:16:57 PM com.sun.jersey.guice.spi.container.GuiceComponentProviderFactory getComponentProvider
INFO: Binding org.apache.hadoop.yarn.webapp.GenericExceptionHandler to GuiceManagedComponentProvider with the scope "Singleton"
Mar 03, 2021 10:16:58 PM com.sun.jersey.guice.spi.container.GuiceComponentProviderFactory getComponentProvider
INFO: Binding org.apache.hadoop.yarn.server.nodemanager.webapp.NMWebServices to GuiceManagedComponentProvider with the scope "Singleton"
Mar 03, 2021 10:16:58 PM com.google.inject.servlet.GuiceFilter setPipeline
WARNING: Multiple Servlet injectors detected. This is a warning indicating that you have more than one GuiceFilter running in your web application. If this is deliberate, you may safely ignore this message. If this is NOT deliberate however, your application may not work as expected.
Mar 03, 2021 10:16:58 PM com.sun.jersey.guice.spi.container.GuiceComponentProviderFactory register
INFO: Registering org.apache.hadoop.yarn.server.nodemanager.webapp.NMWebServices as a root resource class
Mar 03, 2021 10:16:58 PM com.sun.jersey.guice.spi.container.GuiceComponentProviderFactory register
INFO: Registering org.apache.hadoop.yarn.webapp.GenericExceptionHandler as a provider class
Mar 03, 2021 10:16:58 PM com.sun.jersey.guice.spi.container.GuiceComponentProviderFactory register
INFO: Registering org.apache.hadoop.yarn.server.nodemanager.webapp.JAXBContextResolver as a provider class
Mar 03, 2021 10:16:58 PM com.sun.jersey.server.impl.application.WebApplicationImpl _initiate
INFO: Initiating Jersey application, version 'Jersey: 1.9 09/02/2011 11:17 AM'
Mar 03, 2021 10:16:58 PM com.sun.jersey.guice.spi.container.GuiceComponentProviderFactory getComponentProvider
INFO: Binding org.apache.hadoop.yarn.server.nodemanager.webapp.JAXBContextResolver to GuiceManagedComponentProvider with the scope "Singleton"
Mar 03, 2021 10:16:58 PM com.sun.jersey.guice.spi.container.GuiceComponentProviderFactory getComponentProvider
INFO: Binding org.apache.hadoop.yarn.webapp.GenericExceptionHandler to GuiceManagedComponentProvider with the scope "Singleton"
Mar 03, 2021 10:16:58 PM com.sun.jersey.guice.spi.container.GuiceComponentProviderFactory getComponentProvider
INFO: Binding org.apache.hadoop.yarn.server.nodemanager.webapp.NMWebServices to GuiceManagedComponentProvider with the scope "Singleton"
msx-listener test started org.apache.flink.yarn.YARNSessionFIFOSecuredITCase#testDetachedModeSecureWithPreInstallKeytab
msx-listener unitTestCounterInClass = 0
msx-listener test Failure org.apache.flink.yarn.YARNSessionFIFOSecuredITCase#testDetachedModeSecureWithPreInstallKeytab
msx-listener INFO: writeFile, the original testName is org.apache.flink.yarn.YARNSessionFIFOSecuredITCase#testDetachedModeSecureWithPreInstallKeytab
msx-listener INFO: nameRemovePara = org.apache.flink.yarn.YARNSessionFIFOSecuredITCase#testDetachedModeSecureWithPreInstallKeytab
msx-listener INFO: write result to file /root/ZebraConf/runner/shared/test_results/org.apache.flink.yarn.YARNSessionFIFOSecuredITCase#testDetachedModeSecureWithPreInstallKeytab
msx-listener failed
msx-listener failureMessage: Runner failed with exception.
msx-listener stackTrace: java.lang.RuntimeException: Runner failed with exception.
	at org.apache.flink.yarn.YarnTestBase.startWithArgs(YarnTestBase.java:867)
	at org.apache.flink.yarn.YARNSessionFIFOITCase.lambda$runDetachedModeTest$1(YARNSessionFIFOITCase.java:131)
	at org.apache.flink.yarn.YarnTestBase.runTest(YarnTestBase.java:273)
	at org.apache.flink.yarn.YARNSessionFIFOITCase.runDetachedModeTest(YARNSessionFIFOITCase.java:94)
	at org.apache.flink.yarn.YARNSessionFIFOSecuredITCase.lambda$testDetachedModeSecureWithPreInstallKeytab$0(YARNSessionFIFOSecuredITCase.java:153)
	at org.apache.flink.yarn.YarnTestBase.runTest(YarnTestBase.java:273)
	at org.apache.flink.yarn.YARNSessionFIFOSecuredITCase.testDetachedModeSecureWithPreInstallKeytab(YARNSessionFIFOSecuredITCase.java:132)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.flink.client.deployment.ClusterDeploymentException: Couldn't deploy Yarn session cluster
	at org.apache.flink.yarn.YarnClusterDescriptor.deploySessionCluster(YarnClusterDescriptor.java:425)
	at org.apache.flink.yarn.cli.FlinkYarnSessionCli.run(FlinkYarnSessionCli.java:606)
	at org.apache.flink.yarn.YarnTestBase$Runner.run(YarnTestBase.java:1071)
Caused by: org.apache.flink.yarn.YarnClusterDescriptor$YarnDeploymentException: The YARN application unexpectedly switched to state FAILED during deployment. 
Diagnostics from YARN: Application application_1614809814661_0001 failed 1 times (global limit =2; local limit is =1) due to AM Container for appattempt_1614809814661_0001_000001 exited with  exitCode: 127
Failing this attempt.Diagnostics: Exception from container-launch.
Container id: container_1614809814661_0001_01_000001
Exit code: 127
Stack trace: ExitCodeException exitCode=127: 
	at org.apache.hadoop.util.Shell.runCommand(Shell.java:972)
	at org.apache.hadoop.util.Shell.run(Shell.java:869)
	at org.apache.hadoop.util.Shell$ShellCommandExecutor.execute(Shell.java:1170)
	at org.apache.hadoop.yarn.server.nodemanager.DefaultContainerExecutor.launchContainer(DefaultContainerExecutor.java:235)
	at org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch.call(ContainerLaunch.java:299)
	at org.apache.hadoop.yarn.server.nodemanager.containermanager.launcher.ContainerLaunch.call(ContainerLaunch.java:83)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)


Container exited with a non-zero exit code 127
For more detailed output, check the application tracking page: http://f853d750afbf:33295/cluster/app/application_1614809814661_0001 Then click on links to logs of each attempt.
. Failing the application.
If log aggregation is enabled on your cluster, use this command to further investigate the issue:
yarn logs -applicationId application_1614809814661_0001
	at org.apache.flink.yarn.YarnClusterDescriptor.startAppMaster(YarnClusterDescriptor.java:1200)
	at org.apache.flink.yarn.YarnClusterDescriptor.deployInternal(YarnClusterDescriptor.java:592)
	at org.apache.flink.yarn.YarnClusterDescriptor.deploySessionCluster(YarnClusterDescriptor.java:418)
	... 2 more

msx-listener testfinished org.apache.flink.yarn.YARNSessionFIFOSecuredITCase#testDetachedModeSecureWithPreInstallKeytab
msx-listener INFO: writeFile, the original testName is org.apache.flink.yarn.YARNSessionFIFOSecuredITCase#testDetachedModeSecureWithPreInstallKeytab
msx-listener INFO: nameRemovePara = org.apache.flink.yarn.YARNSessionFIFOSecuredITCase#testDetachedModeSecureWithPreInstallKeytab
msx-listener INFO: file existed /root/ZebraConf/runner/shared/test_results/org.apache.flink.yarn.YARNSessionFIFOSecuredITCase#testDetachedModeSecureWithPreInstallKeytab
msx-listener succeed
msx-listener all testRunFinished
msx-output-log /root/flink-1.12.1/flink-yarn-tests/target/surefire-reports/org.apache.flink.yarn.YARNSessionFIFOSecuredITCase-output.txt
msx-rc 1
