my_type=hypothesis
proj=cassandra
u_test=sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
h_list[1]=range_request_timeout_in_ms@@@Tool@@@-1@@@50@@@15000
proj: cassandra
u_test: sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
h_list: range_request_timeout_in_ms@@@Tool@@@-1@@@50@@@15000
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction FAILED      [100%]

=================================== FAILURES ===================================
____________________ TestSSTableUtil.test_abortedcompaction ____________________

self = <sstableutil_test.TestSSTableUtil object at 0x7f8fc7b897b8>

    def test_abortedcompaction(self):
        """
            @jira_ticket CASSANDRA-7066
            @jira_ticket CASSANDRA-11497
    
            Check that we can cleanup temporary files after a compaction is aborted.
            """
        log_file_name = 'debug.log'
        cluster = self.cluster
        cluster.populate(1).start()
        node = cluster.nodelist()[0]
    
        numrecords = 250000
    
>       self._create_data(node, KeyspaceName, TableName, numrecords)

sstableutil_test.py:66: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
sstableutil_test.py:111: in _create_data
    node.stress(['write', 'n=1', 'no-warmup', '-rate', 'threads=1'])
../dtest/lib/python3.6/site-packages/ccmlib/node.py:1502: in stress
    return handle_external_tool_process(p, ['stress'] + stress_options)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

process = <subprocess.Popen object at 0x7f8fce066550>
cmd_args = ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1']

    def handle_external_tool_process(process, cmd_args):
        out, err = process.communicate()
        if (out is not None) and isinstance(out, bytes):
            out = out.decode()
        if (err is not None) and isinstance(err, bytes):
            err = err.decode()
        rc = process.returncode
    
        if rc != 0:
>           raise ToolError(cmd_args, rc, out, err)
E           ccmlib.node.ToolError: Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
E           stdout: ******************** Stress Settings ********************
E           Command:
E             Type: write
E             Count: 1
E             No Warmup: true
E             Consistency Level: LOCAL_ONE
E             Target Uncertainty: not applicable
E             Key Size (bytes): 10
E             Counter Increment Distibution: add=fixed(1)
E           Rate:
E             Auto: false
E             Thread Count: 1
E             OpsPer Sec: 0
E           Population:
E             Sequence: 1..1
E             Order: ARBITRARY
E             Wrap: true
E           Insert:
E             Revisits: Uniform:  min=1,max=1000000
E             Visits: Fixed:  key=1
E             Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
E             Batch Type: not batching
E           Columns:
E             Max Columns Per Key: 5
E             Column Names: [C0, C1, C2, C3, C4]
E             Comparator: AsciiType
E             Timestamp: null
E             Variable Column Count: false
E             Slice: false
E             Size Distribution: Fixed:  key=34
E             Count Distribution: Fixed:  key=5
E           Errors:
E             Ignore: false
E             Tries: 10
E           Log:
E             No Summary: false
E             No Settings: false
E             File: null
E             Interval Millis: 1000
E             Level: NORMAL
E           Mode:
E             API: JAVA_DRIVER_NATIVE
E             Connection Style: CQL_PREPARED
E             CQL Version: CQL3
E             Protocol Version: V5
E             Username: null
E             Password: null
E             Auth Provide Class: null
E             Max Pending Per Connection: 128
E             Connections Per Host: 8
E             Compression: NONE
E           Node:
E             Nodes: [127.0.0.1]
E             Is White List: false
E             Datacenter: null
E           Schema:
E             Keyspace: keyspace1
E             Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
E             Replication Strategy Options: {replication_factor=1}
E             Table Compression: null
E             Table Compaction Strategy: null
E             Table Compaction Strategy Options: {}
E           Transport:
E             truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
E           Port:
E             Native Port: 9042
E             JMX Port: 7100
E           Send To Daemon:
E             *not set*
E           Graph:
E             File: null
E             Revision: unknown
E             Title: null
E             Operation: WRITE
E           TokenRange:
E             Wrap: false
E             Split Factor: 1
E           
E           ; 
E           stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
E           	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
E           	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
E           	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
E           	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
E           	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
E           Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
E           	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
E           	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
E           	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
E           	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
E           	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
E           	... 6 more

../dtest/lib/python3.6/site-packages/ccmlib/node.py:2305: ToolError
---------------------------- Captured stdout setup -----------------------------
21:19:37,58 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
21:19:36,780 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 21:19:36.780424
21:19:36,958 dtest_setup INFO cluster ccm directory: /tmp/dtest-kv_qem_7
----------------------------- Captured stdout call -----------------------------

21:19:37,60 ccm DEBUG using balanced tokens for non-vnode cluster
21:19:37,747 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-kv_qem_7/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-kv_qem_7/test/node1/conf'}
21:19:37,748 ccm INFO node1: using Java 8 for the current invocation
21:19:37,955 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-kv_qem_7/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-kv_qem_7/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:19:37,956 ccm INFO node1: using Java 8 for the current invocation
21:19:38,70 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
21:19:37,747 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-kv_qem_7/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-kv_qem_7/test/node1/conf'}
21:19:37,748 ccm INFO node1: using Java 8 for the current invocation
21:19:37,955 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-kv_qem_7/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-kv_qem_7/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:19:37,956 ccm INFO node1: using Java 8 for the current invocation
21:19:38,70 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
21:19:50,636 ccm DEBUG Log-watching thread exiting.
---------------------------- Captured stdout setup -----------------------------
21:19:53,275 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
21:19:53,48 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 21:19:53.048432
21:19:53,179 dtest_setup INFO cluster ccm directory: /tmp/dtest-9bqxiq14
----------------------------- Captured stdout call -----------------------------

21:19:53,278 ccm DEBUG using balanced tokens for non-vnode cluster
21:19:53,933 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-9bqxiq14/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-9bqxiq14/test/node1/conf'}
21:19:53,934 ccm INFO node1: using Java 8 for the current invocation
21:19:54,152 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-9bqxiq14/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-9bqxiq14/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:19:54,153 ccm INFO node1: using Java 8 for the current invocation
21:19:54,263 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
21:19:53,933 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-9bqxiq14/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-9bqxiq14/test/node1/conf'}
21:19:53,934 ccm INFO node1: using Java 8 for the current invocation
21:19:54,152 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-9bqxiq14/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-9bqxiq14/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:19:54,153 ccm INFO node1: using Java 8 for the current invocation
21:19:54,263 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
21:19:50,636 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
21:19:50,636 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
21:20:04,115 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_abortedcompaction failed (1 runs remaining out of 2).
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]
test_abortedcompaction failed; it passed 0 out of the required 1 times.
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]

===End Flaky Test Report===
========================== 1 failed in 27.87 seconds ===========================
[msx] rc = 1
v1v2 running time = 49621879302
---> v1v2 test failed.
proj: cassandra
u_test: sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
h_list: range_request_timeout_in_ms@@@Tool@@@-1@@@50@@@15000
vv_mode: v1v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction FAILED      [100%]

=================================== FAILURES ===================================
____________________ TestSSTableUtil.test_abortedcompaction ____________________

self = <sstableutil_test.TestSSTableUtil object at 0x7ff75be00e48>

    def test_abortedcompaction(self):
        """
            @jira_ticket CASSANDRA-7066
            @jira_ticket CASSANDRA-11497
    
            Check that we can cleanup temporary files after a compaction is aborted.
            """
        log_file_name = 'debug.log'
        cluster = self.cluster
        cluster.populate(1).start()
        node = cluster.nodelist()[0]
    
        numrecords = 250000
    
>       self._create_data(node, KeyspaceName, TableName, numrecords)

sstableutil_test.py:66: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
sstableutil_test.py:111: in _create_data
    node.stress(['write', 'n=1', 'no-warmup', '-rate', 'threads=1'])
../dtest/lib/python3.6/site-packages/ccmlib/node.py:1502: in stress
    return handle_external_tool_process(p, ['stress'] + stress_options)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

process = <subprocess.Popen object at 0x7ff75b5a3eb8>
cmd_args = ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1']

    def handle_external_tool_process(process, cmd_args):
        out, err = process.communicate()
        if (out is not None) and isinstance(out, bytes):
            out = out.decode()
        if (err is not None) and isinstance(err, bytes):
            err = err.decode()
        rc = process.returncode
    
        if rc != 0:
>           raise ToolError(cmd_args, rc, out, err)
E           ccmlib.node.ToolError: Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
E           stdout: ******************** Stress Settings ********************
E           Command:
E             Type: write
E             Count: 1
E             No Warmup: true
E             Consistency Level: LOCAL_ONE
E             Target Uncertainty: not applicable
E             Key Size (bytes): 10
E             Counter Increment Distibution: add=fixed(1)
E           Rate:
E             Auto: false
E             Thread Count: 1
E             OpsPer Sec: 0
E           Population:
E             Sequence: 1..1
E             Order: ARBITRARY
E             Wrap: true
E           Insert:
E             Revisits: Uniform:  min=1,max=1000000
E             Visits: Fixed:  key=1
E             Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
E             Batch Type: not batching
E           Columns:
E             Max Columns Per Key: 5
E             Column Names: [C0, C1, C2, C3, C4]
E             Comparator: AsciiType
E             Timestamp: null
E             Variable Column Count: false
E             Slice: false
E             Size Distribution: Fixed:  key=34
E             Count Distribution: Fixed:  key=5
E           Errors:
E             Ignore: false
E             Tries: 10
E           Log:
E             No Summary: false
E             No Settings: false
E             File: null
E             Interval Millis: 1000
E             Level: NORMAL
E           Mode:
E             API: JAVA_DRIVER_NATIVE
E             Connection Style: CQL_PREPARED
E             CQL Version: CQL3
E             Protocol Version: V5
E             Username: null
E             Password: null
E             Auth Provide Class: null
E             Max Pending Per Connection: 128
E             Connections Per Host: 8
E             Compression: NONE
E           Node:
E             Nodes: [127.0.0.1]
E             Is White List: false
E             Datacenter: null
E           Schema:
E             Keyspace: keyspace1
E             Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
E             Replication Strategy Options: {replication_factor=1}
E             Table Compression: null
E             Table Compaction Strategy: null
E             Table Compaction Strategy Options: {}
E           Transport:
E             truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
E           Port:
E             Native Port: 9042
E             JMX Port: 7100
E           Send To Daemon:
E             *not set*
E           Graph:
E             File: null
E             Revision: unknown
E             Title: null
E             Operation: WRITE
E           TokenRange:
E             Wrap: false
E             Split Factor: 1
E           
E           ; 
E           stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
E           	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
E           	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
E           	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
E           	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
E           	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
E           Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
E           	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
E           	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
E           	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
E           	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
E           	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
E           	... 6 more

../dtest/lib/python3.6/site-packages/ccmlib/node.py:2305: ToolError
---------------------------- Captured stdout setup -----------------------------
21:20:26,574 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
21:20:26,300 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 21:20:26.300025
21:20:26,462 dtest_setup INFO cluster ccm directory: /tmp/dtest-lzmuhgzj
----------------------------- Captured stdout call -----------------------------

21:20:26,578 ccm DEBUG using balanced tokens for non-vnode cluster
21:20:27,357 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-lzmuhgzj/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-lzmuhgzj/test/node1/conf'}
21:20:27,358 ccm INFO node1: using Java 8 for the current invocation
21:20:27,579 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-lzmuhgzj/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-lzmuhgzj/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:20:27,581 ccm INFO node1: using Java 8 for the current invocation
21:20:27,696 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
21:20:27,357 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-lzmuhgzj/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-lzmuhgzj/test/node1/conf'}
21:20:27,358 ccm INFO node1: using Java 8 for the current invocation
21:20:27,579 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-lzmuhgzj/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-lzmuhgzj/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:20:27,581 ccm INFO node1: using Java 8 for the current invocation
21:20:27,696 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
21:20:39,671 ccm DEBUG Log-watching thread exiting.
---------------------------- Captured stdout setup -----------------------------
21:20:42,261 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
21:20:42,34 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 21:20:42.033947
21:20:42,164 dtest_setup INFO cluster ccm directory: /tmp/dtest-fwc5s0kf
----------------------------- Captured stdout call -----------------------------

21:20:42,264 ccm DEBUG using balanced tokens for non-vnode cluster
21:20:42,927 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-fwc5s0kf/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-fwc5s0kf/test/node1/conf'}
21:20:42,929 ccm INFO node1: using Java 8 for the current invocation
21:20:43,155 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-fwc5s0kf/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-fwc5s0kf/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:20:43,156 ccm INFO node1: using Java 8 for the current invocation
21:20:43,264 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
21:20:42,927 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-fwc5s0kf/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-fwc5s0kf/test/node1/conf'}
21:20:42,929 ccm INFO node1: using Java 8 for the current invocation
21:20:43,155 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-fwc5s0kf/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-fwc5s0kf/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:20:43,156 ccm INFO node1: using Java 8 for the current invocation
21:20:43,264 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
21:20:39,671 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
21:20:39,671 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
21:20:53,52 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_abortedcompaction failed (1 runs remaining out of 2).
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]
test_abortedcompaction failed; it passed 0 out of the required 1 times.
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]

===End Flaky Test Report===
========================== 1 failed in 27.34 seconds ===========================
[msx] rc = 1
v1v1 running time = 49020837138
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 115.14 seconds ==========================
[msx] rc = 0
v2v2 running time = 136789299410
---> v1v1 or v2v2 test failed.
v1v1 failed in a hypo test
proj: cassandra
u_test: sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
h_list: range_request_timeout_in_ms@@@Tool@@@-1@@@50@@@15000
vv_mode: v1v1
result: FAIL
failureMessage: 
stackTrace: 

cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction FAILED      [100%]

=================================== FAILURES ===================================
____________________ TestSSTableUtil.test_abortedcompaction ____________________

self = <sstableutil_test.TestSSTableUtil object at 0x7f61f8140b38>

    def test_abortedcompaction(self):
        """
            @jira_ticket CASSANDRA-7066
            @jira_ticket CASSANDRA-11497
    
            Check that we can cleanup temporary files after a compaction is aborted.
            """
        log_file_name = 'debug.log'
        cluster = self.cluster
        cluster.populate(1).start()
        node = cluster.nodelist()[0]
    
        numrecords = 250000
    
>       self._create_data(node, KeyspaceName, TableName, numrecords)

sstableutil_test.py:66: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
sstableutil_test.py:111: in _create_data
    node.stress(['write', 'n=1', 'no-warmup', '-rate', 'threads=1'])
../dtest/lib/python3.6/site-packages/ccmlib/node.py:1502: in stress
    return handle_external_tool_process(p, ['stress'] + stress_options)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

process = <subprocess.Popen object at 0x7f61f81a6c50>
cmd_args = ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1']

    def handle_external_tool_process(process, cmd_args):
        out, err = process.communicate()
        if (out is not None) and isinstance(out, bytes):
            out = out.decode()
        if (err is not None) and isinstance(err, bytes):
            err = err.decode()
        rc = process.returncode
    
        if rc != 0:
>           raise ToolError(cmd_args, rc, out, err)
E           ccmlib.node.ToolError: Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
E           stdout: ******************** Stress Settings ********************
E           Command:
E             Type: write
E             Count: 1
E             No Warmup: true
E             Consistency Level: LOCAL_ONE
E             Target Uncertainty: not applicable
E             Key Size (bytes): 10
E             Counter Increment Distibution: add=fixed(1)
E           Rate:
E             Auto: false
E             Thread Count: 1
E             OpsPer Sec: 0
E           Population:
E             Sequence: 1..1
E             Order: ARBITRARY
E             Wrap: true
E           Insert:
E             Revisits: Uniform:  min=1,max=1000000
E             Visits: Fixed:  key=1
E             Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
E             Batch Type: not batching
E           Columns:
E             Max Columns Per Key: 5
E             Column Names: [C0, C1, C2, C3, C4]
E             Comparator: AsciiType
E             Timestamp: null
E             Variable Column Count: false
E             Slice: false
E             Size Distribution: Fixed:  key=34
E             Count Distribution: Fixed:  key=5
E           Errors:
E             Ignore: false
E             Tries: 10
E           Log:
E             No Summary: false
E             No Settings: false
E             File: null
E             Interval Millis: 1000
E             Level: NORMAL
E           Mode:
E             API: JAVA_DRIVER_NATIVE
E             Connection Style: CQL_PREPARED
E             CQL Version: CQL3
E             Protocol Version: V5
E             Username: null
E             Password: null
E             Auth Provide Class: null
E             Max Pending Per Connection: 128
E             Connections Per Host: 8
E             Compression: NONE
E           Node:
E             Nodes: [127.0.0.1]
E             Is White List: false
E             Datacenter: null
E           Schema:
E             Keyspace: keyspace1
E             Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
E             Replication Strategy Options: {replication_factor=1}
E             Table Compression: null
E             Table Compaction Strategy: null
E             Table Compaction Strategy Options: {}
E           Transport:
E             truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
E           Port:
E             Native Port: 9042
E             JMX Port: 7100
E           Send To Daemon:
E             *not set*
E           Graph:
E             File: null
E             Revision: unknown
E             Title: null
E             Operation: WRITE
E           TokenRange:
E             Wrap: false
E             Split Factor: 1
E           
E           ; 
E           stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
E           	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
E           	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
E           	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
E           	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
E           	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
E           Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
E           	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
E           	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
E           	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
E           	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
E           	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
E           	... 6 more

../dtest/lib/python3.6/site-packages/ccmlib/node.py:2305: ToolError
---------------------------- Captured stdout setup -----------------------------
21:23:32,282 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
21:23:32,105 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 21:23:32.105675
21:23:32,184 dtest_setup INFO cluster ccm directory: /tmp/dtest-_d_lhzo0
----------------------------- Captured stdout call -----------------------------

21:23:32,285 ccm DEBUG using balanced tokens for non-vnode cluster
21:23:32,925 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-_d_lhzo0/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-_d_lhzo0/test/node1/conf'}
21:23:32,927 ccm INFO node1: using Java 8 for the current invocation
21:23:33,156 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-_d_lhzo0/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-_d_lhzo0/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:23:33,157 ccm INFO node1: using Java 8 for the current invocation
21:23:33,271 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
21:23:32,925 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-_d_lhzo0/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-_d_lhzo0/test/node1/conf'}
21:23:32,927 ccm INFO node1: using Java 8 for the current invocation
21:23:33,156 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-_d_lhzo0/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-_d_lhzo0/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:23:33,157 ccm INFO node1: using Java 8 for the current invocation
21:23:33,271 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
21:23:45,78 ccm DEBUG Log-watching thread exiting.
---------------------------- Captured stdout setup -----------------------------
21:23:47,629 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
21:23:47,418 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 21:23:47.418701
21:23:47,531 dtest_setup INFO cluster ccm directory: /tmp/dtest-6v5zmdd6
----------------------------- Captured stdout call -----------------------------

21:23:47,632 ccm DEBUG using balanced tokens for non-vnode cluster
21:23:48,334 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-6v5zmdd6/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-6v5zmdd6/test/node1/conf'}
21:23:48,335 ccm INFO node1: using Java 8 for the current invocation
21:23:48,556 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-6v5zmdd6/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-6v5zmdd6/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:23:48,557 ccm INFO node1: using Java 8 for the current invocation
21:23:48,663 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
21:23:48,334 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-6v5zmdd6/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-6v5zmdd6/test/node1/conf'}
21:23:48,335 ccm INFO node1: using Java 8 for the current invocation
21:23:48,556 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-6v5zmdd6/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-6v5zmdd6/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:23:48,557 ccm INFO node1: using Java 8 for the current invocation
21:23:48,663 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
21:23:45,78 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
21:23:45,78 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
21:23:58,707 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_abortedcompaction failed (1 runs remaining out of 2).
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]
test_abortedcompaction failed; it passed 0 out of the required 1 times.
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]

===End Flaky Test Report===
========================== 1 failed in 27.17 seconds ===========================
[msx] rc = 1
v1v2 running time = 48850339466
---> v1v2 test failed.
proj: cassandra
u_test: sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
h_list: range_request_timeout_in_ms@@@Tool@@@-1@@@50@@@15000
vv_mode: v1v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction FAILED      [100%]

=================================== FAILURES ===================================
____________________ TestSSTableUtil.test_abortedcompaction ____________________

self = <sstableutil_test.TestSSTableUtil object at 0x7f36448a0b38>

    def test_abortedcompaction(self):
        """
            @jira_ticket CASSANDRA-7066
            @jira_ticket CASSANDRA-11497
    
            Check that we can cleanup temporary files after a compaction is aborted.
            """
        log_file_name = 'debug.log'
        cluster = self.cluster
        cluster.populate(1).start()
        node = cluster.nodelist()[0]
    
        numrecords = 250000
    
>       self._create_data(node, KeyspaceName, TableName, numrecords)

sstableutil_test.py:66: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
sstableutil_test.py:111: in _create_data
    node.stress(['write', 'n=1', 'no-warmup', '-rate', 'threads=1'])
../dtest/lib/python3.6/site-packages/ccmlib/node.py:1502: in stress
    return handle_external_tool_process(p, ['stress'] + stress_options)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

process = <subprocess.Popen object at 0x7f3644039828>
cmd_args = ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1']

    def handle_external_tool_process(process, cmd_args):
        out, err = process.communicate()
        if (out is not None) and isinstance(out, bytes):
            out = out.decode()
        if (err is not None) and isinstance(err, bytes):
            err = err.decode()
        rc = process.returncode
    
        if rc != 0:
>           raise ToolError(cmd_args, rc, out, err)
E           ccmlib.node.ToolError: Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
E           stdout: ******************** Stress Settings ********************
E           Command:
E             Type: write
E             Count: 1
E             No Warmup: true
E             Consistency Level: LOCAL_ONE
E             Target Uncertainty: not applicable
E             Key Size (bytes): 10
E             Counter Increment Distibution: add=fixed(1)
E           Rate:
E             Auto: false
E             Thread Count: 1
E             OpsPer Sec: 0
E           Population:
E             Sequence: 1..1
E             Order: ARBITRARY
E             Wrap: true
E           Insert:
E             Revisits: Uniform:  min=1,max=1000000
E             Visits: Fixed:  key=1
E             Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
E             Batch Type: not batching
E           Columns:
E             Max Columns Per Key: 5
E             Column Names: [C0, C1, C2, C3, C4]
E             Comparator: AsciiType
E             Timestamp: null
E             Variable Column Count: false
E             Slice: false
E             Size Distribution: Fixed:  key=34
E             Count Distribution: Fixed:  key=5
E           Errors:
E             Ignore: false
E             Tries: 10
E           Log:
E             No Summary: false
E             No Settings: false
E             File: null
E             Interval Millis: 1000
E             Level: NORMAL
E           Mode:
E             API: JAVA_DRIVER_NATIVE
E             Connection Style: CQL_PREPARED
E             CQL Version: CQL3
E             Protocol Version: V5
E             Username: null
E             Password: null
E             Auth Provide Class: null
E             Max Pending Per Connection: 128
E             Connections Per Host: 8
E             Compression: NONE
E           Node:
E             Nodes: [127.0.0.1]
E             Is White List: false
E             Datacenter: null
E           Schema:
E             Keyspace: keyspace1
E             Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
E             Replication Strategy Options: {replication_factor=1}
E             Table Compression: null
E             Table Compaction Strategy: null
E             Table Compaction Strategy Options: {}
E           Transport:
E             truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
E           Port:
E             Native Port: 9042
E             JMX Port: 7100
E           Send To Daemon:
E             *not set*
E           Graph:
E             File: null
E             Revision: unknown
E             Title: null
E             Operation: WRITE
E           TokenRange:
E             Wrap: false
E             Split Factor: 1
E           
E           ; 
E           stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
E           	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
E           	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
E           	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
E           	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
E           	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
E           Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
E           	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
E           	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
E           	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
E           	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
E           	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
E           	... 6 more

../dtest/lib/python3.6/site-packages/ccmlib/node.py:2305: ToolError
---------------------------- Captured stdout setup -----------------------------
21:24:21,108 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
21:24:20,888 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 21:24:20.888739
21:24:21,18 dtest_setup INFO cluster ccm directory: /tmp/dtest-g4g000l_
----------------------------- Captured stdout call -----------------------------

21:24:21,112 ccm DEBUG using balanced tokens for non-vnode cluster
21:24:21,743 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-g4g000l_/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-g4g000l_/test/node1/conf'}
21:24:21,744 ccm INFO node1: using Java 8 for the current invocation
21:24:21,960 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-g4g000l_/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-g4g000l_/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:24:21,961 ccm INFO node1: using Java 8 for the current invocation
21:24:22,73 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
21:24:21,743 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-g4g000l_/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-g4g000l_/test/node1/conf'}
21:24:21,744 ccm INFO node1: using Java 8 for the current invocation
21:24:21,960 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-g4g000l_/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-g4g000l_/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:24:21,961 ccm INFO node1: using Java 8 for the current invocation
21:24:22,73 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
21:24:34,157 ccm DEBUG Log-watching thread exiting.
---------------------------- Captured stdout setup -----------------------------
21:24:36,747 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
21:24:36,528 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 21:24:36.528051
21:24:36,638 dtest_setup INFO cluster ccm directory: /tmp/dtest-note8ibo
----------------------------- Captured stdout call -----------------------------

21:24:36,749 ccm DEBUG using balanced tokens for non-vnode cluster
21:24:37,551 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-note8ibo/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-note8ibo/test/node1/conf'}
21:24:37,552 ccm INFO node1: using Java 8 for the current invocation
21:24:37,790 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-note8ibo/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-note8ibo/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:24:37,790 ccm INFO node1: using Java 8 for the current invocation
21:24:37,905 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
21:24:37,551 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-note8ibo/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-note8ibo/test/node1/conf'}
21:24:37,552 ccm INFO node1: using Java 8 for the current invocation
21:24:37,790 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-note8ibo/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-note8ibo/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:24:37,790 ccm INFO node1: using Java 8 for the current invocation
21:24:37,905 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
21:24:34,157 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
21:24:34,157 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
21:24:48,791 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_abortedcompaction failed (1 runs remaining out of 2).
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]
test_abortedcompaction failed; it passed 0 out of the required 1 times.
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]

===End Flaky Test Report===
========================== 1 failed in 28.44 seconds ===========================
[msx] rc = 1
v1v1 running time = 50103233153
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 117.13 seconds ==========================
[msx] rc = 0
v2v2 running time = 138813186524
---> v1v1 or v2v2 test failed.
v1v1 failed in a hypo test
proj: cassandra
u_test: sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
h_list: range_request_timeout_in_ms@@@Tool@@@-1@@@50@@@15000
vv_mode: v1v1
result: FAIL
failureMessage: 
stackTrace: 

cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 117.71 seconds ==========================
[msx] rc = 0
v1v2 running time = 139337711377
---> v1v2 test suceeded.
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction FAILED      [100%]

=================================== FAILURES ===================================
____________________ TestSSTableUtil.test_abortedcompaction ____________________

self = <sstableutil_test.TestSSTableUtil object at 0x7f699d4858d0>

    def test_abortedcompaction(self):
        """
            @jira_ticket CASSANDRA-7066
            @jira_ticket CASSANDRA-11497
    
            Check that we can cleanup temporary files after a compaction is aborted.
            """
        log_file_name = 'debug.log'
        cluster = self.cluster
        cluster.populate(1).start()
        node = cluster.nodelist()[0]
    
        numrecords = 250000
    
>       self._create_data(node, KeyspaceName, TableName, numrecords)

sstableutil_test.py:66: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
sstableutil_test.py:111: in _create_data
    node.stress(['write', 'n=1', 'no-warmup', '-rate', 'threads=1'])
../dtest/lib/python3.6/site-packages/ccmlib/node.py:1502: in stress
    return handle_external_tool_process(p, ['stress'] + stress_options)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

process = <subprocess.Popen object at 0x7f699d4b6588>
cmd_args = ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1']

    def handle_external_tool_process(process, cmd_args):
        out, err = process.communicate()
        if (out is not None) and isinstance(out, bytes):
            out = out.decode()
        if (err is not None) and isinstance(err, bytes):
            err = err.decode()
        rc = process.returncode
    
        if rc != 0:
>           raise ToolError(cmd_args, rc, out, err)
E           ccmlib.node.ToolError: Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
E           stdout: ******************** Stress Settings ********************
E           Command:
E             Type: write
E             Count: 1
E             No Warmup: true
E             Consistency Level: LOCAL_ONE
E             Target Uncertainty: not applicable
E             Key Size (bytes): 10
E             Counter Increment Distibution: add=fixed(1)
E           Rate:
E             Auto: false
E             Thread Count: 1
E             OpsPer Sec: 0
E           Population:
E             Sequence: 1..1
E             Order: ARBITRARY
E             Wrap: true
E           Insert:
E             Revisits: Uniform:  min=1,max=1000000
E             Visits: Fixed:  key=1
E             Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
E             Batch Type: not batching
E           Columns:
E             Max Columns Per Key: 5
E             Column Names: [C0, C1, C2, C3, C4]
E             Comparator: AsciiType
E             Timestamp: null
E             Variable Column Count: false
E             Slice: false
E             Size Distribution: Fixed:  key=34
E             Count Distribution: Fixed:  key=5
E           Errors:
E             Ignore: false
E             Tries: 10
E           Log:
E             No Summary: false
E             No Settings: false
E             File: null
E             Interval Millis: 1000
E             Level: NORMAL
E           Mode:
E             API: JAVA_DRIVER_NATIVE
E             Connection Style: CQL_PREPARED
E             CQL Version: CQL3
E             Protocol Version: V5
E             Username: null
E             Password: null
E             Auth Provide Class: null
E             Max Pending Per Connection: 128
E             Connections Per Host: 8
E             Compression: NONE
E           Node:
E             Nodes: [127.0.0.1]
E             Is White List: false
E             Datacenter: null
E           Schema:
E             Keyspace: keyspace1
E             Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
E             Replication Strategy Options: {replication_factor=1}
E             Table Compression: null
E             Table Compaction Strategy: null
E             Table Compaction Strategy Options: {}
E           Transport:
E             truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
E           Port:
E             Native Port: 9042
E             JMX Port: 7100
E           Send To Daemon:
E             *not set*
E           Graph:
E             File: null
E             Revision: unknown
E             Title: null
E             Operation: WRITE
E           TokenRange:
E             Wrap: false
E             Split Factor: 1
E           
E           ; 
E           stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
E           	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
E           	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
E           	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
E           	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
E           	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
E           Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
E           	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
E           	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
E           	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
E           	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
E           	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
E           	... 6 more

../dtest/lib/python3.6/site-packages/ccmlib/node.py:2305: ToolError
---------------------------- Captured stdout setup -----------------------------
21:29:49,452 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
21:29:49,273 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 21:29:49.273310
21:29:49,352 dtest_setup INFO cluster ccm directory: /tmp/dtest-wwq88949
----------------------------- Captured stdout call -----------------------------

21:29:49,455 ccm DEBUG using balanced tokens for non-vnode cluster
21:29:50,105 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-wwq88949/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-wwq88949/test/node1/conf'}
21:29:50,107 ccm INFO node1: using Java 8 for the current invocation
21:29:50,335 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-wwq88949/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-wwq88949/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:29:50,336 ccm INFO node1: using Java 8 for the current invocation
21:29:50,446 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
21:29:50,105 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-wwq88949/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-wwq88949/test/node1/conf'}
21:29:50,107 ccm INFO node1: using Java 8 for the current invocation
21:29:50,335 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-wwq88949/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-wwq88949/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:29:50,336 ccm INFO node1: using Java 8 for the current invocation
21:29:50,446 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
21:30:03,566 ccm DEBUG Log-watching thread exiting.
---------------------------- Captured stdout setup -----------------------------
21:30:06,129 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
21:30:05,922 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 21:30:05.922862
21:30:06,33 dtest_setup INFO cluster ccm directory: /tmp/dtest-8c47hius
----------------------------- Captured stdout call -----------------------------

21:30:06,132 ccm DEBUG using balanced tokens for non-vnode cluster
21:30:06,871 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-8c47hius/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-8c47hius/test/node1/conf'}
21:30:06,872 ccm INFO node1: using Java 8 for the current invocation
21:30:07,99 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-8c47hius/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-8c47hius/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:30:07,100 ccm INFO node1: using Java 8 for the current invocation
21:30:07,210 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
21:30:06,871 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-8c47hius/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-8c47hius/test/node1/conf'}
21:30:06,872 ccm INFO node1: using Java 8 for the current invocation
21:30:07,99 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-8c47hius/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-8c47hius/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:30:07,100 ccm INFO node1: using Java 8 for the current invocation
21:30:07,210 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
21:30:03,566 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
21:30:03,566 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
21:30:17,682 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_abortedcompaction failed (1 runs remaining out of 2).
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]
test_abortedcompaction failed; it passed 0 out of the required 1 times.
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]

===End Flaky Test Report===
========================== 1 failed in 28.96 seconds ===========================
[msx] rc = 1
v1v1 running time = 50612599065
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 116.98 seconds ==========================
[msx] rc = 0
v2v2 running time = 138675868875
---> v1v1 or v2v2 test failed.
v1v1 failed in a hypo test
proj: cassandra
u_test: sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
h_list: range_request_timeout_in_ms@@@Tool@@@-1@@@50@@@15000
vv_mode: v1v1
result: FAIL
failureMessage: 
stackTrace: 

cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction FAILED      [100%]

=================================== FAILURES ===================================
____________________ TestSSTableUtil.test_abortedcompaction ____________________

self = <sstableutil_test.TestSSTableUtil object at 0x7f158638ab38>

    def test_abortedcompaction(self):
        """
            @jira_ticket CASSANDRA-7066
            @jira_ticket CASSANDRA-11497
    
            Check that we can cleanup temporary files after a compaction is aborted.
            """
        log_file_name = 'debug.log'
        cluster = self.cluster
        cluster.populate(1).start()
        node = cluster.nodelist()[0]
    
        numrecords = 250000
    
>       self._create_data(node, KeyspaceName, TableName, numrecords)

sstableutil_test.py:66: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
sstableutil_test.py:111: in _create_data
    node.stress(['write', 'n=1', 'no-warmup', '-rate', 'threads=1'])
../dtest/lib/python3.6/site-packages/ccmlib/node.py:1502: in stress
    return handle_external_tool_process(p, ['stress'] + stress_options)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

process = <subprocess.Popen object at 0x7f1585b2de80>
cmd_args = ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1']

    def handle_external_tool_process(process, cmd_args):
        out, err = process.communicate()
        if (out is not None) and isinstance(out, bytes):
            out = out.decode()
        if (err is not None) and isinstance(err, bytes):
            err = err.decode()
        rc = process.returncode
    
        if rc != 0:
>           raise ToolError(cmd_args, rc, out, err)
E           ccmlib.node.ToolError: Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
E           stdout: ******************** Stress Settings ********************
E           Command:
E             Type: write
E             Count: 1
E             No Warmup: true
E             Consistency Level: LOCAL_ONE
E             Target Uncertainty: not applicable
E             Key Size (bytes): 10
E             Counter Increment Distibution: add=fixed(1)
E           Rate:
E             Auto: false
E             Thread Count: 1
E             OpsPer Sec: 0
E           Population:
E             Sequence: 1..1
E             Order: ARBITRARY
E             Wrap: true
E           Insert:
E             Revisits: Uniform:  min=1,max=1000000
E             Visits: Fixed:  key=1
E             Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
E             Batch Type: not batching
E           Columns:
E             Max Columns Per Key: 5
E             Column Names: [C0, C1, C2, C3, C4]
E             Comparator: AsciiType
E             Timestamp: null
E             Variable Column Count: false
E             Slice: false
E             Size Distribution: Fixed:  key=34
E             Count Distribution: Fixed:  key=5
E           Errors:
E             Ignore: false
E             Tries: 10
E           Log:
E             No Summary: false
E             No Settings: false
E             File: null
E             Interval Millis: 1000
E             Level: NORMAL
E           Mode:
E             API: JAVA_DRIVER_NATIVE
E             Connection Style: CQL_PREPARED
E             CQL Version: CQL3
E             Protocol Version: V5
E             Username: null
E             Password: null
E             Auth Provide Class: null
E             Max Pending Per Connection: 128
E             Connections Per Host: 8
E             Compression: NONE
E           Node:
E             Nodes: [127.0.0.1]
E             Is White List: false
E             Datacenter: null
E           Schema:
E             Keyspace: keyspace1
E             Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
E             Replication Strategy Options: {replication_factor=1}
E             Table Compression: null
E             Table Compaction Strategy: null
E             Table Compaction Strategy Options: {}
E           Transport:
E             truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
E           Port:
E             Native Port: 9042
E             JMX Port: 7100
E           Send To Daemon:
E             *not set*
E           Graph:
E             File: null
E             Revision: unknown
E             Title: null
E             Operation: WRITE
E           TokenRange:
E             Wrap: false
E             Split Factor: 1
E           
E           ; 
E           stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
E           	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
E           	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
E           	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
E           	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
E           	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
E           Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
E           	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
E           	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
E           	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
E           	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
E           	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
E           	... 6 more

../dtest/lib/python3.6/site-packages/ccmlib/node.py:2305: ToolError
---------------------------- Captured stdout setup -----------------------------
21:32:58,737 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
21:32:58,480 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 21:32:58.479965
21:32:58,607 dtest_setup INFO cluster ccm directory: /tmp/dtest-97wr9spe
----------------------------- Captured stdout call -----------------------------

21:32:58,741 ccm DEBUG using balanced tokens for non-vnode cluster
21:32:59,498 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-97wr9spe/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-97wr9spe/test/node1/conf'}
21:32:59,498 ccm INFO node1: using Java 8 for the current invocation
21:32:59,725 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-97wr9spe/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-97wr9spe/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:32:59,726 ccm INFO node1: using Java 8 for the current invocation
21:32:59,825 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
21:32:59,498 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-97wr9spe/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-97wr9spe/test/node1/conf'}
21:32:59,498 ccm INFO node1: using Java 8 for the current invocation
21:32:59,725 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-97wr9spe/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-97wr9spe/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:32:59,726 ccm INFO node1: using Java 8 for the current invocation
21:32:59,825 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
21:33:13,47 ccm DEBUG Log-watching thread exiting.
---------------------------- Captured stdout setup -----------------------------
21:33:15,634 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
21:33:15,408 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 21:33:15.408145
21:33:15,537 dtest_setup INFO cluster ccm directory: /tmp/dtest-0xzf8qz7
----------------------------- Captured stdout call -----------------------------

21:33:15,636 ccm DEBUG using balanced tokens for non-vnode cluster
21:33:16,347 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-0xzf8qz7/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-0xzf8qz7/test/node1/conf'}
21:33:16,348 ccm INFO node1: using Java 8 for the current invocation
21:33:16,578 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-0xzf8qz7/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-0xzf8qz7/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:33:16,578 ccm INFO node1: using Java 8 for the current invocation
21:33:16,676 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
21:33:16,347 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-0xzf8qz7/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-0xzf8qz7/test/node1/conf'}
21:33:16,348 ccm INFO node1: using Java 8 for the current invocation
21:33:16,578 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-0xzf8qz7/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-0xzf8qz7/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:33:16,578 ccm INFO node1: using Java 8 for the current invocation
21:33:16,676 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
21:33:13,47 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
21:33:13,47 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
21:33:27,424 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_abortedcompaction failed (1 runs remaining out of 2).
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]
test_abortedcompaction failed; it passed 0 out of the required 1 times.
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]

===End Flaky Test Report===
========================== 1 failed in 29.49 seconds ===========================
[msx] rc = 1
v1v2 running time = 51058611585
---> v1v2 test failed.
proj: cassandra
u_test: sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
h_list: range_request_timeout_in_ms@@@Tool@@@-1@@@50@@@15000
vv_mode: v1v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction failed (1 runs remaining out of 2).
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]
test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 139.90 seconds ==========================
[msx] rc = 0
v1v1 running time = 161576913124
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 120.94 seconds ==========================
[msx] rc = 0
v2v2 running time = 142654342425
---> v1v1 and v2v2 test test suceeded.
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction FAILED      [100%]

=================================== FAILURES ===================================
____________________ TestSSTableUtil.test_abortedcompaction ____________________

self = <sstableutil_test.TestSSTableUtil object at 0x7f5f34b1ac18>

    def test_abortedcompaction(self):
        """
            @jira_ticket CASSANDRA-7066
            @jira_ticket CASSANDRA-11497
    
            Check that we can cleanup temporary files after a compaction is aborted.
            """
        log_file_name = 'debug.log'
        cluster = self.cluster
        cluster.populate(1).start()
        node = cluster.nodelist()[0]
    
        numrecords = 250000
    
>       self._create_data(node, KeyspaceName, TableName, numrecords)

sstableutil_test.py:66: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
sstableutil_test.py:111: in _create_data
    node.stress(['write', 'n=1', 'no-warmup', '-rate', 'threads=1'])
../dtest/lib/python3.6/site-packages/ccmlib/node.py:1502: in stress
    return handle_external_tool_process(p, ['stress'] + stress_options)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

process = <subprocess.Popen object at 0x7f5f342bc668>
cmd_args = ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1']

    def handle_external_tool_process(process, cmd_args):
        out, err = process.communicate()
        if (out is not None) and isinstance(out, bytes):
            out = out.decode()
        if (err is not None) and isinstance(err, bytes):
            err = err.decode()
        rc = process.returncode
    
        if rc != 0:
>           raise ToolError(cmd_args, rc, out, err)
E           ccmlib.node.ToolError: Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
E           stdout: ******************** Stress Settings ********************
E           Command:
E             Type: write
E             Count: 1
E             No Warmup: true
E             Consistency Level: LOCAL_ONE
E             Target Uncertainty: not applicable
E             Key Size (bytes): 10
E             Counter Increment Distibution: add=fixed(1)
E           Rate:
E             Auto: false
E             Thread Count: 1
E             OpsPer Sec: 0
E           Population:
E             Sequence: 1..1
E             Order: ARBITRARY
E             Wrap: true
E           Insert:
E             Revisits: Uniform:  min=1,max=1000000
E             Visits: Fixed:  key=1
E             Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
E             Batch Type: not batching
E           Columns:
E             Max Columns Per Key: 5
E             Column Names: [C0, C1, C2, C3, C4]
E             Comparator: AsciiType
E             Timestamp: null
E             Variable Column Count: false
E             Slice: false
E             Size Distribution: Fixed:  key=34
E             Count Distribution: Fixed:  key=5
E           Errors:
E             Ignore: false
E             Tries: 10
E           Log:
E             No Summary: false
E             No Settings: false
E             File: null
E             Interval Millis: 1000
E             Level: NORMAL
E           Mode:
E             API: JAVA_DRIVER_NATIVE
E             Connection Style: CQL_PREPARED
E             CQL Version: CQL3
E             Protocol Version: V5
E             Username: null
E             Password: null
E             Auth Provide Class: null
E             Max Pending Per Connection: 128
E             Connections Per Host: 8
E             Compression: NONE
E           Node:
E             Nodes: [127.0.0.1]
E             Is White List: false
E             Datacenter: null
E           Schema:
E             Keyspace: keyspace1
E             Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
E             Replication Strategy Options: {replication_factor=1}
E             Table Compression: null
E             Table Compaction Strategy: null
E             Table Compaction Strategy Options: {}
E           Transport:
E             truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
E           Port:
E             Native Port: 9042
E             JMX Port: 7100
E           Send To Daemon:
E             *not set*
E           Graph:
E             File: null
E             Revision: unknown
E             Title: null
E             Operation: WRITE
E           TokenRange:
E             Wrap: false
E             Split Factor: 1
E           
E           ; 
E           stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
E           	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
E           	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
E           	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
E           	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
E           	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
E           Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
E           	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
E           	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
E           	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
E           	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
E           	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
E           	... 6 more

../dtest/lib/python3.6/site-packages/ccmlib/node.py:2305: ToolError
---------------------------- Captured stdout setup -----------------------------
21:38:53,927 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
21:38:53,754 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 21:38:53.754082
21:38:53,833 dtest_setup INFO cluster ccm directory: /tmp/dtest-lkpe29of
----------------------------- Captured stdout call -----------------------------

21:38:53,930 ccm DEBUG using balanced tokens for non-vnode cluster
21:38:54,613 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-lkpe29of/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-lkpe29of/test/node1/conf'}
21:38:54,614 ccm INFO node1: using Java 8 for the current invocation
21:38:54,838 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-lkpe29of/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-lkpe29of/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:38:54,839 ccm INFO node1: using Java 8 for the current invocation
21:38:54,951 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
21:38:54,613 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-lkpe29of/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-lkpe29of/test/node1/conf'}
21:38:54,614 ccm INFO node1: using Java 8 for the current invocation
21:38:54,838 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-lkpe29of/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-lkpe29of/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:38:54,839 ccm INFO node1: using Java 8 for the current invocation
21:38:54,951 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
21:39:06,976 ccm DEBUG Log-watching thread exiting.
---------------------------- Captured stdout setup -----------------------------
1:39:09,589 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
21:39:09,400 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 21:39:09.400409
21:39:09,484 dtest_setup INFO cluster ccm directory: /tmp/dtest-2mckk73n
----------------------------- Captured stdout call -----------------------------
21:39:09,592 ccm DEBUG using balanced tokens for non-vnode cluster
21:39:10,323 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-2mckk73n/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-2mckk73n/test/node1/conf'}
21:39:10,325 ccm INFO node1: using Java 8 for the current invocation
21:39:10,545 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-2mckk73n/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-2mckk73n/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:39:10,546 ccm INFO node1: using Java 8 for the current invocation
21:39:10,638 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
21:39:10,323 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-2mckk73n/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-2mckk73n/test/node1/conf'}
21:39:10,325 ccm INFO node1: using Java 8 for the current invocation
21:39:10,545 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-2mckk73n/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-2mckk73n/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:39:10,546 ccm INFO node1: using Java 8 for the current invocation
21:39:10,638 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
21:39:06,976 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
21:39:06,976 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
21:39:21,657 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_abortedcompaction failed (1 runs remaining out of 2).
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]
test_abortedcompaction failed; it passed 0 out of the required 1 times.
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]

===End Flaky Test Report===
========================== 1 failed in 28.43 seconds ===========================
[msx] rc = 1
v1v2 running time = 50029255832
---> v1v2 test failed.
proj: cassandra
u_test: sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
h_list: range_request_timeout_in_ms@@@Tool@@@-1@@@50@@@15000
vv_mode: v1v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction FAILED      [100%]

=================================== FAILURES ===================================
____________________ TestSSTableUtil.test_abortedcompaction ____________________

self = <sstableutil_test.TestSSTableUtil object at 0x7f00d79909e8>

    def test_abortedcompaction(self):
        """
            @jira_ticket CASSANDRA-7066
            @jira_ticket CASSANDRA-11497
    
            Check that we can cleanup temporary files after a compaction is aborted.
            """
        log_file_name = 'debug.log'
        cluster = self.cluster
        cluster.populate(1).start()
        node = cluster.nodelist()[0]
    
        numrecords = 250000
    
>       self._create_data(node, KeyspaceName, TableName, numrecords)

sstableutil_test.py:66: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
sstableutil_test.py:111: in _create_data
    node.stress(['write', 'n=1', 'no-warmup', '-rate', 'threads=1'])
../dtest/lib/python3.6/site-packages/ccmlib/node.py:1502: in stress
    return handle_external_tool_process(p, ['stress'] + stress_options)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

process = <subprocess.Popen object at 0x7f00d79f6ba8>
cmd_args = ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1']

    def handle_external_tool_process(process, cmd_args):
        out, err = process.communicate()
        if (out is not None) and isinstance(out, bytes):
            out = out.decode()
        if (err is not None) and isinstance(err, bytes):
            err = err.decode()
        rc = process.returncode
    
        if rc != 0:
>           raise ToolError(cmd_args, rc, out, err)
E           ccmlib.node.ToolError: Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
E           stdout: ******************** Stress Settings ********************
E           Command:
E             Type: write
E             Count: 1
E             No Warmup: true
E             Consistency Level: LOCAL_ONE
E             Target Uncertainty: not applicable
E             Key Size (bytes): 10
E             Counter Increment Distibution: add=fixed(1)
E           Rate:
E             Auto: false
E             Thread Count: 1
E             OpsPer Sec: 0
E           Population:
E             Sequence: 1..1
E             Order: ARBITRARY
E             Wrap: true
E           Insert:
E             Revisits: Uniform:  min=1,max=1000000
E             Visits: Fixed:  key=1
E             Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
E             Batch Type: not batching
E           Columns:
E             Max Columns Per Key: 5
E             Column Names: [C0, C1, C2, C3, C4]
E             Comparator: AsciiType
E             Timestamp: null
E             Variable Column Count: false
E             Slice: false
E             Size Distribution: Fixed:  key=34
E             Count Distribution: Fixed:  key=5
E           Errors:
E             Ignore: false
E             Tries: 10
E           Log:
E             No Summary: false
E             No Settings: false
E             File: null
E             Interval Millis: 1000
E             Level: NORMAL
E           Mode:
E             API: JAVA_DRIVER_NATIVE
E             Connection Style: CQL_PREPARED
E             CQL Version: CQL3
E             Protocol Version: V5
E             Username: null
E             Password: null
E             Auth Provide Class: null
E             Max Pending Per Connection: 128
E             Connections Per Host: 8
E             Compression: NONE
E           Node:
E             Nodes: [127.0.0.1]
E             Is White List: false
E             Datacenter: null
E           Schema:
E             Keyspace: keyspace1
E             Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
E             Replication Strategy Options: {replication_factor=1}
E             Table Compression: null
E             Table Compaction Strategy: null
E             Table Compaction Strategy Options: {}
E           Transport:
E             truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
E           Port:
E             Native Port: 9042
E             JMX Port: 7100
E           Send To Daemon:
E             *not set*
E           Graph:
E             File: null
E             Revision: unknown
E             Title: null
E             Operation: WRITE
E           TokenRange:
E             Wrap: false
E             Split Factor: 1
E           
E           ; 
E           stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
E           	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
E           	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
E           	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
E           	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
E           	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
E           Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
E           	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
E           	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
E           	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
E           	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
E           	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
E           	... 6 more

../dtest/lib/python3.6/site-packages/ccmlib/node.py:2305: ToolError
---------------------------- Captured stdout setup -----------------------------
21:39:44,150 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
21:39:43,866 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 21:39:43.865981
21:39:44,14 dtest_setup INFO cluster ccm directory: /tmp/dtest-no1de47y
----------------------------- Captured stdout call -----------------------------

21:39:44,156 ccm DEBUG using balanced tokens for non-vnode cluster
21:39:44,968 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-no1de47y/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-no1de47y/test/node1/conf'}
21:39:44,969 ccm INFO node1: using Java 8 for the current invocation
21:39:45,186 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-no1de47y/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-no1de47y/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:39:45,187 ccm INFO node1: using Java 8 for the current invocation
21:39:45,299 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
21:39:44,968 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-no1de47y/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-no1de47y/test/node1/conf'}
21:39:44,969 ccm INFO node1: using Java 8 for the current invocation
21:39:45,186 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-no1de47y/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-no1de47y/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:39:45,187 ccm INFO node1: using Java 8 for the current invocation
21:39:45,299 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
21:39:58,704 ccm DEBUG Log-watching thread exiting.
---------------------------- Captured stdout setup -----------------------------
1:40:01,368 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
21:40:01,149 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 21:40:01.149847
21:40:01,243 dtest_setup INFO cluster ccm directory: /tmp/dtest-v51i0uu6
----------------------------- Captured stdout call -----------------------------
21:40:01,372 ccm DEBUG using balanced tokens for non-vnode cluster
21:40:02,127 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-v51i0uu6/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-v51i0uu6/test/node1/conf'}
21:40:02,129 ccm INFO node1: using Java 8 for the current invocation
21:40:02,361 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-v51i0uu6/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-v51i0uu6/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:40:02,362 ccm INFO node1: using Java 8 for the current invocation
21:40:02,474 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
21:40:02,127 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-v51i0uu6/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-v51i0uu6/test/node1/conf'}
21:40:02,129 ccm INFO node1: using Java 8 for the current invocation
21:40:02,361 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-v51i0uu6/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-v51i0uu6/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:40:02,362 ccm INFO node1: using Java 8 for the current invocation
21:40:02,474 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
21:39:58,704 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
21:39:58,704 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
21:40:13,189 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_abortedcompaction failed (1 runs remaining out of 2).
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]
test_abortedcompaction failed; it passed 0 out of the required 1 times.
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]

===End Flaky Test Report===
========================== 1 failed in 29.87 seconds ===========================
[msx] rc = 1
v1v1 running time = 51529894341
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 117.59 seconds ==========================
[msx] rc = 0
v2v2 running time = 139218113742
---> v1v1 or v2v2 test failed.
v1v1 failed in a hypo test
proj: cassandra
u_test: sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
h_list: range_request_timeout_in_ms@@@Tool@@@-1@@@50@@@15000
vv_mode: v1v1
result: FAIL
failureMessage: 
stackTrace: 

cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction FAILED      [100%]

=================================== FAILURES ===================================
____________________ TestSSTableUtil.test_abortedcompaction ____________________

self = <sstableutil_test.TestSSTableUtil object at 0x7f6c6f948b00>

    def test_abortedcompaction(self):
        """
            @jira_ticket CASSANDRA-7066
            @jira_ticket CASSANDRA-11497
    
            Check that we can cleanup temporary files after a compaction is aborted.
            """
        log_file_name = 'debug.log'
        cluster = self.cluster
        cluster.populate(1).start()
        node = cluster.nodelist()[0]
    
        numrecords = 250000
    
>       self._create_data(node, KeyspaceName, TableName, numrecords)

sstableutil_test.py:66: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
sstableutil_test.py:111: in _create_data
    node.stress(['write', 'n=1', 'no-warmup', '-rate', 'threads=1'])
../dtest/lib/python3.6/site-packages/ccmlib/node.py:1502: in stress
    return handle_external_tool_process(p, ['stress'] + stress_options)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

process = <subprocess.Popen object at 0x7f6c6f0df8d0>
cmd_args = ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1']

    def handle_external_tool_process(process, cmd_args):
        out, err = process.communicate()
        if (out is not None) and isinstance(out, bytes):
            out = out.decode()
        if (err is not None) and isinstance(err, bytes):
            err = err.decode()
        rc = process.returncode
    
        if rc != 0:
>           raise ToolError(cmd_args, rc, out, err)
E           ccmlib.node.ToolError: Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
E           stdout: ******************** Stress Settings ********************
E           Command:
E             Type: write
E             Count: 1
E             No Warmup: true
E             Consistency Level: LOCAL_ONE
E             Target Uncertainty: not applicable
E             Key Size (bytes): 10
E             Counter Increment Distibution: add=fixed(1)
E           Rate:
E             Auto: false
E             Thread Count: 1
E             OpsPer Sec: 0
E           Population:
E             Sequence: 1..1
E             Order: ARBITRARY
E             Wrap: true
E           Insert:
E             Revisits: Uniform:  min=1,max=1000000
E             Visits: Fixed:  key=1
E             Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
E             Batch Type: not batching
E           Columns:
E             Max Columns Per Key: 5
E             Column Names: [C0, C1, C2, C3, C4]
E             Comparator: AsciiType
E             Timestamp: null
E             Variable Column Count: false
E             Slice: false
E             Size Distribution: Fixed:  key=34
E             Count Distribution: Fixed:  key=5
E           Errors:
E             Ignore: false
E             Tries: 10
E           Log:
E             No Summary: false
E             No Settings: false
E             File: null
E             Interval Millis: 1000
E             Level: NORMAL
E           Mode:
E             API: JAVA_DRIVER_NATIVE
E             Connection Style: CQL_PREPARED
E             CQL Version: CQL3
E             Protocol Version: V5
E             Username: null
E             Password: null
E             Auth Provide Class: null
E             Max Pending Per Connection: 128
E             Connections Per Host: 8
E             Compression: NONE
E           Node:
E             Nodes: [127.0.0.1]
E             Is White List: false
E             Datacenter: null
E           Schema:
E             Keyspace: keyspace1
E             Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
E             Replication Strategy Options: {replication_factor=1}
E             Table Compression: null
E             Table Compaction Strategy: null
E             Table Compaction Strategy Options: {}
E           Transport:
E             truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
E           Port:
E             Native Port: 9042
E             JMX Port: 7100
E           Send To Daemon:
E             *not set*
E           Graph:
E             File: null
E             Revision: unknown
E             Title: null
E             Operation: WRITE
E           TokenRange:
E             Wrap: false
E             Split Factor: 1
E           
E           ; 
E           stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
E           	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
E           	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
E           	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
E           	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
E           	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
E           Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
E           	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
E           	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
E           	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
E           	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
E           	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
E           	... 6 more

../dtest/lib/python3.6/site-packages/ccmlib/node.py:2305: ToolError
---------------------------- Captured stdout setup -----------------------------
21:42:54,858 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
21:42:54,632 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 21:42:54.632486
21:42:54,761 dtest_setup INFO cluster ccm directory: /tmp/dtest-0iougen3
----------------------------- Captured stdout call -----------------------------
 21:42:54,863 ccm DEBUG using balanced tokens for non-vnode cluster
21:42:55,521 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-0iougen3/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-0iougen3/test/node1/conf'}
21:42:55,523 ccm INFO node1: using Java 8 for the current invocation
21:42:55,751 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-0iougen3/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-0iougen3/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:42:55,752 ccm INFO node1: using Java 8 for the current invocation
21:42:55,864 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
21:42:55,521 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-0iougen3/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-0iougen3/test/node1/conf'}
21:42:55,523 ccm INFO node1: using Java 8 for the current invocation
21:42:55,751 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-0iougen3/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-0iougen3/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:42:55,752 ccm INFO node1: using Java 8 for the current invocation
21:42:55,864 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
21:43:08,942 ccm DEBUG Log-watching thread exiting.
---------------------------- Captured stdout setup -----------------------------
21:43:11,545 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
21:43:11,332 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 21:43:11.332342
21:43:11,451 dtest_setup INFO cluster ccm directory: /tmp/dtest-051o_sjn
----------------------------- Captured stdout call -----------------------------
21:43:11,547 ccm DEBUG using balanced tokens for non-vnode cluster
21:43:12,322 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-051o_sjn/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-051o_sjn/test/node1/conf'}
21:43:12,323 ccm INFO node1: using Java 8 for the current invocation
21:43:12,546 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-051o_sjn/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-051o_sjn/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:43:12,547 ccm INFO node1: using Java 8 for the current invocation
21:43:12,662 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
21:43:12,322 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-051o_sjn/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-051o_sjn/test/node1/conf'}
21:43:12,323 ccm INFO node1: using Java 8 for the current invocation
21:43:12,546 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-051o_sjn/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-051o_sjn/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:43:12,547 ccm INFO node1: using Java 8 for the current invocation
21:43:12,662 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
21:43:08,942 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
21:43:08,942 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
21:43:24,89 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_abortedcompaction failed (1 runs remaining out of 2).
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]
test_abortedcompaction failed; it passed 0 out of the required 1 times.
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]

===End Flaky Test Report===
========================== 1 failed in 29.99 seconds ===========================
[msx] rc = 1
v1v2 running time = 51663394009
---> v1v2 test failed.
proj: cassandra
u_test: sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
h_list: range_request_timeout_in_ms@@@Tool@@@-1@@@50@@@15000
vv_mode: v1v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction FAILED      [100%]

=================================== FAILURES ===================================
____________________ TestSSTableUtil.test_abortedcompaction ____________________

self = <sstableutil_test.TestSSTableUtil object at 0x7f0fede9da90>

    def test_abortedcompaction(self):
        """
            @jira_ticket CASSANDRA-7066
            @jira_ticket CASSANDRA-11497
    
            Check that we can cleanup temporary files after a compaction is aborted.
            """
        log_file_name = 'debug.log'
        cluster = self.cluster
        cluster.populate(1).start()
        node = cluster.nodelist()[0]
    
        numrecords = 250000
    
>       self._create_data(node, KeyspaceName, TableName, numrecords)

sstableutil_test.py:66: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
sstableutil_test.py:111: in _create_data
    node.stress(['write', 'n=1', 'no-warmup', '-rate', 'threads=1'])
../dtest/lib/python3.6/site-packages/ccmlib/node.py:1502: in stress
    return handle_external_tool_process(p, ['stress'] + stress_options)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

process = <subprocess.Popen object at 0x7f0fed6338d0>
cmd_args = ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1']

    def handle_external_tool_process(process, cmd_args):
        out, err = process.communicate()
        if (out is not None) and isinstance(out, bytes):
            out = out.decode()
        if (err is not None) and isinstance(err, bytes):
            err = err.decode()
        rc = process.returncode
    
        if rc != 0:
>           raise ToolError(cmd_args, rc, out, err)
E           ccmlib.node.ToolError: Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
E           stdout: ******************** Stress Settings ********************
E           Command:
E             Type: write
E             Count: 1
E             No Warmup: true
E             Consistency Level: LOCAL_ONE
E             Target Uncertainty: not applicable
E             Key Size (bytes): 10
E             Counter Increment Distibution: add=fixed(1)
E           Rate:
E             Auto: false
E             Thread Count: 1
E             OpsPer Sec: 0
E           Population:
E             Sequence: 1..1
E             Order: ARBITRARY
E             Wrap: true
E           Insert:
E             Revisits: Uniform:  min=1,max=1000000
E             Visits: Fixed:  key=1
E             Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
E             Batch Type: not batching
E           Columns:
E             Max Columns Per Key: 5
E             Column Names: [C0, C1, C2, C3, C4]
E             Comparator: AsciiType
E             Timestamp: null
E             Variable Column Count: false
E             Slice: false
E             Size Distribution: Fixed:  key=34
E             Count Distribution: Fixed:  key=5
E           Errors:
E             Ignore: false
E             Tries: 10
E           Log:
E             No Summary: false
E             No Settings: false
E             File: null
E             Interval Millis: 1000
E             Level: NORMAL
E           Mode:
E             API: JAVA_DRIVER_NATIVE
E             Connection Style: CQL_PREPARED
E             CQL Version: CQL3
E             Protocol Version: V5
E             Username: null
E             Password: null
E             Auth Provide Class: null
E             Max Pending Per Connection: 128
E             Connections Per Host: 8
E             Compression: NONE
E           Node:
E             Nodes: [127.0.0.1]
E             Is White List: false
E             Datacenter: null
E           Schema:
E             Keyspace: keyspace1
E             Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
E             Replication Strategy Options: {replication_factor=1}
E             Table Compression: null
E             Table Compaction Strategy: null
E             Table Compaction Strategy Options: {}
E           Transport:
E             truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
E           Port:
E             Native Port: 9042
E             JMX Port: 7100
E           Send To Daemon:
E             *not set*
E           Graph:
E             File: null
E             Revision: unknown
E             Title: null
E             Operation: WRITE
E           TokenRange:
E             Wrap: false
E             Split Factor: 1
E           
E           ; 
E           stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
E           	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
E           	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
E           	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
E           	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
E           	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
E           Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
E           	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
E           	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
E           	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
E           	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
E           	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
E           	... 6 more

../dtest/lib/python3.6/site-packages/ccmlib/node.py:2305: ToolError
---------------------------- Captured stdout setup -----------------------------
21:43:46,495 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
21:43:46,294 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 21:43:46.294739
21:43:46,403 dtest_setup INFO cluster ccm directory: /tmp/dtest-a_370_dl
----------------------------- Captured stdout call -----------------------------

21:43:46,497 ccm DEBUG using balanced tokens for non-vnode cluster
21:43:47,154 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-a_370_dl/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-a_370_dl/test/node1/conf'}
21:43:47,155 ccm INFO node1: using Java 8 for the current invocation
21:43:47,362 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-a_370_dl/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-a_370_dl/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:43:47,363 ccm INFO node1: using Java 8 for the current invocation
21:43:47,470 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
21:43:47,154 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-a_370_dl/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-a_370_dl/test/node1/conf'}
21:43:47,155 ccm INFO node1: using Java 8 for the current invocation
21:43:47,362 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-a_370_dl/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-a_370_dl/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:43:47,363 ccm INFO node1: using Java 8 for the current invocation
21:43:47,470 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
21:43:59,542 ccm DEBUG Log-watching thread exiting.
---------------------------- Captured stdout setup -----------------------------
1:44:02,99 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
21:44:01,898 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 21:44:01.898801
21:44:02,10 dtest_setup INFO cluster ccm directory: /tmp/dtest-or3qzaoi
----------------------------- Captured stdout call -----------------------------
21:44:02,101 ccm DEBUG using balanced tokens for non-vnode cluster
21:44:02,851 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-or3qzaoi/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-or3qzaoi/test/node1/conf'}
21:44:02,852 ccm INFO node1: using Java 8 for the current invocation
21:44:03,73 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-or3qzaoi/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-or3qzaoi/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:44:03,74 ccm INFO node1: using Java 8 for the current invocation
21:44:03,175 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
21:44:02,851 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-or3qzaoi/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-or3qzaoi/test/node1/conf'}
21:44:02,852 ccm INFO node1: using Java 8 for the current invocation
21:44:03,73 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-or3qzaoi/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-or3qzaoi/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:44:03,74 ccm INFO node1: using Java 8 for the current invocation
21:44:03,175 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
21:43:59,542 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
21:43:59,542 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
21:44:13,156 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_abortedcompaction failed (1 runs remaining out of 2).
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]
test_abortedcompaction failed; it passed 0 out of the required 1 times.
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]

===End Flaky Test Report===
========================== 1 failed in 27.38 seconds ===========================
[msx] rc = 1
v1v1 running time = 49097769184
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 117.66 seconds ==========================
[msx] rc = 0
v2v2 running time = 139303440471
---> v1v1 or v2v2 test failed.
v1v1 failed in a hypo test
proj: cassandra
u_test: sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
h_list: range_request_timeout_in_ms@@@Tool@@@-1@@@50@@@15000
vv_mode: v1v1
result: FAIL
failureMessage: 
stackTrace: 

cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction FAILED      [100%]

=================================== FAILURES ===================================
____________________ TestSSTableUtil.test_abortedcompaction ____________________

self = <sstableutil_test.TestSSTableUtil object at 0x7fcbc4c24f60>

    def test_abortedcompaction(self):
        """
            @jira_ticket CASSANDRA-7066
            @jira_ticket CASSANDRA-11497
    
            Check that we can cleanup temporary files after a compaction is aborted.
            """
        log_file_name = 'debug.log'
        cluster = self.cluster
        cluster.populate(1).start()
        node = cluster.nodelist()[0]
    
        numrecords = 250000
    
>       self._create_data(node, KeyspaceName, TableName, numrecords)

sstableutil_test.py:66: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
sstableutil_test.py:111: in _create_data
    node.stress(['write', 'n=1', 'no-warmup', '-rate', 'threads=1'])
../dtest/lib/python3.6/site-packages/ccmlib/node.py:1502: in stress
    return handle_external_tool_process(p, ['stress'] + stress_options)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

process = <subprocess.Popen object at 0x7fcbc4c8ab70>
cmd_args = ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1']

    def handle_external_tool_process(process, cmd_args):
        out, err = process.communicate()
        if (out is not None) and isinstance(out, bytes):
            out = out.decode()
        if (err is not None) and isinstance(err, bytes):
            err = err.decode()
        rc = process.returncode
    
        if rc != 0:
>           raise ToolError(cmd_args, rc, out, err)
E           ccmlib.node.ToolError: Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
E           stdout: ******************** Stress Settings ********************
E           Command:
E             Type: write
E             Count: 1
E             No Warmup: true
E             Consistency Level: LOCAL_ONE
E             Target Uncertainty: not applicable
E             Key Size (bytes): 10
E             Counter Increment Distibution: add=fixed(1)
E           Rate:
E             Auto: false
E             Thread Count: 1
E             OpsPer Sec: 0
E           Population:
E             Sequence: 1..1
E             Order: ARBITRARY
E             Wrap: true
E           Insert:
E             Revisits: Uniform:  min=1,max=1000000
E             Visits: Fixed:  key=1
E             Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
E             Batch Type: not batching
E           Columns:
E             Max Columns Per Key: 5
E             Column Names: [C0, C1, C2, C3, C4]
E             Comparator: AsciiType
E             Timestamp: null
E             Variable Column Count: false
E             Slice: false
E             Size Distribution: Fixed:  key=34
E             Count Distribution: Fixed:  key=5
E           Errors:
E             Ignore: false
E             Tries: 10
E           Log:
E             No Summary: false
E             No Settings: false
E             File: null
E             Interval Millis: 1000
E             Level: NORMAL
E           Mode:
E             API: JAVA_DRIVER_NATIVE
E             Connection Style: CQL_PREPARED
E             CQL Version: CQL3
E             Protocol Version: V5
E             Username: null
E             Password: null
E             Auth Provide Class: null
E             Max Pending Per Connection: 128
E             Connections Per Host: 8
E             Compression: NONE
E           Node:
E             Nodes: [127.0.0.1]
E             Is White List: false
E             Datacenter: null
E           Schema:
E             Keyspace: keyspace1
E             Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
E             Replication Strategy Options: {replication_factor=1}
E             Table Compression: null
E             Table Compaction Strategy: null
E             Table Compaction Strategy Options: {}
E           Transport:
E             truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
E           Port:
E             Native Port: 9042
E             JMX Port: 7100
E           Send To Daemon:
E             *not set*
E           Graph:
E             File: null
E             Revision: unknown
E             Title: null
E             Operation: WRITE
E           TokenRange:
E             Wrap: false
E             Split Factor: 1
E           
E           ; 
E           stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
E           	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
E           	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
E           	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
E           	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
E           	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
E           Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
E           	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
E           	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
E           	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
E           	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
E           	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
E           	... 6 more

../dtest/lib/python3.6/site-packages/ccmlib/node.py:2305: ToolError
---------------------------- Captured stdout setup -----------------------------
21:46:54,984 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
21:46:54,778 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 21:46:54.778310
21:46:54,886 dtest_setup INFO cluster ccm directory: /tmp/dtest-_mma2tph
----------------------------- Captured stdout call -----------------------------
21:46:54,987 ccm DEBUG using balanced tokens for non-vnode cluster
21:46:55,644 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-_mma2tph/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-_mma2tph/test/node1/conf'}
21:46:55,645 ccm INFO node1: using Java 8 for the current invocation
21:46:55,858 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-_mma2tph/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-_mma2tph/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:46:55,860 ccm INFO node1: using Java 8 for the current invocation
21:46:55,968 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
21:46:55,644 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-_mma2tph/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-_mma2tph/test/node1/conf'}
21:46:55,645 ccm INFO node1: using Java 8 for the current invocation
21:46:55,858 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-_mma2tph/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-_mma2tph/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:46:55,860 ccm INFO node1: using Java 8 for the current invocation
21:46:55,968 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
21:47:09,35 ccm DEBUG Log-watching thread exiting.
---------------------------- Captured stdout setup -----------------------------
21:47:11,607 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
21:47:11,398 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 21:47:11.398044
21:47:11,511 dtest_setup INFO cluster ccm directory: /tmp/dtest-a2o9uyr1
----------------------------- Captured stdout call -----------------------------

21:47:11,609 ccm DEBUG using balanced tokens for non-vnode cluster
21:47:12,267 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-a2o9uyr1/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-a2o9uyr1/test/node1/conf'}
21:47:12,268 ccm INFO node1: using Java 8 for the current invocation
21:47:12,490 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-a2o9uyr1/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-a2o9uyr1/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:47:12,491 ccm INFO node1: using Java 8 for the current invocation
21:47:12,597 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
21:47:12,267 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-a2o9uyr1/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-a2o9uyr1/test/node1/conf'}
21:47:12,268 ccm INFO node1: using Java 8 for the current invocation
21:47:12,490 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-a2o9uyr1/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-a2o9uyr1/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:47:12,491 ccm INFO node1: using Java 8 for the current invocation
21:47:12,597 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
21:47:09,35 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
21:47:09,35 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
21:47:22,392 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_abortedcompaction failed (1 runs remaining out of 2).
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]
test_abortedcompaction failed; it passed 0 out of the required 1 times.
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]

===End Flaky Test Report===
========================== 1 failed in 28.16 seconds ===========================
[msx] rc = 1
v1v2 running time = 49903167618
---> v1v2 test failed.
proj: cassandra
u_test: sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
h_list: range_request_timeout_in_ms@@@Tool@@@-1@@@50@@@15000
vv_mode: v1v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 127.13 seconds ==========================
[msx] rc = 0
v1v1 running time = 148858295783
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 119.42 seconds ==========================
[msx] rc = 0
v2v2 running time = 141559613922
---> v1v1 and v2v2 test test suceeded.
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction failed (1 runs remaining out of 2).
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]
test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 138.16 seconds ==========================
[msx] rc = 0
v1v2 running time = 159787408239
---> v1v2 test suceeded.
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 117.09 seconds ==========================
[msx] rc = 0
v1v1 running time = 138655916251
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 122.72 seconds ==========================
[msx] rc = 0
v2v2 running time = 144425291997
---> v1v1 and v2v2 test test suceeded.
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction FAILED      [100%]

=================================== FAILURES ===================================
____________________ TestSSTableUtil.test_abortedcompaction ____________________

self = <sstableutil_test.TestSSTableUtil object at 0x7fd8d4400b00>

    def test_abortedcompaction(self):
        """
            @jira_ticket CASSANDRA-7066
            @jira_ticket CASSANDRA-11497
    
            Check that we can cleanup temporary files after a compaction is aborted.
            """
        log_file_name = 'debug.log'
        cluster = self.cluster
        cluster.populate(1).start()
        node = cluster.nodelist()[0]
    
        numrecords = 250000
    
>       self._create_data(node, KeyspaceName, TableName, numrecords)

sstableutil_test.py:66: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
sstableutil_test.py:111: in _create_data
    node.stress(['write', 'n=1', 'no-warmup', '-rate', 'threads=1'])
../dtest/lib/python3.6/site-packages/ccmlib/node.py:1502: in stress
    return handle_external_tool_process(p, ['stress'] + stress_options)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

process = <subprocess.Popen object at 0x7fd8d4400cf8>
cmd_args = ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1']

    def handle_external_tool_process(process, cmd_args):
        out, err = process.communicate()
        if (out is not None) and isinstance(out, bytes):
            out = out.decode()
        if (err is not None) and isinstance(err, bytes):
            err = err.decode()
        rc = process.returncode
    
        if rc != 0:
>           raise ToolError(cmd_args, rc, out, err)
E           ccmlib.node.ToolError: Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
E           stdout: ******************** Stress Settings ********************
E           Command:
E             Type: write
E             Count: 1
E             No Warmup: true
E             Consistency Level: LOCAL_ONE
E             Target Uncertainty: not applicable
E             Key Size (bytes): 10
E             Counter Increment Distibution: add=fixed(1)
E           Rate:
E             Auto: false
E             Thread Count: 1
E             OpsPer Sec: 0
E           Population:
E             Sequence: 1..1
E             Order: ARBITRARY
E             Wrap: true
E           Insert:
E             Revisits: Uniform:  min=1,max=1000000
E             Visits: Fixed:  key=1
E             Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
E             Batch Type: not batching
E           Columns:
E             Max Columns Per Key: 5
E             Column Names: [C0, C1, C2, C3, C4]
E             Comparator: AsciiType
E             Timestamp: null
E             Variable Column Count: false
E             Slice: false
E             Size Distribution: Fixed:  key=34
E             Count Distribution: Fixed:  key=5
E           Errors:
E             Ignore: false
E             Tries: 10
E           Log:
E             No Summary: false
E             No Settings: false
E             File: null
E             Interval Millis: 1000
E             Level: NORMAL
E           Mode:
E             API: JAVA_DRIVER_NATIVE
E             Connection Style: CQL_PREPARED
E             CQL Version: CQL3
E             Protocol Version: V5
E             Username: null
E             Password: null
E             Auth Provide Class: null
E             Max Pending Per Connection: 128
E             Connections Per Host: 8
E             Compression: NONE
E           Node:
E             Nodes: [127.0.0.1]
E             Is White List: false
E             Datacenter: null
E           Schema:
E             Keyspace: keyspace1
E             Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
E             Replication Strategy Options: {replication_factor=1}
E             Table Compression: null
E             Table Compaction Strategy: null
E             Table Compaction Strategy Options: {}
E           Transport:
E             truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
E           Port:
E             Native Port: 9042
E             JMX Port: 7100
E           Send To Daemon:
E             *not set*
E           Graph:
E             File: null
E             Revision: unknown
E             Title: null
E             Operation: WRITE
E           TokenRange:
E             Wrap: false
E             Split Factor: 1
E           
E           ; 
E           stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
E           	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
E           	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
E           	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
E           	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
E           	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
E           Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
E           	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
E           	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
E           	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
E           	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
E           	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
E           	... 6 more

../dtest/lib/python3.6/site-packages/ccmlib/node.py:2305: ToolError
---------------------------- Captured stdout setup -----------------------------
1:59:58,132 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
21:59:57,872 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 21:59:57.872307
21:59:58,36 dtest_setup INFO cluster ccm directory: /tmp/dtest-asngjy1g
----------------------------- Captured stdout call -----------------------------
21:59:58,135 ccm DEBUG using balanced tokens for non-vnode cluster
21:59:58,783 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-asngjy1g/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-asngjy1g/test/node1/conf'}
21:59:58,784 ccm INFO node1: using Java 8 for the current invocation
21:59:59,5 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-asngjy1g/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-asngjy1g/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:59:59,6 ccm INFO node1: using Java 8 for the current invocation
21:59:59,119 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
21:59:58,783 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-asngjy1g/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-asngjy1g/test/node1/conf'}
21:59:58,784 ccm INFO node1: using Java 8 for the current invocation
21:59:59,5 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-asngjy1g/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-asngjy1g/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
21:59:59,6 ccm INFO node1: using Java 8 for the current invocation
21:59:59,119 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
22:00:11,207 ccm DEBUG Log-watching thread exiting.
---------------------------- Captured stdout setup -----------------------------
22:00:13,734 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
22:00:13,523 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 22:00:13.523494
22:00:13,637 dtest_setup INFO cluster ccm directory: /tmp/dtest-fzljijem
----------------------------- Captured stdout call -----------------------------

22:00:13,736 ccm DEBUG using balanced tokens for non-vnode cluster
22:00:14,407 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-fzljijem/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-fzljijem/test/node1/conf'}
22:00:14,409 ccm INFO node1: using Java 8 for the current invocation
22:00:14,620 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-fzljijem/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-fzljijem/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
22:00:14,621 ccm INFO node1: using Java 8 for the current invocation
22:00:14,731 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
22:00:14,407 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-fzljijem/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-fzljijem/test/node1/conf'}
22:00:14,409 ccm INFO node1: using Java 8 for the current invocation
22:00:14,620 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-fzljijem/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-fzljijem/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
22:00:14,621 ccm INFO node1: using Java 8 for the current invocation
22:00:14,731 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
22:00:11,207 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
22:00:11,207 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
22:00:24,522 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_abortedcompaction failed (1 runs remaining out of 2).
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]
test_abortedcompaction failed; it passed 0 out of the required 1 times.
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]

===End Flaky Test Report===
========================== 1 failed in 27.15 seconds ===========================
[msx] rc = 1
v1v2 running time = 48889822890
---> v1v2 test failed.
proj: cassandra
u_test: sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
h_list: range_request_timeout_in_ms@@@Tool@@@-1@@@50@@@15000
vv_mode: v1v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 117.08 seconds ==========================
[msx] rc = 0
v1v1 running time = 138812226596
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 119.83 seconds ==========================
[msx] rc = 0
v2v2 running time = 141462374759
---> v1v1 and v2v2 test test suceeded.
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 119.64 seconds ==========================
[msx] rc = 0
v1v2 running time = 141488525140
---> v1v2 test suceeded.
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 121.74 seconds ==========================
[msx] rc = 0
v1v1 running time = 144007013042
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 120.60 seconds ==========================
[msx] rc = 0
v2v2 running time = 142319170421
---> v1v1 and v2v2 test test suceeded.
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction failed (1 runs remaining out of 2).
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]
test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 143.17 seconds ==========================
[msx] rc = 0
v1v2 running time = 164929038578
---> v1v2 test suceeded.
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 127.77 seconds ==========================
[msx] rc = 0
v1v1 running time = 149559543905
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 122.90 seconds ==========================
[msx] rc = 0
v2v2 running time = 144715777611
---> v1v1 and v2v2 test test suceeded.
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction failed (1 runs remaining out of 2).
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]
test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 137.10 seconds ==========================
[msx] rc = 0
v1v2 running time = 158861710092
---> v1v2 test suceeded.
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction FAILED      [100%]

=================================== FAILURES ===================================
____________________ TestSSTableUtil.test_abortedcompaction ____________________

self = <sstableutil_test.TestSSTableUtil object at 0x7f32886b5ac8>

    def test_abortedcompaction(self):
        """
            @jira_ticket CASSANDRA-7066
            @jira_ticket CASSANDRA-11497
    
            Check that we can cleanup temporary files after a compaction is aborted.
            """
        log_file_name = 'debug.log'
        cluster = self.cluster
        cluster.populate(1).start()
        node = cluster.nodelist()[0]
    
        numrecords = 250000
    
>       self._create_data(node, KeyspaceName, TableName, numrecords)

sstableutil_test.py:66: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
sstableutil_test.py:111: in _create_data
    node.stress(['write', 'n=1', 'no-warmup', '-rate', 'threads=1'])
../dtest/lib/python3.6/site-packages/ccmlib/node.py:1502: in stress
    return handle_external_tool_process(p, ['stress'] + stress_options)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

process = <subprocess.Popen object at 0x7f3287e4da58>
cmd_args = ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1']

    def handle_external_tool_process(process, cmd_args):
        out, err = process.communicate()
        if (out is not None) and isinstance(out, bytes):
            out = out.decode()
        if (err is not None) and isinstance(err, bytes):
            err = err.decode()
        rc = process.returncode
    
        if rc != 0:
>           raise ToolError(cmd_args, rc, out, err)
E           ccmlib.node.ToolError: Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
E           stdout: ******************** Stress Settings ********************
E           Command:
E             Type: write
E             Count: 1
E             No Warmup: true
E             Consistency Level: LOCAL_ONE
E             Target Uncertainty: not applicable
E             Key Size (bytes): 10
E             Counter Increment Distibution: add=fixed(1)
E           Rate:
E             Auto: false
E             Thread Count: 1
E             OpsPer Sec: 0
E           Population:
E             Sequence: 1..1
E             Order: ARBITRARY
E             Wrap: true
E           Insert:
E             Revisits: Uniform:  min=1,max=1000000
E             Visits: Fixed:  key=1
E             Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
E             Batch Type: not batching
E           Columns:
E             Max Columns Per Key: 5
E             Column Names: [C0, C1, C2, C3, C4]
E             Comparator: AsciiType
E             Timestamp: null
E             Variable Column Count: false
E             Slice: false
E             Size Distribution: Fixed:  key=34
E             Count Distribution: Fixed:  key=5
E           Errors:
E             Ignore: false
E             Tries: 10
E           Log:
E             No Summary: false
E             No Settings: false
E             File: null
E             Interval Millis: 1000
E             Level: NORMAL
E           Mode:
E             API: JAVA_DRIVER_NATIVE
E             Connection Style: CQL_PREPARED
E             CQL Version: CQL3
E             Protocol Version: V5
E             Username: null
E             Password: null
E             Auth Provide Class: null
E             Max Pending Per Connection: 128
E             Connections Per Host: 8
E             Compression: NONE
E           Node:
E             Nodes: [127.0.0.1]
E             Is White List: false
E             Datacenter: null
E           Schema:
E             Keyspace: keyspace1
E             Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
E             Replication Strategy Options: {replication_factor=1}
E             Table Compression: null
E             Table Compaction Strategy: null
E             Table Compaction Strategy Options: {}
E           Transport:
E             truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
E           Port:
E             Native Port: 9042
E             JMX Port: 7100
E           Send To Daemon:
E             *not set*
E           Graph:
E             File: null
E             Revision: unknown
E             Title: null
E             Operation: WRITE
E           TokenRange:
E             Wrap: false
E             Split Factor: 1
E           
E           ; 
E           stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
E           	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
E           	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
E           	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
E           	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
E           	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
E           Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
E           	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
E           	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
E           	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
E           	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
E           	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
E           	... 6 more

../dtest/lib/python3.6/site-packages/ccmlib/node.py:2305: ToolError
---------------------------- Captured stdout setup -----------------------------
22:22:53,223 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
22:22:53,5 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 22:22:53.005622
22:22:53,131 dtest_setup INFO cluster ccm directory: /tmp/dtest-35n5w58e
----------------------------- Captured stdout call -----------------------------
22:22:53,226 ccm DEBUG using balanced tokens for non-vnode cluster
22:22:53,993 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-35n5w58e/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-35n5w58e/test/node1/conf'}
22:22:53,994 ccm INFO node1: using Java 8 for the current invocation
22:22:54,219 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-35n5w58e/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-35n5w58e/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
22:22:54,220 ccm INFO node1: using Java 8 for the current invocation
22:22:54,331 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
22:22:53,993 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-35n5w58e/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-35n5w58e/test/node1/conf'}
22:22:53,994 ccm INFO node1: using Java 8 for the current invocation
22:22:54,219 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-35n5w58e/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-35n5w58e/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
22:22:54,220 ccm INFO node1: using Java 8 for the current invocation
22:22:54,331 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
22:23:07,288 ccm DEBUG Log-watching thread exiting.
---------------------------- Captured stdout setup -----------------------------
22:23:10,10 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
22:23:09,782 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 22:23:09.782338
22:23:09,911 dtest_setup INFO cluster ccm directory: /tmp/dtest-r9xznqaj
----------------------------- Captured stdout call -----------------------------
22:23:10,13 ccm DEBUG using balanced tokens for non-vnode cluster
22:23:10,706 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-r9xznqaj/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-r9xznqaj/test/node1/conf'}
22:23:10,707 ccm INFO node1: using Java 8 for the current invocation
22:23:10,929 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-r9xznqaj/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-r9xznqaj/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
22:23:10,930 ccm INFO node1: using Java 8 for the current invocation
22:23:11,40 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
22:23:10,706 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-r9xznqaj/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-r9xznqaj/test/node1/conf'}
22:23:10,707 ccm INFO node1: using Java 8 for the current invocation
22:23:10,929 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-r9xznqaj/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-r9xznqaj/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
22:23:10,930 ccm INFO node1: using Java 8 for the current invocation
22:23:11,40 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
22:23:07,288 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
22:23:07,288 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
22:23:21,803 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_abortedcompaction failed (1 runs remaining out of 2).
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]
test_abortedcompaction failed; it passed 0 out of the required 1 times.
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]

===End Flaky Test Report===
========================== 1 failed in 29.37 seconds ===========================
[msx] rc = 1
v1v1 running time = 51035380739
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 124.71 seconds ==========================
[msx] rc = 0
v2v2 running time = 146398097732
---> v1v1 or v2v2 test failed.
v1v1 failed in a hypo test
proj: cassandra
u_test: sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
h_list: range_request_timeout_in_ms@@@Tool@@@-1@@@50@@@15000
vv_mode: v1v1
result: FAIL
failureMessage: 
stackTrace: 

cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 119.96 seconds ==========================
[msx] rc = 0
v1v2 running time = 141647299140
---> v1v2 test suceeded.
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 125.10 seconds ==========================
[msx] rc = 0
v1v1 running time = 146812313535
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 125.13 seconds ==========================
[msx] rc = 0
v2v2 running time = 146945647271
---> v1v1 and v2v2 test test suceeded.
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 120.85 seconds ==========================
[msx] rc = 0
v1v2 running time = 142537602050
---> v1v2 test suceeded.
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction failed (1 runs remaining out of 2).
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]
test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 139.56 seconds ==========================
[msx] rc = 0
v1v1 running time = 161224119367
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 121.83 seconds ==========================
[msx] rc = 0
v2v2 running time = 143361777415
---> v1v1 and v2v2 test test suceeded.
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction failed (1 runs remaining out of 2).
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]
test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 140.64 seconds ==========================
[msx] rc = 0
v1v2 running time = 162326318357
---> v1v2 test suceeded.
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 130.41 seconds ==========================
[msx] rc = 0
v1v1 running time = 152041218890
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 121.59 seconds ==========================
[msx] rc = 0
v2v2 running time = 143316147519
---> v1v1 and v2v2 test test suceeded.
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction FAILED      [100%]

=================================== FAILURES ===================================
____________________ TestSSTableUtil.test_abortedcompaction ____________________

self = <sstableutil_test.TestSSTableUtil object at 0x7f8eb531b630>

    def test_abortedcompaction(self):
        """
            @jira_ticket CASSANDRA-7066
            @jira_ticket CASSANDRA-11497
    
            Check that we can cleanup temporary files after a compaction is aborted.
            """
        log_file_name = 'debug.log'
        cluster = self.cluster
        cluster.populate(1).start()
        node = cluster.nodelist()[0]
    
        numrecords = 250000
    
>       self._create_data(node, KeyspaceName, TableName, numrecords)

sstableutil_test.py:66: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
sstableutil_test.py:111: in _create_data
    node.stress(['write', 'n=1', 'no-warmup', '-rate', 'threads=1'])
../dtest/lib/python3.6/site-packages/ccmlib/node.py:1502: in stress
    return handle_external_tool_process(p, ['stress'] + stress_options)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

process = <subprocess.Popen object at 0x7f8eb531bd30>
cmd_args = ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1']

    def handle_external_tool_process(process, cmd_args):
        out, err = process.communicate()
        if (out is not None) and isinstance(out, bytes):
            out = out.decode()
        if (err is not None) and isinstance(err, bytes):
            err = err.decode()
        rc = process.returncode
    
        if rc != 0:
>           raise ToolError(cmd_args, rc, out, err)
E           ccmlib.node.ToolError: Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
E           stdout: ******************** Stress Settings ********************
E           Command:
E             Type: write
E             Count: 1
E             No Warmup: true
E             Consistency Level: LOCAL_ONE
E             Target Uncertainty: not applicable
E             Key Size (bytes): 10
E             Counter Increment Distibution: add=fixed(1)
E           Rate:
E             Auto: false
E             Thread Count: 1
E             OpsPer Sec: 0
E           Population:
E             Sequence: 1..1
E             Order: ARBITRARY
E             Wrap: true
E           Insert:
E             Revisits: Uniform:  min=1,max=1000000
E             Visits: Fixed:  key=1
E             Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
E             Batch Type: not batching
E           Columns:
E             Max Columns Per Key: 5
E             Column Names: [C0, C1, C2, C3, C4]
E             Comparator: AsciiType
E             Timestamp: null
E             Variable Column Count: false
E             Slice: false
E             Size Distribution: Fixed:  key=34
E             Count Distribution: Fixed:  key=5
E           Errors:
E             Ignore: false
E             Tries: 10
E           Log:
E             No Summary: false
E             No Settings: false
E             File: null
E             Interval Millis: 1000
E             Level: NORMAL
E           Mode:
E             API: JAVA_DRIVER_NATIVE
E             Connection Style: CQL_PREPARED
E             CQL Version: CQL3
E             Protocol Version: V5
E             Username: null
E             Password: null
E             Auth Provide Class: null
E             Max Pending Per Connection: 128
E             Connections Per Host: 8
E             Compression: NONE
E           Node:
E             Nodes: [127.0.0.1]
E             Is White List: false
E             Datacenter: null
E           Schema:
E             Keyspace: keyspace1
E             Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
E             Replication Strategy Options: {replication_factor=1}
E             Table Compression: null
E             Table Compaction Strategy: null
E             Table Compaction Strategy Options: {}
E           Transport:
E             truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
E           Port:
E             Native Port: 9042
E             JMX Port: 7100
E           Send To Daemon:
E             *not set*
E           Graph:
E             File: null
E             Revision: unknown
E             Title: null
E             Operation: WRITE
E           TokenRange:
E             Wrap: false
E             Split Factor: 1
E           
E           ; 
E           stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
E           	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
E           	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
E           	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
E           	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
E           	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
E           Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
E           	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
E           	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
E           	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
E           	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
E           	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
E           	... 6 more

../dtest/lib/python3.6/site-packages/ccmlib/node.py:2305: ToolError
---------------------------- Captured stdout setup -----------------------------
22:48:30,771 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
22:48:30,565 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 22:48:30.565738
22:48:30,678 dtest_setup INFO cluster ccm directory: /tmp/dtest-w8e8i2_s
----------------------------- Captured stdout call -----------------------------

22:48:30,773 ccm DEBUG using balanced tokens for non-vnode cluster
22:48:31,388 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-w8e8i2_s/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-w8e8i2_s/test/node1/conf'}
22:48:31,389 ccm INFO node1: using Java 8 for the current invocation
22:48:31,607 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-w8e8i2_s/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-w8e8i2_s/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
22:48:31,608 ccm INFO node1: using Java 8 for the current invocation
22:48:31,720 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
22:48:31,388 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-w8e8i2_s/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-w8e8i2_s/test/node1/conf'}
22:48:31,389 ccm INFO node1: using Java 8 for the current invocation
22:48:31,607 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-w8e8i2_s/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-w8e8i2_s/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
22:48:31,608 ccm INFO node1: using Java 8 for the current invocation
22:48:31,720 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
22:48:43,617 ccm DEBUG Log-watching thread exiting.
---------------------------- Captured stdout setup -----------------------------
2:48:46,154 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
22:48:45,947 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 22:48:45.947850
22:48:46,44 dtest_setup INFO cluster ccm directory: /tmp/dtest-okreavaa
----------------------------- Captured stdout call -----------------------------
22:48:46,156 ccm DEBUG using balanced tokens for non-vnode cluster
22:48:46,876 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-okreavaa/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-okreavaa/test/node1/conf'}
22:48:46,877 ccm INFO node1: using Java 8 for the current invocation
22:48:47,86 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-okreavaa/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-okreavaa/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
22:48:47,86 ccm INFO node1: using Java 8 for the current invocation
22:48:47,197 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
22:48:46,876 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-okreavaa/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-okreavaa/test/node1/conf'}
22:48:46,877 ccm INFO node1: using Java 8 for the current invocation
22:48:47,86 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-okreavaa/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-okreavaa/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
22:48:47,86 ccm INFO node1: using Java 8 for the current invocation
22:48:47,197 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
22:48:43,617 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
22:48:43,617 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
22:48:57,954 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_abortedcompaction failed (1 runs remaining out of 2).
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]
test_abortedcompaction failed; it passed 0 out of the required 1 times.
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]

===End Flaky Test Report===
========================== 1 failed in 27.91 seconds ===========================
[msx] rc = 1
v1v2 running time = 49485160361
---> v1v2 test failed.
proj: cassandra
u_test: sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
h_list: range_request_timeout_in_ms@@@Tool@@@-1@@@50@@@15000
vv_mode: v1v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction failed (1 runs remaining out of 2).
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]
test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 137.09 seconds ==========================
[msx] rc = 0
v1v1 running time = 158880310299
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 121.72 seconds ==========================
[msx] rc = 0
v2v2 running time = 143309769730
---> v1v1 and v2v2 test test suceeded.
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 121.73 seconds ==========================
[msx] rc = 0
v1v2 running time = 143459261524
---> v1v2 test suceeded.
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 124.39 seconds ==========================
[msx] rc = 0
v1v1 running time = 146047994713
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 118.17 seconds ==========================
[msx] rc = 0
v2v2 running time = 139873666498
---> v1v1 and v2v2 test test suceeded.
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 122.16 seconds ==========================
[msx] rc = 0
v1v2 running time = 143863553751
---> v1v2 test suceeded.
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 128.65 seconds ==========================
[msx] rc = 0
v1v1 running time = 150389437783
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 124.72 seconds ==========================
[msx] rc = 0
v2v2 running time = 146467424071
---> v1v1 and v2v2 test test suceeded.
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction FAILED      [100%]

=================================== FAILURES ===================================
____________________ TestSSTableUtil.test_abortedcompaction ____________________

self = <sstableutil_test.TestSSTableUtil object at 0x7f60c83659e8>

    def test_abortedcompaction(self):
        """
            @jira_ticket CASSANDRA-7066
            @jira_ticket CASSANDRA-11497
    
            Check that we can cleanup temporary files after a compaction is aborted.
            """
        log_file_name = 'debug.log'
        cluster = self.cluster
        cluster.populate(1).start()
        node = cluster.nodelist()[0]
    
        numrecords = 250000
    
>       self._create_data(node, KeyspaceName, TableName, numrecords)

sstableutil_test.py:66: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
sstableutil_test.py:111: in _create_data
    node.stress(['write', 'n=1', 'no-warmup', '-rate', 'threads=1'])
../dtest/lib/python3.6/site-packages/ccmlib/node.py:1502: in stress
    return handle_external_tool_process(p, ['stress'] + stress_options)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

process = <subprocess.Popen object at 0x7f60c7afca20>
cmd_args = ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1']

    def handle_external_tool_process(process, cmd_args):
        out, err = process.communicate()
        if (out is not None) and isinstance(out, bytes):
            out = out.decode()
        if (err is not None) and isinstance(err, bytes):
            err = err.decode()
        rc = process.returncode
    
        if rc != 0:
>           raise ToolError(cmd_args, rc, out, err)
E           ccmlib.node.ToolError: Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
E           stdout: ******************** Stress Settings ********************
E           Command:
E             Type: write
E             Count: 1
E             No Warmup: true
E             Consistency Level: LOCAL_ONE
E             Target Uncertainty: not applicable
E             Key Size (bytes): 10
E             Counter Increment Distibution: add=fixed(1)
E           Rate:
E             Auto: false
E             Thread Count: 1
E             OpsPer Sec: 0
E           Population:
E             Sequence: 1..1
E             Order: ARBITRARY
E             Wrap: true
E           Insert:
E             Revisits: Uniform:  min=1,max=1000000
E             Visits: Fixed:  key=1
E             Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
E             Batch Type: not batching
E           Columns:
E             Max Columns Per Key: 5
E             Column Names: [C0, C1, C2, C3, C4]
E             Comparator: AsciiType
E             Timestamp: null
E             Variable Column Count: false
E             Slice: false
E             Size Distribution: Fixed:  key=34
E             Count Distribution: Fixed:  key=5
E           Errors:
E             Ignore: false
E             Tries: 10
E           Log:
E             No Summary: false
E             No Settings: false
E             File: null
E             Interval Millis: 1000
E             Level: NORMAL
E           Mode:
E             API: JAVA_DRIVER_NATIVE
E             Connection Style: CQL_PREPARED
E             CQL Version: CQL3
E             Protocol Version: V5
E             Username: null
E             Password: null
E             Auth Provide Class: null
E             Max Pending Per Connection: 128
E             Connections Per Host: 8
E             Compression: NONE
E           Node:
E             Nodes: [127.0.0.1]
E             Is White List: false
E             Datacenter: null
E           Schema:
E             Keyspace: keyspace1
E             Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
E             Replication Strategy Options: {replication_factor=1}
E             Table Compression: null
E             Table Compaction Strategy: null
E             Table Compaction Strategy Options: {}
E           Transport:
E             truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
E           Port:
E             Native Port: 9042
E             JMX Port: 7100
E           Send To Daemon:
E             *not set*
E           Graph:
E             File: null
E             Revision: unknown
E             Title: null
E             Operation: WRITE
E           TokenRange:
E             Wrap: false
E             Split Factor: 1
E           
E           ; 
E           stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
E           	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
E           	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
E           	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
E           	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
E           	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
E           Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
E           	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
E           	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
E           	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
E           	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
E           	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
E           	... 6 more

../dtest/lib/python3.6/site-packages/ccmlib/node.py:2305: ToolError
---------------------------- Captured stdout setup -----------------------------
23:08:52,777 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
23:08:52,498 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 23:08:52.498847
23:08:52,660 dtest_setup INFO cluster ccm directory: /tmp/dtest-a753wie0
----------------------------- Captured stdout call -----------------------------

23:08:52,782 ccm DEBUG using balanced tokens for non-vnode cluster
23:08:53,477 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-a753wie0/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-a753wie0/test/node1/conf'}
23:08:53,478 ccm INFO node1: using Java 8 for the current invocation
23:08:53,698 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-a753wie0/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-a753wie0/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
23:08:53,699 ccm INFO node1: using Java 8 for the current invocation
23:08:53,808 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
23:08:53,477 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-a753wie0/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-a753wie0/test/node1/conf'}
23:08:53,478 ccm INFO node1: using Java 8 for the current invocation
23:08:53,698 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-a753wie0/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-a753wie0/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
23:08:53,699 ccm INFO node1: using Java 8 for the current invocation
23:08:53,808 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
23:09:05,830 ccm DEBUG Log-watching thread exiting.
---------------------------- Captured stdout setup -----------------------------
23:09:08,512 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
23:09:08,253 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 23:09:08.253532
23:09:08,413 dtest_setup INFO cluster ccm directory: /tmp/dtest-xy39hnsw
----------------------------- Captured stdout call -----------------------------
23:09:08,515 ccm DEBUG using balanced tokens for non-vnode cluster
23:09:09,157 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-xy39hnsw/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-xy39hnsw/test/node1/conf'}
23:09:09,158 ccm INFO node1: using Java 8 for the current invocation
23:09:09,378 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-xy39hnsw/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-xy39hnsw/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
23:09:09,379 ccm INFO node1: using Java 8 for the current invocation
23:09:09,488 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
23:09:09,157 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-xy39hnsw/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-xy39hnsw/test/node1/conf'}
23:09:09,158 ccm INFO node1: using Java 8 for the current invocation
23:09:09,378 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-xy39hnsw/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-xy39hnsw/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
23:09:09,379 ccm INFO node1: using Java 8 for the current invocation
23:09:09,488 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
23:09:05,830 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
23:09:05,830 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
23:09:18,797 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_abortedcompaction failed (1 runs remaining out of 2).
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]
test_abortedcompaction failed; it passed 0 out of the required 1 times.
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]

===End Flaky Test Report===
========================== 1 failed in 26.84 seconds ===========================
[msx] rc = 1
v1v2 running time = 48531502261
---> v1v2 test failed.
proj: cassandra
u_test: sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
h_list: range_request_timeout_in_ms@@@Tool@@@-1@@@50@@@15000
vv_mode: v1v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction FAILED      [100%]

=================================== FAILURES ===================================
____________________ TestSSTableUtil.test_abortedcompaction ____________________

self = <sstableutil_test.TestSSTableUtil object at 0x7f4077598f28>

    def test_abortedcompaction(self):
        """
            @jira_ticket CASSANDRA-7066
            @jira_ticket CASSANDRA-11497
    
            Check that we can cleanup temporary files after a compaction is aborted.
            """
        log_file_name = 'debug.log'
        cluster = self.cluster
        cluster.populate(1).start()
        node = cluster.nodelist()[0]
    
        numrecords = 250000
    
>       self._create_data(node, KeyspaceName, TableName, numrecords)

sstableutil_test.py:66: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
sstableutil_test.py:111: in _create_data
    node.stress(['write', 'n=1', 'no-warmup', '-rate', 'threads=1'])
../dtest/lib/python3.6/site-packages/ccmlib/node.py:1502: in stress
    return handle_external_tool_process(p, ['stress'] + stress_options)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

process = <subprocess.Popen object at 0x7f40775f9ef0>
cmd_args = ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1']

    def handle_external_tool_process(process, cmd_args):
        out, err = process.communicate()
        if (out is not None) and isinstance(out, bytes):
            out = out.decode()
        if (err is not None) and isinstance(err, bytes):
            err = err.decode()
        rc = process.returncode
    
        if rc != 0:
>           raise ToolError(cmd_args, rc, out, err)
E           ccmlib.node.ToolError: Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
E           stdout: ******************** Stress Settings ********************
E           Command:
E             Type: write
E             Count: 1
E             No Warmup: true
E             Consistency Level: LOCAL_ONE
E             Target Uncertainty: not applicable
E             Key Size (bytes): 10
E             Counter Increment Distibution: add=fixed(1)
E           Rate:
E             Auto: false
E             Thread Count: 1
E             OpsPer Sec: 0
E           Population:
E             Sequence: 1..1
E             Order: ARBITRARY
E             Wrap: true
E           Insert:
E             Revisits: Uniform:  min=1,max=1000000
E             Visits: Fixed:  key=1
E             Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
E             Batch Type: not batching
E           Columns:
E             Max Columns Per Key: 5
E             Column Names: [C0, C1, C2, C3, C4]
E             Comparator: AsciiType
E             Timestamp: null
E             Variable Column Count: false
E             Slice: false
E             Size Distribution: Fixed:  key=34
E             Count Distribution: Fixed:  key=5
E           Errors:
E             Ignore: false
E             Tries: 10
E           Log:
E             No Summary: false
E             No Settings: false
E             File: null
E             Interval Millis: 1000
E             Level: NORMAL
E           Mode:
E             API: JAVA_DRIVER_NATIVE
E             Connection Style: CQL_PREPARED
E             CQL Version: CQL3
E             Protocol Version: V5
E             Username: null
E             Password: null
E             Auth Provide Class: null
E             Max Pending Per Connection: 128
E             Connections Per Host: 8
E             Compression: NONE
E           Node:
E             Nodes: [127.0.0.1]
E             Is White List: false
E             Datacenter: null
E           Schema:
E             Keyspace: keyspace1
E             Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
E             Replication Strategy Options: {replication_factor=1}
E             Table Compression: null
E             Table Compaction Strategy: null
E             Table Compaction Strategy Options: {}
E           Transport:
E             truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
E           Port:
E             Native Port: 9042
E             JMX Port: 7100
E           Send To Daemon:
E             *not set*
E           Graph:
E             File: null
E             Revision: unknown
E             Title: null
E             Operation: WRITE
E           TokenRange:
E             Wrap: false
E             Split Factor: 1
E           
E           ; 
E           stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
E           	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
E           	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
E           	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
E           	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
E           	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
E           Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
E           	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
E           	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
E           	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
E           	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
E           	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
E           	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
E           	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
E           	... 6 more

../dtest/lib/python3.6/site-packages/ccmlib/node.py:2305: ToolError
---------------------------- Captured stdout setup -----------------------------
23:09:41,136 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
23:09:40,942 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 23:09:40.942892
23:09:41,23 dtest_setup INFO cluster ccm directory: /tmp/dtest-9w_eeo2z
----------------------------- Captured stdout call -----------------------------

23:09:41,139 ccm DEBUG using balanced tokens for non-vnode cluster
23:09:41,940 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-9w_eeo2z/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-9w_eeo2z/test/node1/conf'}
23:09:41,941 ccm INFO node1: using Java 8 for the current invocation
23:09:42,147 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-9w_eeo2z/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-9w_eeo2z/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
23:09:42,149 ccm INFO node1: using Java 8 for the current invocation
23:09:42,259 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
23:09:41,940 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-9w_eeo2z/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-9w_eeo2z/test/node1/conf'}
23:09:41,941 ccm INFO node1: using Java 8 for the current invocation
23:09:42,147 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-9w_eeo2z/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-9w_eeo2z/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
23:09:42,149 ccm INFO node1: using Java 8 for the current invocation
23:09:42,259 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
23:09:54,702 ccm DEBUG Log-watching thread exiting.
---------------------------- Captured stdout setup -----------------------------
3:09:57,336 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
23:09:57,16 conftest INFO Starting execution of test_abortedcompaction at 2022-01-31 23:09:57.015982
23:09:57,178 dtest_setup INFO cluster ccm directory: /tmp/dtest-0fibqagn
----------------------------- Captured stdout call -----------------------------
23:09:57,340 ccm DEBUG using balanced tokens for non-vnode cluster
23:09:58,79 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-0fibqagn/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-0fibqagn/test/node1/conf'}
23:09:58,80 ccm INFO node1: using Java 8 for the current invocation
23:09:58,302 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-0fibqagn/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-0fibqagn/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
23:09:58,303 ccm INFO node1: using Java 8 for the current invocation
23:09:58,421 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
------------------------------ Captured log call -------------------------------
23:09:58,79 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-0fibqagn/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-0fibqagn/test/node1/conf'}
23:09:58,80 ccm INFO node1: using Java 8 for the current invocation
23:09:58,302 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '86f3ea615694', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'sstableutil_test.py::TestSSTableUtil::()::test_abortedcompaction (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-0fibqagn/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-0fibqagn/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
23:09:58,303 ccm INFO node1: using Java 8 for the current invocation
23:09:58,421 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
23:09:54,702 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
23:09:54,702 ccm DEBUG Log-watching thread exiting.
--------------------------- Captured stdout teardown ---------------------------
23:10:08,950 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_abortedcompaction failed (1 runs remaining out of 2).
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]
test_abortedcompaction failed; it passed 0 out of the required 1 times.
	<class 'ccmlib.node.ToolError'>
	Subprocess ['stress', 'write', 'n=1', 'no-warmup', '-rate', 'threads=1'] exited with non-zero status; exit status: 1; 
stdout: ******************** Stress Settings ********************
Command:
  Type: write
  Count: 1
  No Warmup: true
  Consistency Level: LOCAL_ONE
  Target Uncertainty: not applicable
  Key Size (bytes): 10
  Counter Increment Distibution: add=fixed(1)
Rate:
  Auto: false
  Thread Count: 1
  OpsPer Sec: 0
Population:
  Sequence: 1..1
  Order: ARBITRARY
  Wrap: true
Insert:
  Revisits: Uniform:  min=1,max=1000000
  Visits: Fixed:  key=1
  Row Population Ratio: Ratio: divisor=1.000000;delegate=Fixed:  key=1
  Batch Type: not batching
Columns:
  Max Columns Per Key: 5
  Column Names: [C0, C1, C2, C3, C4]
  Comparator: AsciiType
  Timestamp: null
  Variable Column Count: false
  Slice: false
  Size Distribution: Fixed:  key=34
  Count Distribution: Fixed:  key=5
Errors:
  Ignore: false
  Tries: 10
Log:
  No Summary: false
  No Settings: false
  File: null
  Interval Millis: 1000
  Level: NORMAL
Mode:
  API: JAVA_DRIVER_NATIVE
  Connection Style: CQL_PREPARED
  CQL Version: CQL3
  Protocol Version: V5
  Username: null
  Password: null
  Auth Provide Class: null
  Max Pending Per Connection: 128
  Connections Per Host: 8
  Compression: NONE
Node:
  Nodes: [127.0.0.1]
  Is White List: false
  Datacenter: null
Schema:
  Keyspace: keyspace1
  Replication Strategy: org.apache.cassandra.locator.SimpleStrategy
  Replication Strategy Options: {replication_factor=1}
  Table Compression: null
  Table Compaction Strategy: null
  Table Compaction Strategy Options: {}
Transport:
  truststore=null; truststore-password=null; keystore=null; keystore-password=null; ssl-protocol=TLS; ssl-alg=null; ssl-ciphers=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA; 
Port:
  Native Port: 9042
  JMX Port: 7100
Send To Daemon:
  *not set*
Graph:
  File: null
  Revision: unknown
  Title: null
  Operation: WRITE
TokenRange:
  Wrap: false
  Split Factor: 1

; 
stderr: java.lang.RuntimeException: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:146)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:114)
	at org.apache.cassandra.stress.settings.SettingsSchema.createKeySpaces(SettingsSchema.java:66)
	at org.apache.cassandra.stress.settings.StressSettings.maybeCreateKeyspaces(StressSettings.java:154)
	at org.apache.cassandra.stress.StressAction.run(StressAction.java:56)
	at org.apache.cassandra.stress.Stress.run(Stress.java:155)
	at org.apache.cassandra.stress.Stress.main(Stress.java:63)
Caused by: com.datastax.driver.core.exceptions.NoHostAvailableException: All host(s) tried for query failed (tried: /127.0.0.1:9042 (com.datastax.driver.core.exceptions.ReadTimeoutException: Cassandra timeout during read query at consistency ONE (1 responses were required but only 0 replica responded)))
	at com.datastax.driver.core.ControlConnection.reconnectInternal(ControlConnection.java:270)
	at com.datastax.driver.core.ControlConnection.connect(ControlConnection.java:109)
	at com.datastax.driver.core.Cluster$Manager.negotiateProtocolVersionAndConnect(Cluster.java:1813)
	at com.datastax.driver.core.Cluster$Manager.init(Cluster.java:1726)
	at com.datastax.driver.core.Cluster.getMetadata(Cluster.java:462)
	at org.apache.cassandra.stress.util.JavaDriverClient.connect(JavaDriverClient.java:181)
	at org.apache.cassandra.stress.settings.StressSettings.getJavaDriverClient(StressSettings.java:137)
	... 6 more

	[<TracebackEntry /root/cassandra-dtest/sstableutil_test.py:66>, <TracebackEntry /root/cassandra-dtest/sstableutil_test.py:111>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:1502>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:2305>]

===End Flaky Test Report===
========================== 1 failed in 28.55 seconds ===========================
[msx] rc = 1
v1v1 running time = 50160652348
cassandra sstableutil_test.py::TestSSTableUtil::test_abortedcompaction false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

sstableutil_test.py::TestSSTableUtil::test_abortedcompaction PASSED      [100%]
===Flaky Test Report===

test_abortedcompaction passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 125.18 seconds ==========================
[msx] rc = 0
v2v2 running time = 146905493066
---> v1v1 or v2v2 test failed.
v1v1 failed in a hypo test
proj: cassandra
u_test: sstableutil_test.py::TestSSTableUtil::test_abortedcompaction
h_list: range_request_timeout_in_ms@@@Tool@@@-1@@@50@@@15000
vv_mode: v1v1
result: FAIL
failureMessage: 
stackTrace: 

early stop after 7 is satisfied
v1v2 failed with probability 9 out of 19
v1v1v2v2 failed with probability 7 out of 19
Total execution time in seconds : 6801
0
