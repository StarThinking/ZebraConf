my_type=hypothesis
proj=cassandra
u_test=rebuild_test.py::TestRebuild::test_simple_rebuild
h_list[1]=request_timeout_in_ms@@@CassandraDaemon@@@-3@@@15000@@@50
proj: cassandra
u_test: rebuild_test.py::TestRebuild::test_simple_rebuild
h_list: request_timeout_in_ms@@@CassandraDaemon@@@-3@@@15000@@@50
cassandra rebuild_test.py::TestRebuild::test_simple_rebuild false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is rebuild_test.py::TestRebuild::test_simple_rebuild
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

rebuild_test.py::TestRebuild::test_simple_rebuild FAILED                 [100%]

=================================== FAILURES ===================================
_______________________ TestRebuild.test_simple_rebuild ________________________

self = <rebuild_test.TestRebuild object at 0x7f2e2d181f98>

    def test_simple_rebuild(self):
        """
            @jira_ticket CASSANDRA-9119
    
            Test rebuild from other dc works as expected.
            """
    
        keys = 1000
    
        cluster = self.cluster
        cluster.set_configuration_options(values={'endpoint_snitch': 'org.apache.cassandra.locator.PropertyFileSnitch'})
        node1 = cluster.create_node('node1', False,
                                    None,
                                    ('127.0.0.1', 7000),
                                    '7100', '2000', None,
                                    binary_interface=('127.0.0.1', 9042))
        cluster.add(node1, True, data_center='dc1')
    
        # start node in dc1
        node1.start(wait_for_binary_proto=True)
    
        # populate data in dc1
        session = self.patient_exclusive_cql_connection(node1)
        create_ks(session, 'ks', {'dc1': 1})
        create_cf(session, 'cf', columns={'c1': 'text', 'c2': 'text'})
        insert_c1c2(session, n=keys, consistency=ConsistencyLevel.LOCAL_ONE)
    
        # check data
        for i in range(0, keys):
            query_c1c2(session, i, ConsistencyLevel.LOCAL_ONE)
        session.shutdown()
    
        # Bootstrapping a new node in dc2 with auto_bootstrap: false
        node2 = cluster.create_node('node2', False,
                                    ('127.0.0.2', 9160),
                                    ('127.0.0.2', 7000),
                                    '7200', '2001', None,
                                    binary_interface=('127.0.0.2', 9042))
        cluster.add(node2, False, data_center='dc2')
>       node2.start(wait_for_binary_proto=True)

rebuild_test.py:72: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../dtest/lib/python3.6/site-packages/ccmlib/node.py:901: in start
    self.wait_for_binary_interface(from_mark=self.mark)
../dtest/lib/python3.6/site-packages/ccmlib/node.py:689: in wait_for_binary_interface
    self.watch_log_for("Starting listening for CQL clients", **kwargs)
../dtest/lib/python3.6/site-packages/ccmlib/node.py:586: in watch_log_for
    self.raise_node_error_if_cassandra_process_is_terminated()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <ccmlib.node.Node object at 0x7f2e2d181940>

    def raise_node_error_if_cassandra_process_is_terminated(self):
        if not self._is_pid_running():
            msg = "C* process with {pid} is terminated".format(pid=self.pid)
            common.debug(msg)
>           raise NodeError(msg)
E           ccmlib.node.NodeError: C* process with 27941 is terminated

../dtest/lib/python3.6/site-packages/ccmlib/node.py:670: NodeError
---------------------------- Captured stdout setup -----------------------------
04:00:13,434 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
04:00:13,141 conftest INFO Starting execution of test_simple_rebuild at 2022-02-06 04:00:13.141863
04:00:13,304 dtest_setup INFO cluster ccm directory: /tmp/dtest-oazn0ntp
----------------------------- Captured stdout call -----------------------------

04:00:14,143 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-oazn0ntp/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-oazn0ntp/test/node1/conf'}
04:00:14,144 ccm INFO node1: using Java 8 for the current invocation
04:00:14,375 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-oazn0ntp/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-oazn0ntp/test/node1/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
04:00:14,376 ccm INFO node1: using Java 8 for the current invocation
04:00:14,496 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:01:00,775 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-oazn0ntp/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-oazn0ntp/test/node2/conf'}
04:01:00,776 ccm INFO node2: using Java 8 for the current invocation
04:01:00,998 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-oazn0ntp/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-oazn0ntp/test/node2/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=4'}
04:01:01,0 ccm INFO node2: using Java 8 for the current invocation
04:01:01,110 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:02:20,787 ccm DEBUG C* process with 27941 is terminated
------------------------------ Captured log call -------------------------------
04:00:14,143 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-oazn0ntp/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-oazn0ntp/test/node1/conf'}
04:00:14,144 ccm INFO node1: using Java 8 for the current invocation
04:00:14,375 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-oazn0ntp/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-oazn0ntp/test/node1/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
04:00:14,376 ccm INFO node1: using Java 8 for the current invocation
04:00:14,496 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:01:00,775 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-oazn0ntp/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-oazn0ntp/test/node2/conf'}
04:01:00,776 ccm INFO node2: using Java 8 for the current invocation
04:01:00,998 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-oazn0ntp/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-oazn0ntp/test/node2/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=4'}
04:01:01,0 ccm INFO node2: using Java 8 for the current invocation
04:01:01,110 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
04:02:21,311 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_simple_rebuild failed and was not selected for rerun.
	<class 'ccmlib.node.NodeError'>
	C* process with 27941 is terminated
	[<TracebackEntry /root/cassandra-dtest/rebuild_test.py:72>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:901>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:689>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:586>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:670>]

===End Flaky Test Report===
========================== 1 failed in 128.73 seconds ==========================
[msx] rc = 1
v1v2 running time = 150891999313
---> v1v2 test failed.
proj: cassandra
u_test: rebuild_test.py::TestRebuild::test_simple_rebuild
h_list: request_timeout_in_ms@@@CassandraDaemon@@@-3@@@15000@@@50
vv_mode: v1v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra rebuild_test.py::TestRebuild::test_simple_rebuild false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is rebuild_test.py::TestRebuild::test_simple_rebuild
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

rebuild_test.py::TestRebuild::test_simple_rebuild 
-------------------------------- live log call ---------------------------------
04:05:05,925 cassandra.protocol WARNING Server warning: When increasing replication factor you need to run a full (-full) repair to distribute the data.
04:05:06,259 cassandra.protocol WARNING Server warning: When increasing replication factor you need to run a full (-full) repair to distribute the data.
PASSED                                                                   [100%]
===Flaky Test Report===

test_simple_rebuild passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 154.60 seconds ==========================
[msx] rc = 0
v1v1 running time = 176522862303
cassandra rebuild_test.py::TestRebuild::test_simple_rebuild false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is rebuild_test.py::TestRebuild::test_simple_rebuild
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

rebuild_test.py::TestRebuild::test_simple_rebuild FAILED                 [100%]

=================================== FAILURES ===================================
_______________________ TestRebuild.test_simple_rebuild ________________________

self = <rebuild_test.TestRebuild object at 0x7fd96a680358>

    def test_simple_rebuild(self):
        """
            @jira_ticket CASSANDRA-9119
    
            Test rebuild from other dc works as expected.
            """
    
        keys = 1000
    
        cluster = self.cluster
        cluster.set_configuration_options(values={'endpoint_snitch': 'org.apache.cassandra.locator.PropertyFileSnitch'})
        node1 = cluster.create_node('node1', False,
                                    None,
                                    ('127.0.0.1', 7000),
                                    '7100', '2000', None,
                                    binary_interface=('127.0.0.1', 9042))
        cluster.add(node1, True, data_center='dc1')
    
        # start node in dc1
        node1.start(wait_for_binary_proto=True)
    
        # populate data in dc1
        session = self.patient_exclusive_cql_connection(node1)
        create_ks(session, 'ks', {'dc1': 1})
        create_cf(session, 'cf', columns={'c1': 'text', 'c2': 'text'})
        insert_c1c2(session, n=keys, consistency=ConsistencyLevel.LOCAL_ONE)
    
        # check data
        for i in range(0, keys):
            query_c1c2(session, i, ConsistencyLevel.LOCAL_ONE)
        session.shutdown()
    
        # Bootstrapping a new node in dc2 with auto_bootstrap: false
        node2 = cluster.create_node('node2', False,
                                    ('127.0.0.2', 9160),
                                    ('127.0.0.2', 7000),
                                    '7200', '2001', None,
                                    binary_interface=('127.0.0.2', 9042))
        cluster.add(node2, False, data_center='dc2')
>       node2.start(wait_for_binary_proto=True)

rebuild_test.py:72: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../dtest/lib/python3.6/site-packages/ccmlib/node.py:901: in start
    self.wait_for_binary_interface(from_mark=self.mark)
../dtest/lib/python3.6/site-packages/ccmlib/node.py:689: in wait_for_binary_interface
    self.watch_log_for("Starting listening for CQL clients", **kwargs)
../dtest/lib/python3.6/site-packages/ccmlib/node.py:586: in watch_log_for
    self.raise_node_error_if_cassandra_process_is_terminated()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <ccmlib.node.Node object at 0x7fd968dd46a0>

    def raise_node_error_if_cassandra_process_is_terminated(self):
        if not self._is_pid_running():
            msg = "C* process with {pid} is terminated".format(pid=self.pid)
            common.debug(msg)
>           raise NodeError(msg)
E           ccmlib.node.NodeError: C* process with 31397 is terminated

../dtest/lib/python3.6/site-packages/ccmlib/node.py:670: NodeError
---------------------------- Captured stdout setup -----------------------------
04:05:40,615 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
04:05:40,409 conftest INFO Starting execution of test_simple_rebuild at 2022-02-06 04:05:40.408965
04:05:40,520 dtest_setup INFO cluster ccm directory: /tmp/dtest-2dhkytur
----------------------------- Captured stdout call -----------------------------
04:05:41,277 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-2dhkytur/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-2dhkytur/test/node1/conf'}
04:05:41,278 ccm INFO node1: using Java 8 for the current invocation
04:05:41,499 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-2dhkytur/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-2dhkytur/test/node1/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
04:05:41,501 ccm INFO node1: using Java 8 for the current invocation
04:05:41,617 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:06:26,799 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-2dhkytur/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-2dhkytur/test/node2/conf'}
04:06:26,801 ccm INFO node2: using Java 8 for the current invocation
04:06:27,30 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-2dhkytur/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-2dhkytur/test/node2/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=4'}
04:06:27,30 ccm INFO node2: using Java 8 for the current invocation
04:06:27,150 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:07:46,802 ccm DEBUG C* process with 31397 is terminated
------------------------------ Captured log call -------------------------------
04:05:41,277 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-2dhkytur/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-2dhkytur/test/node1/conf'}
04:05:41,278 ccm INFO node1: using Java 8 for the current invocation
04:05:41,499 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-2dhkytur/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-2dhkytur/test/node1/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
04:05:41,501 ccm INFO node1: using Java 8 for the current invocation
04:05:41,617 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:06:26,799 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-2dhkytur/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-2dhkytur/test/node2/conf'}
04:06:26,801 ccm INFO node2: using Java 8 for the current invocation
04:06:27,30 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-2dhkytur/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-2dhkytur/test/node2/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=4'}
04:06:27,30 ccm INFO node2: using Java 8 for the current invocation
04:06:27,150 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
04:07:47,234 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_simple_rebuild failed and was not selected for rerun.
	<class 'ccmlib.node.NodeError'>
	C* process with 31397 is terminated
	[<TracebackEntry /root/cassandra-dtest/rebuild_test.py:72>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:901>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:689>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:586>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:670>]

===End Flaky Test Report===
========================== 1 failed in 127.44 seconds ==========================
[msx] rc = 1
v2v2 running time = 149441313034
---> v1v1 or v2v2 test failed.
v2v2 failed in a hypo test
proj: cassandra
u_test: rebuild_test.py::TestRebuild::test_simple_rebuild
h_list: request_timeout_in_ms@@@CassandraDaemon@@@-3@@@15000@@@50
vv_mode: v2v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra rebuild_test.py::TestRebuild::test_simple_rebuild false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is rebuild_test.py::TestRebuild::test_simple_rebuild
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

rebuild_test.py::TestRebuild::test_simple_rebuild FAILED                 [100%]

=================================== FAILURES ===================================
_______________________ TestRebuild.test_simple_rebuild ________________________

self = <rebuild_test.TestRebuild object at 0x7fdeac55f400>

    def test_simple_rebuild(self):
        """
            @jira_ticket CASSANDRA-9119
    
            Test rebuild from other dc works as expected.
            """
    
        keys = 1000
    
        cluster = self.cluster
        cluster.set_configuration_options(values={'endpoint_snitch': 'org.apache.cassandra.locator.PropertyFileSnitch'})
        node1 = cluster.create_node('node1', False,
                                    None,
                                    ('127.0.0.1', 7000),
                                    '7100', '2000', None,
                                    binary_interface=('127.0.0.1', 9042))
        cluster.add(node1, True, data_center='dc1')
    
        # start node in dc1
        node1.start(wait_for_binary_proto=True)
    
        # populate data in dc1
        session = self.patient_exclusive_cql_connection(node1)
        create_ks(session, 'ks', {'dc1': 1})
        create_cf(session, 'cf', columns={'c1': 'text', 'c2': 'text'})
        insert_c1c2(session, n=keys, consistency=ConsistencyLevel.LOCAL_ONE)
    
        # check data
        for i in range(0, keys):
            query_c1c2(session, i, ConsistencyLevel.LOCAL_ONE)
        session.shutdown()
    
        # Bootstrapping a new node in dc2 with auto_bootstrap: false
        node2 = cluster.create_node('node2', False,
                                    ('127.0.0.2', 9160),
                                    ('127.0.0.2', 7000),
                                    '7200', '2001', None,
                                    binary_interface=('127.0.0.2', 9042))
        cluster.add(node2, False, data_center='dc2')
>       node2.start(wait_for_binary_proto=True)

rebuild_test.py:72: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../dtest/lib/python3.6/site-packages/ccmlib/node.py:901: in start
    self.wait_for_binary_interface(from_mark=self.mark)
../dtest/lib/python3.6/site-packages/ccmlib/node.py:689: in wait_for_binary_interface
    self.watch_log_for("Starting listening for CQL clients", **kwargs)
../dtest/lib/python3.6/site-packages/ccmlib/node.py:586: in watch_log_for
    self.raise_node_error_if_cassandra_process_is_terminated()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <ccmlib.node.Node object at 0x7fdeaacb7358>

    def raise_node_error_if_cassandra_process_is_terminated(self):
        if not self._is_pid_running():
            msg = "C* process with {pid} is terminated".format(pid=self.pid)
            common.debug(msg)
>           raise NodeError(msg)
E           ccmlib.node.NodeError: C* process with 32874 is terminated

../dtest/lib/python3.6/site-packages/ccmlib/node.py:670: NodeError
---------------------------- Captured stdout setup -----------------------------
04:08:10,83 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
04:08:09,860 conftest INFO Starting execution of test_simple_rebuild at 2022-02-06 04:08:09.860056
04:08:09,989 dtest_setup INFO cluster ccm directory: /tmp/dtest-blf_izb5
----------------------------- Captured stdout call -----------------------------

04:08:10,725 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-blf_izb5/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-blf_izb5/test/node1/conf'}
04:08:10,726 ccm INFO node1: using Java 8 for the current invocation
04:08:10,950 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-blf_izb5/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-blf_izb5/test/node1/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
04:08:10,951 ccm INFO node1: using Java 8 for the current invocation
04:08:11,63 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:08:55,194 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-blf_izb5/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-blf_izb5/test/node2/conf'}
04:08:55,196 ccm INFO node2: using Java 8 for the current invocation
04:08:55,409 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-blf_izb5/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-blf_izb5/test/node2/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=4'}
04:08:55,410 ccm INFO node2: using Java 8 for the current invocation
04:08:55,518 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:10:15,180 ccm DEBUG C* process with 32874 is terminated
------------------------------ Captured log call -------------------------------
04:08:10,725 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-blf_izb5/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-blf_izb5/test/node1/conf'}
04:08:10,726 ccm INFO node1: using Java 8 for the current invocation
04:08:10,950 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-blf_izb5/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-blf_izb5/test/node1/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
04:08:10,951 ccm INFO node1: using Java 8 for the current invocation
04:08:11,63 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:08:55,194 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-blf_izb5/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-blf_izb5/test/node2/conf'}
04:08:55,196 ccm INFO node2: using Java 8 for the current invocation
04:08:55,409 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-blf_izb5/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-blf_izb5/test/node2/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=4'}
04:08:55,410 ccm INFO node2: using Java 8 for the current invocation
04:08:55,518 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
04:10:15,719 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_simple_rebuild failed and was not selected for rerun.
	<class 'ccmlib.node.NodeError'>
	C* process with 32874 is terminated
	[<TracebackEntry /root/cassandra-dtest/rebuild_test.py:72>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:901>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:689>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:586>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:670>]

===End Flaky Test Report===
========================== 1 failed in 126.42 seconds ==========================
[msx] rc = 1
v1v2 running time = 148361236443
---> v1v2 test failed.
proj: cassandra
u_test: rebuild_test.py::TestRebuild::test_simple_rebuild
h_list: request_timeout_in_ms@@@CassandraDaemon@@@-3@@@15000@@@50
vv_mode: v1v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra rebuild_test.py::TestRebuild::test_simple_rebuild false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is rebuild_test.py::TestRebuild::test_simple_rebuild
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

rebuild_test.py::TestRebuild::test_simple_rebuild 
-------------------------------- live log call ---------------------------------
04:13:02,35 cassandra.protocol WARNING Server warning: When increasing replication factor you need to run a full (-full) repair to distribute the data.
04:13:02,809 cassandra.protocol WARNING Server warning: When increasing replication factor you need to run a full (-full) repair to distribute the data.
PASSED                                                                   [100%]
===Flaky Test Report===

test_simple_rebuild passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 156.24 seconds ==========================
[msx] rc = 0
v1v1 running time = 178569096045
cassandra rebuild_test.py::TestRebuild::test_simple_rebuild false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is rebuild_test.py::TestRebuild::test_simple_rebuild
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

rebuild_test.py::TestRebuild::test_simple_rebuild FAILED                 [100%]

=================================== FAILURES ===================================
_______________________ TestRebuild.test_simple_rebuild ________________________

self = <rebuild_test.TestRebuild object at 0x7f5f8dd66be0>

    def test_simple_rebuild(self):
        """
            @jira_ticket CASSANDRA-9119
    
            Test rebuild from other dc works as expected.
            """
    
        keys = 1000
    
        cluster = self.cluster
        cluster.set_configuration_options(values={'endpoint_snitch': 'org.apache.cassandra.locator.PropertyFileSnitch'})
        node1 = cluster.create_node('node1', False,
                                    None,
                                    ('127.0.0.1', 7000),
                                    '7100', '2000', None,
                                    binary_interface=('127.0.0.1', 9042))
        cluster.add(node1, True, data_center='dc1')
    
        # start node in dc1
        node1.start(wait_for_binary_proto=True)
    
        # populate data in dc1
        session = self.patient_exclusive_cql_connection(node1)
        create_ks(session, 'ks', {'dc1': 1})
        create_cf(session, 'cf', columns={'c1': 'text', 'c2': 'text'})
        insert_c1c2(session, n=keys, consistency=ConsistencyLevel.LOCAL_ONE)
    
        # check data
        for i in range(0, keys):
            query_c1c2(session, i, ConsistencyLevel.LOCAL_ONE)
        session.shutdown()
    
        # Bootstrapping a new node in dc2 with auto_bootstrap: false
        node2 = cluster.create_node('node2', False,
                                    ('127.0.0.2', 9160),
                                    ('127.0.0.2', 7000),
                                    '7200', '2001', None,
                                    binary_interface=('127.0.0.2', 9042))
        cluster.add(node2, False, data_center='dc2')
>       node2.start(wait_for_binary_proto=True)

rebuild_test.py:72: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../dtest/lib/python3.6/site-packages/ccmlib/node.py:901: in start
    self.wait_for_binary_interface(from_mark=self.mark)
../dtest/lib/python3.6/site-packages/ccmlib/node.py:689: in wait_for_binary_interface
    self.watch_log_for("Starting listening for CQL clients", **kwargs)
../dtest/lib/python3.6/site-packages/ccmlib/node.py:586: in watch_log_for
    self.raise_node_error_if_cassandra_process_is_terminated()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <ccmlib.node.Node object at 0x7f5f8dd69518>

    def raise_node_error_if_cassandra_process_is_terminated(self):
        if not self._is_pid_running():
            msg = "C* process with {pid} is terminated".format(pid=self.pid)
            common.debug(msg)
>           raise NodeError(msg)
E           ccmlib.node.NodeError: C* process with 36315 is terminated

../dtest/lib/python3.6/site-packages/ccmlib/node.py:670: NodeError
---------------------------- Captured stdout setup -----------------------------
04:13:37,45 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
04:13:36,769 conftest INFO Starting execution of test_simple_rebuild at 2022-02-06 04:13:36.769853
04:13:36,948 dtest_setup INFO cluster ccm directory: /tmp/dtest-mxqu6bah
----------------------------- Captured stdout call -----------------------------

04:13:37,706 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-mxqu6bah/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-mxqu6bah/test/node1/conf'}
04:13:37,707 ccm INFO node1: using Java 8 for the current invocation
04:13:37,929 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-mxqu6bah/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-mxqu6bah/test/node1/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
04:13:37,930 ccm INFO node1: using Java 8 for the current invocation
04:13:38,40 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:14:23,160 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-mxqu6bah/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-mxqu6bah/test/node2/conf'}
04:14:23,161 ccm INFO node2: using Java 8 for the current invocation
04:14:23,384 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-mxqu6bah/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-mxqu6bah/test/node2/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=4'}
04:14:23,385 ccm INFO node2: using Java 8 for the current invocation
04:14:23,479 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:15:45,146 ccm DEBUG C* process with 36315 is terminated
------------------------------ Captured log call -------------------------------
04:13:37,706 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-mxqu6bah/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-mxqu6bah/test/node1/conf'}
04:13:37,707 ccm INFO node1: using Java 8 for the current invocation
04:13:37,929 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-mxqu6bah/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-mxqu6bah/test/node1/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
04:13:37,930 ccm INFO node1: using Java 8 for the current invocation
04:13:38,40 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:14:23,160 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-mxqu6bah/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-mxqu6bah/test/node2/conf'}
04:14:23,161 ccm INFO node2: using Java 8 for the current invocation
04:14:23,384 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-mxqu6bah/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-mxqu6bah/test/node2/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=4'}
04:14:23,385 ccm INFO node2: using Java 8 for the current invocation
04:14:23,479 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
04:15:45,652 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_simple_rebuild failed and was not selected for rerun.
	<class 'ccmlib.node.NodeError'>
	C* process with 36315 is terminated
	[<TracebackEntry /root/cassandra-dtest/rebuild_test.py:72>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:901>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:689>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:586>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:670>]

===End Flaky Test Report===
========================== 1 failed in 129.43 seconds ==========================
[msx] rc = 1
v2v2 running time = 151402501406
---> v1v1 or v2v2 test failed.
v2v2 failed in a hypo test
proj: cassandra
u_test: rebuild_test.py::TestRebuild::test_simple_rebuild
h_list: request_timeout_in_ms@@@CassandraDaemon@@@-3@@@15000@@@50
vv_mode: v2v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra rebuild_test.py::TestRebuild::test_simple_rebuild false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is rebuild_test.py::TestRebuild::test_simple_rebuild
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

rebuild_test.py::TestRebuild::test_simple_rebuild FAILED                 [100%]

=================================== FAILURES ===================================
_______________________ TestRebuild.test_simple_rebuild ________________________

self = <rebuild_test.TestRebuild object at 0x7f9a17181f60>

    def test_simple_rebuild(self):
        """
            @jira_ticket CASSANDRA-9119
    
            Test rebuild from other dc works as expected.
            """
    
        keys = 1000
    
        cluster = self.cluster
        cluster.set_configuration_options(values={'endpoint_snitch': 'org.apache.cassandra.locator.PropertyFileSnitch'})
        node1 = cluster.create_node('node1', False,
                                    None,
                                    ('127.0.0.1', 7000),
                                    '7100', '2000', None,
                                    binary_interface=('127.0.0.1', 9042))
        cluster.add(node1, True, data_center='dc1')
    
        # start node in dc1
        node1.start(wait_for_binary_proto=True)
    
        # populate data in dc1
        session = self.patient_exclusive_cql_connection(node1)
        create_ks(session, 'ks', {'dc1': 1})
        create_cf(session, 'cf', columns={'c1': 'text', 'c2': 'text'})
        insert_c1c2(session, n=keys, consistency=ConsistencyLevel.LOCAL_ONE)
    
        # check data
        for i in range(0, keys):
            query_c1c2(session, i, ConsistencyLevel.LOCAL_ONE)
        session.shutdown()
    
        # Bootstrapping a new node in dc2 with auto_bootstrap: false
        node2 = cluster.create_node('node2', False,
                                    ('127.0.0.2', 9160),
                                    ('127.0.0.2', 7000),
                                    '7200', '2001', None,
                                    binary_interface=('127.0.0.2', 9042))
        cluster.add(node2, False, data_center='dc2')
>       node2.start(wait_for_binary_proto=True)

rebuild_test.py:72: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../dtest/lib/python3.6/site-packages/ccmlib/node.py:901: in start
    self.wait_for_binary_interface(from_mark=self.mark)
../dtest/lib/python3.6/site-packages/ccmlib/node.py:689: in wait_for_binary_interface
    self.watch_log_for("Starting listening for CQL clients", **kwargs)
../dtest/lib/python3.6/site-packages/ccmlib/node.py:586: in watch_log_for
    self.raise_node_error_if_cassandra_process_is_terminated()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <ccmlib.node.Node object at 0x7f9a17187320>

    def raise_node_error_if_cassandra_process_is_terminated(self):
        if not self._is_pid_running():
            msg = "C* process with {pid} is terminated".format(pid=self.pid)
            common.debug(msg)
>           raise NodeError(msg)
E           ccmlib.node.NodeError: C* process with 37810 is terminated

../dtest/lib/python3.6/site-packages/ccmlib/node.py:670: NodeError
---------------------------- Captured stdout setup -----------------------------
04:16:08,547 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
04:16:08,318 conftest INFO Starting execution of test_simple_rebuild at 2022-02-06 04:16:08.318130
04:16:08,429 dtest_setup INFO cluster ccm directory: /tmp/dtest-mjeaq1pf
----------------------------- Captured stdout call -----------------------------
04:16:09,265 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-mjeaq1pf/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-mjeaq1pf/test/node1/conf'}
04:16:09,266 ccm INFO node1: using Java 8 for the current invocation
04:16:09,476 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-mjeaq1pf/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-mjeaq1pf/test/node1/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
04:16:09,477 ccm INFO node1: using Java 8 for the current invocation
04:16:09,583 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:16:54,558 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-mjeaq1pf/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-mjeaq1pf/test/node2/conf'}
04:16:54,559 ccm INFO node2: using Java 8 for the current invocation
04:16:54,785 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-mjeaq1pf/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-mjeaq1pf/test/node2/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=4'}
04:16:54,786 ccm INFO node2: using Java 8 for the current invocation
04:16:54,898 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:18:14,555 ccm DEBUG C* process with 37810 is terminated
------------------------------ Captured log call -------------------------------
04:16:09,265 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-mjeaq1pf/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-mjeaq1pf/test/node1/conf'}
04:16:09,266 ccm INFO node1: using Java 8 for the current invocation
04:16:09,476 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-mjeaq1pf/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-mjeaq1pf/test/node1/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
04:16:09,477 ccm INFO node1: using Java 8 for the current invocation
04:16:09,583 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:16:54,558 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-mjeaq1pf/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-mjeaq1pf/test/node2/conf'}
04:16:54,559 ccm INFO node2: using Java 8 for the current invocation
04:16:54,785 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-mjeaq1pf/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-mjeaq1pf/test/node2/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=4'}
04:16:54,786 ccm INFO node2: using Java 8 for the current invocation
04:16:54,898 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
04:18:14,968 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_simple_rebuild failed and was not selected for rerun.
	<class 'ccmlib.node.NodeError'>
	C* process with 37810 is terminated
	[<TracebackEntry /root/cassandra-dtest/rebuild_test.py:72>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:901>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:689>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:586>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:670>]

===End Flaky Test Report===
========================== 1 failed in 127.21 seconds ==========================
[msx] rc = 1
v1v2 running time = 149393577213
---> v1v2 test failed.
proj: cassandra
u_test: rebuild_test.py::TestRebuild::test_simple_rebuild
h_list: request_timeout_in_ms@@@CassandraDaemon@@@-3@@@15000@@@50
vv_mode: v1v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra rebuild_test.py::TestRebuild::test_simple_rebuild false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is rebuild_test.py::TestRebuild::test_simple_rebuild
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

rebuild_test.py::TestRebuild::test_simple_rebuild 
-------------------------------- live log call ---------------------------------
04:21:00,590 cassandra.protocol WARNING Server warning: When increasing replication factor you need to run a full (-full) repair to distribute the data.
04:21:01,585 cassandra.protocol WARNING Server warning: When increasing replication factor you need to run a full (-full) repair to distribute the data.
PASSED                                                                   [100%]
===Flaky Test Report===

test_simple_rebuild passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 156.27 seconds ==========================
[msx] rc = 0
v1v1 running time = 178398915704
cassandra rebuild_test.py::TestRebuild::test_simple_rebuild false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is rebuild_test.py::TestRebuild::test_simple_rebuild
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

rebuild_test.py::TestRebuild::test_simple_rebuild 
-------------------------------- live log call ---------------------------------
04:23:59,990 cassandra.protocol WARNING Server warning: When increasing replication factor you need to run a full (-full) repair to distribute the data.
04:24:00,581 cassandra.protocol WARNING Server warning: When increasing replication factor you need to run a full (-full) repair to distribute the data.
PASSED                                                                   [100%]
===Flaky Test Report===

test_simple_rebuild passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 159.44 seconds ==========================
[msx] rc = 0
v2v2 running time = 181782809253
---> v1v1 and v2v2 test test suceeded.
cassandra rebuild_test.py::TestRebuild::test_simple_rebuild false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is rebuild_test.py::TestRebuild::test_simple_rebuild
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

rebuild_test.py::TestRebuild::test_simple_rebuild FAILED                 [100%]

=================================== FAILURES ===================================
_______________________ TestRebuild.test_simple_rebuild ________________________

self = <rebuild_test.TestRebuild object at 0x7f1c9b654b70>

    def test_simple_rebuild(self):
        """
            @jira_ticket CASSANDRA-9119
    
            Test rebuild from other dc works as expected.
            """
    
        keys = 1000
    
        cluster = self.cluster
        cluster.set_configuration_options(values={'endpoint_snitch': 'org.apache.cassandra.locator.PropertyFileSnitch'})
        node1 = cluster.create_node('node1', False,
                                    None,
                                    ('127.0.0.1', 7000),
                                    '7100', '2000', None,
                                    binary_interface=('127.0.0.1', 9042))
        cluster.add(node1, True, data_center='dc1')
    
        # start node in dc1
        node1.start(wait_for_binary_proto=True)
    
        # populate data in dc1
        session = self.patient_exclusive_cql_connection(node1)
        create_ks(session, 'ks', {'dc1': 1})
        create_cf(session, 'cf', columns={'c1': 'text', 'c2': 'text'})
        insert_c1c2(session, n=keys, consistency=ConsistencyLevel.LOCAL_ONE)
    
        # check data
        for i in range(0, keys):
            query_c1c2(session, i, ConsistencyLevel.LOCAL_ONE)
        session.shutdown()
    
        # Bootstrapping a new node in dc2 with auto_bootstrap: false
        node2 = cluster.create_node('node2', False,
                                    ('127.0.0.2', 9160),
                                    ('127.0.0.2', 7000),
                                    '7200', '2001', None,
                                    binary_interface=('127.0.0.2', 9042))
        cluster.add(node2, False, data_center='dc2')
>       node2.start(wait_for_binary_proto=True)

rebuild_test.py:72: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../dtest/lib/python3.6/site-packages/ccmlib/node.py:901: in start
    self.wait_for_binary_interface(from_mark=self.mark)
../dtest/lib/python3.6/site-packages/ccmlib/node.py:689: in wait_for_binary_interface
    self.watch_log_for("Starting listening for CQL clients", **kwargs)
../dtest/lib/python3.6/site-packages/ccmlib/node.py:586: in watch_log_for
    self.raise_node_error_if_cassandra_process_is_terminated()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <ccmlib.node.Node object at 0x7f1c9b416780>

    def raise_node_error_if_cassandra_process_is_terminated(self):
        if not self._is_pid_running():
            msg = "C* process with {pid} is terminated".format(pid=self.pid)
            common.debug(msg)
>           raise NodeError(msg)
E           ccmlib.node.NodeError: C* process with 2617 is terminated

../dtest/lib/python3.6/site-packages/ccmlib/node.py:670: NodeError
---------------------------- Captured stdout setup -----------------------------
04:24:38,74 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
04:24:37,817 conftest INFO Starting execution of test_simple_rebuild at 2022-02-06 04:24:37.817603
04:24:37,979 dtest_setup INFO cluster ccm directory: /tmp/dtest-8jlne_ue
----------------------------- Captured stdout call -----------------------------
04:24:38,799 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-8jlne_ue/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-8jlne_ue/test/node1/conf'}
04:24:38,800 ccm INFO node1: using Java 8 for the current invocation
04:24:39,24 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-8jlne_ue/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-8jlne_ue/test/node1/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
04:24:39,25 ccm INFO node1: using Java 8 for the current invocation
04:24:39,125 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:25:23,615 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-8jlne_ue/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-8jlne_ue/test/node2/conf'}
04:25:23,616 ccm INFO node2: using Java 8 for the current invocation
04:25:23,873 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-8jlne_ue/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-8jlne_ue/test/node2/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=4'}
04:25:23,874 ccm INFO node2: using Java 8 for the current invocation
04:25:23,992 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:26:44,659 ccm DEBUG C* process with 2617 is terminated
------------------------------ Captured log call -------------------------------
04:24:38,799 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-8jlne_ue/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-8jlne_ue/test/node1/conf'}
04:24:38,800 ccm INFO node1: using Java 8 for the current invocation
04:24:39,24 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-8jlne_ue/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-8jlne_ue/test/node1/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
04:24:39,25 ccm INFO node1: using Java 8 for the current invocation
04:24:39,125 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:25:23,615 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-8jlne_ue/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-8jlne_ue/test/node2/conf'}
04:25:23,616 ccm INFO node2: using Java 8 for the current invocation
04:25:23,873 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-8jlne_ue/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-8jlne_ue/test/node2/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=4'}
04:25:23,874 ccm INFO node2: using Java 8 for the current invocation
04:25:23,992 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
04:26:45,221 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_simple_rebuild failed and was not selected for rerun.
	<class 'ccmlib.node.NodeError'>
	C* process with 2617 is terminated
	[<TracebackEntry /root/cassandra-dtest/rebuild_test.py:72>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:901>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:689>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:586>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:670>]

===End Flaky Test Report===
========================== 1 failed in 128.01 seconds ==========================
[msx] rc = 1
v1v2 running time = 150020592093
---> v1v2 test failed.
proj: cassandra
u_test: rebuild_test.py::TestRebuild::test_simple_rebuild
h_list: request_timeout_in_ms@@@CassandraDaemon@@@-3@@@15000@@@50
vv_mode: v1v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra rebuild_test.py::TestRebuild::test_simple_rebuild false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is rebuild_test.py::TestRebuild::test_simple_rebuild
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

rebuild_test.py::TestRebuild::test_simple_rebuild 
-------------------------------- live log call ---------------------------------
04:29:30,691 cassandra.protocol WARNING Server warning: When increasing replication factor you need to run a full (-full) repair to distribute the data.
04:29:31,26 cassandra.protocol WARNING Server warning: When increasing replication factor you need to run a full (-full) repair to distribute the data.
PASSED                                                                   [100%]
===Flaky Test Report===

test_simple_rebuild passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 154.74 seconds ==========================
[msx] rc = 0
v1v1 running time = 176809571978
cassandra rebuild_test.py::TestRebuild::test_simple_rebuild false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is rebuild_test.py::TestRebuild::test_simple_rebuild
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

rebuild_test.py::TestRebuild::test_simple_rebuild FAILED                 [100%]

=================================== FAILURES ===================================
_______________________ TestRebuild.test_simple_rebuild ________________________

self = <rebuild_test.TestRebuild object at 0x7f54004e2390>

    def test_simple_rebuild(self):
        """
            @jira_ticket CASSANDRA-9119
    
            Test rebuild from other dc works as expected.
            """
    
        keys = 1000
    
        cluster = self.cluster
        cluster.set_configuration_options(values={'endpoint_snitch': 'org.apache.cassandra.locator.PropertyFileSnitch'})
        node1 = cluster.create_node('node1', False,
                                    None,
                                    ('127.0.0.1', 7000),
                                    '7100', '2000', None,
                                    binary_interface=('127.0.0.1', 9042))
        cluster.add(node1, True, data_center='dc1')
    
        # start node in dc1
        node1.start(wait_for_binary_proto=True)
    
        # populate data in dc1
        session = self.patient_exclusive_cql_connection(node1)
        create_ks(session, 'ks', {'dc1': 1})
        create_cf(session, 'cf', columns={'c1': 'text', 'c2': 'text'})
        insert_c1c2(session, n=keys, consistency=ConsistencyLevel.LOCAL_ONE)
    
        # check data
        for i in range(0, keys):
            query_c1c2(session, i, ConsistencyLevel.LOCAL_ONE)
        session.shutdown()
    
        # Bootstrapping a new node in dc2 with auto_bootstrap: false
        node2 = cluster.create_node('node2', False,
                                    ('127.0.0.2', 9160),
                                    ('127.0.0.2', 7000),
                                    '7200', '2001', None,
                                    binary_interface=('127.0.0.2', 9042))
        cluster.add(node2, False, data_center='dc2')
>       node2.start(wait_for_binary_proto=True)

rebuild_test.py:72: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../dtest/lib/python3.6/site-packages/ccmlib/node.py:901: in start
    self.wait_for_binary_interface(from_mark=self.mark)
../dtest/lib/python3.6/site-packages/ccmlib/node.py:689: in wait_for_binary_interface
    self.watch_log_for("Starting listening for CQL clients", **kwargs)
../dtest/lib/python3.6/site-packages/ccmlib/node.py:586: in watch_log_for
    self.raise_node_error_if_cassandra_process_is_terminated()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <ccmlib.node.Node object at 0x7f53fec38a20>

    def raise_node_error_if_cassandra_process_is_terminated(self):
        if not self._is_pid_running():
            msg = "C* process with {pid} is terminated".format(pid=self.pid)
            common.debug(msg)
>           raise NodeError(msg)
E           ccmlib.node.NodeError: C* process with 6090 is terminated

../dtest/lib/python3.6/site-packages/ccmlib/node.py:670: NodeError
---------------------------- Captured stdout setup -----------------------------
04:30:04,888 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
04:30:04,619 conftest INFO Starting execution of test_simple_rebuild at 2022-02-06 04:30:04.619905
04:30:04,777 dtest_setup INFO cluster ccm directory: /tmp/dtest-4x27h0m8
----------------------------- Captured stdout call -----------------------------
04:30:05,614 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-4x27h0m8/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-4x27h0m8/test/node1/conf'}
04:30:05,615 ccm INFO node1: using Java 8 for the current invocation
04:30:05,827 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-4x27h0m8/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-4x27h0m8/test/node1/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
04:30:05,828 ccm INFO node1: using Java 8 for the current invocation
04:30:05,916 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:30:50,955 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-4x27h0m8/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-4x27h0m8/test/node2/conf'}
04:30:50,956 ccm INFO node2: using Java 8 for the current invocation
04:30:51,190 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-4x27h0m8/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-4x27h0m8/test/node2/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=4'}
04:30:51,191 ccm INFO node2: using Java 8 for the current invocation
04:30:51,311 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:32:10,960 ccm DEBUG C* process with 6090 is terminated
------------------------------ Captured log call -------------------------------
04:30:05,614 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-4x27h0m8/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-4x27h0m8/test/node1/conf'}
04:30:05,615 ccm INFO node1: using Java 8 for the current invocation
04:30:05,827 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-4x27h0m8/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-4x27h0m8/test/node1/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
04:30:05,828 ccm INFO node1: using Java 8 for the current invocation
04:30:05,916 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:30:50,955 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-4x27h0m8/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-4x27h0m8/test/node2/conf'}
04:30:50,956 ccm INFO node2: using Java 8 for the current invocation
04:30:51,190 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-4x27h0m8/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-4x27h0m8/test/node2/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=4'}
04:30:51,191 ccm INFO node2: using Java 8 for the current invocation
04:30:51,311 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
04:32:11,494 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_simple_rebuild failed and was not selected for rerun.
	<class 'ccmlib.node.NodeError'>
	C* process with 6090 is terminated
	[<TracebackEntry /root/cassandra-dtest/rebuild_test.py:72>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:901>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:689>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:586>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:670>]

===End Flaky Test Report===
========================== 1 failed in 127.42 seconds ==========================
[msx] rc = 1
v2v2 running time = 149380574967
---> v1v1 or v2v2 test failed.
v2v2 failed in a hypo test
proj: cassandra
u_test: rebuild_test.py::TestRebuild::test_simple_rebuild
h_list: request_timeout_in_ms@@@CassandraDaemon@@@-3@@@15000@@@50
vv_mode: v2v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra rebuild_test.py::TestRebuild::test_simple_rebuild false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is rebuild_test.py::TestRebuild::test_simple_rebuild
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

rebuild_test.py::TestRebuild::test_simple_rebuild FAILED                 [100%]

=================================== FAILURES ===================================
_______________________ TestRebuild.test_simple_rebuild ________________________

self = <rebuild_test.TestRebuild object at 0x7f824deaf4e0>

    def test_simple_rebuild(self):
        """
            @jira_ticket CASSANDRA-9119
    
            Test rebuild from other dc works as expected.
            """
    
        keys = 1000
    
        cluster = self.cluster
        cluster.set_configuration_options(values={'endpoint_snitch': 'org.apache.cassandra.locator.PropertyFileSnitch'})
        node1 = cluster.create_node('node1', False,
                                    None,
                                    ('127.0.0.1', 7000),
                                    '7100', '2000', None,
                                    binary_interface=('127.0.0.1', 9042))
        cluster.add(node1, True, data_center='dc1')
    
        # start node in dc1
        node1.start(wait_for_binary_proto=True)
    
        # populate data in dc1
        session = self.patient_exclusive_cql_connection(node1)
        create_ks(session, 'ks', {'dc1': 1})
        create_cf(session, 'cf', columns={'c1': 'text', 'c2': 'text'})
        insert_c1c2(session, n=keys, consistency=ConsistencyLevel.LOCAL_ONE)
    
        # check data
        for i in range(0, keys):
            query_c1c2(session, i, ConsistencyLevel.LOCAL_ONE)
        session.shutdown()
    
        # Bootstrapping a new node in dc2 with auto_bootstrap: false
        node2 = cluster.create_node('node2', False,
                                    ('127.0.0.2', 9160),
                                    ('127.0.0.2', 7000),
                                    '7200', '2001', None,
                                    binary_interface=('127.0.0.2', 9042))
        cluster.add(node2, False, data_center='dc2')
>       node2.start(wait_for_binary_proto=True)

rebuild_test.py:72: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../dtest/lib/python3.6/site-packages/ccmlib/node.py:901: in start
    self.wait_for_binary_interface(from_mark=self.mark)
../dtest/lib/python3.6/site-packages/ccmlib/node.py:689: in wait_for_binary_interface
    self.watch_log_for("Starting listening for CQL clients", **kwargs)
../dtest/lib/python3.6/site-packages/ccmlib/node.py:586: in watch_log_for
    self.raise_node_error_if_cassandra_process_is_terminated()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <ccmlib.node.Node object at 0x7f824e129eb8>

    def raise_node_error_if_cassandra_process_is_terminated(self):
        if not self._is_pid_running():
            msg = "C* process with {pid} is terminated".format(pid=self.pid)
            common.debug(msg)
>           raise NodeError(msg)
E           ccmlib.node.NodeError: C* process with 7595 is terminated

../dtest/lib/python3.6/site-packages/ccmlib/node.py:670: NodeError
---------------------------- Captured stdout setup -----------------------------
4:32:34,474 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
04:32:34,200 conftest INFO Starting execution of test_simple_rebuild at 2022-02-06 04:32:34.200249
04:32:34,358 dtest_setup INFO cluster ccm directory: /tmp/dtest-80zrltpp
----------------------------- Captured stdout call -----------------------------
04:32:35,173 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-80zrltpp/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-80zrltpp/test/node1/conf'}
04:32:35,175 ccm INFO node1: using Java 8 for the current invocation
04:32:35,373 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-80zrltpp/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-80zrltpp/test/node1/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
04:32:35,374 ccm INFO node1: using Java 8 for the current invocation
04:32:35,470 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:33:20,313 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-80zrltpp/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-80zrltpp/test/node2/conf'}
04:33:20,315 ccm INFO node2: using Java 8 for the current invocation
04:33:20,532 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-80zrltpp/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-80zrltpp/test/node2/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=4'}
04:33:20,533 ccm INFO node2: using Java 8 for the current invocation
04:33:20,664 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:34:40,330 ccm DEBUG C* process with 7595 is terminated
------------------------------ Captured log call -------------------------------
04:32:35,173 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-80zrltpp/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-80zrltpp/test/node1/conf'}
04:32:35,175 ccm INFO node1: using Java 8 for the current invocation
04:32:35,373 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-80zrltpp/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-80zrltpp/test/node1/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
04:32:35,374 ccm INFO node1: using Java 8 for the current invocation
04:32:35,470 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:33:20,313 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-80zrltpp/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-80zrltpp/test/node2/conf'}
04:33:20,315 ccm INFO node2: using Java 8 for the current invocation
04:33:20,532 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-80zrltpp/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-80zrltpp/test/node2/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=4'}
04:33:20,533 ccm INFO node2: using Java 8 for the current invocation
04:33:20,664 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
04:34:40,882 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_simple_rebuild failed and was not selected for rerun.
	<class 'ccmlib.node.NodeError'>
	C* process with 7595 is terminated
	[<TracebackEntry /root/cassandra-dtest/rebuild_test.py:72>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:901>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:689>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:586>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:670>]

===End Flaky Test Report===
========================== 1 failed in 127.25 seconds ==========================
[msx] rc = 1
v1v2 running time = 149386090898
---> v1v2 test failed.
proj: cassandra
u_test: rebuild_test.py::TestRebuild::test_simple_rebuild
h_list: request_timeout_in_ms@@@CassandraDaemon@@@-3@@@15000@@@50
vv_mode: v1v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra rebuild_test.py::TestRebuild::test_simple_rebuild false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is rebuild_test.py::TestRebuild::test_simple_rebuild
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

rebuild_test.py::TestRebuild::test_simple_rebuild 
-------------------------------- live log call ---------------------------------
04:37:27,164 cassandra.protocol WARNING Server warning: When increasing replication factor you need to run a full (-full) repair to distribute the data.
04:37:27,928 cassandra.protocol WARNING Server warning: When increasing replication factor you need to run a full (-full) repair to distribute the data.
PASSED                                                                   [100%]
===Flaky Test Report===

test_simple_rebuild passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 156.00 seconds ==========================
[msx] rc = 0
v1v1 running time = 178130613879
cassandra rebuild_test.py::TestRebuild::test_simple_rebuild false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is rebuild_test.py::TestRebuild::test_simple_rebuild
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

rebuild_test.py::TestRebuild::test_simple_rebuild FAILED                 [100%]

=================================== FAILURES ===================================
_______________________ TestRebuild.test_simple_rebuild ________________________

self = <rebuild_test.TestRebuild object at 0x7f5b6f7968d0>

    def test_simple_rebuild(self):
        """
            @jira_ticket CASSANDRA-9119
    
            Test rebuild from other dc works as expected.
            """
    
        keys = 1000
    
        cluster = self.cluster
        cluster.set_configuration_options(values={'endpoint_snitch': 'org.apache.cassandra.locator.PropertyFileSnitch'})
        node1 = cluster.create_node('node1', False,
                                    None,
                                    ('127.0.0.1', 7000),
                                    '7100', '2000', None,
                                    binary_interface=('127.0.0.1', 9042))
        cluster.add(node1, True, data_center='dc1')
    
        # start node in dc1
        node1.start(wait_for_binary_proto=True)
    
        # populate data in dc1
        session = self.patient_exclusive_cql_connection(node1)
        create_ks(session, 'ks', {'dc1': 1})
        create_cf(session, 'cf', columns={'c1': 'text', 'c2': 'text'})
        insert_c1c2(session, n=keys, consistency=ConsistencyLevel.LOCAL_ONE)
    
        # check data
        for i in range(0, keys):
            query_c1c2(session, i, ConsistencyLevel.LOCAL_ONE)
        session.shutdown()
    
        # Bootstrapping a new node in dc2 with auto_bootstrap: false
        node2 = cluster.create_node('node2', False,
                                    ('127.0.0.2', 9160),
                                    ('127.0.0.2', 7000),
                                    '7200', '2001', None,
                                    binary_interface=('127.0.0.2', 9042))
        cluster.add(node2, False, data_center='dc2')
>       node2.start(wait_for_binary_proto=True)

rebuild_test.py:72: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../dtest/lib/python3.6/site-packages/ccmlib/node.py:901: in start
    self.wait_for_binary_interface(from_mark=self.mark)
../dtest/lib/python3.6/site-packages/ccmlib/node.py:689: in wait_for_binary_interface
    self.watch_log_for("Starting listening for CQL clients", **kwargs)
../dtest/lib/python3.6/site-packages/ccmlib/node.py:586: in watch_log_for
    self.raise_node_error_if_cassandra_process_is_terminated()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <ccmlib.node.Node object at 0x7f5b6f793278>

    def raise_node_error_if_cassandra_process_is_terminated(self):
        if not self._is_pid_running():
            msg = "C* process with {pid} is terminated".format(pid=self.pid)
            common.debug(msg)
>           raise NodeError(msg)
E           ccmlib.node.NodeError: C* process with 11069 is terminated

../dtest/lib/python3.6/site-packages/ccmlib/node.py:670: NodeError
---------------------------- Captured stdout setup -----------------------------
04:38:01,714 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
04:38:01,541 conftest INFO Starting execution of test_simple_rebuild at 2022-02-06 04:38:01.541770
04:38:01,622 dtest_setup INFO cluster ccm directory: /tmp/dtest-l8b0s69x
----------------------------- Captured stdout call -----------------------------

04:38:02,354 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-l8b0s69x/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-l8b0s69x/test/node1/conf'}
04:38:02,355 ccm INFO node1: using Java 8 for the current invocation
04:38:02,560 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-l8b0s69x/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-l8b0s69x/test/node1/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
04:38:02,561 ccm INFO node1: using Java 8 for the current invocation
04:38:02,667 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:38:47,859 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-l8b0s69x/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-l8b0s69x/test/node2/conf'}
04:38:47,860 ccm INFO node2: using Java 8 for the current invocation
04:38:48,79 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-l8b0s69x/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-l8b0s69x/test/node2/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=4'}
04:38:48,80 ccm INFO node2: using Java 8 for the current invocation
04:38:48,188 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:40:07,861 ccm DEBUG C* process with 11069 is terminated
------------------------------ Captured log call -------------------------------
04:38:02,354 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-l8b0s69x/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-l8b0s69x/test/node1/conf'}
04:38:02,355 ccm INFO node1: using Java 8 for the current invocation
04:38:02,560 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-l8b0s69x/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-l8b0s69x/test/node1/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
04:38:02,561 ccm INFO node1: using Java 8 for the current invocation
04:38:02,667 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:38:47,859 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-l8b0s69x/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-l8b0s69x/test/node2/conf'}
04:38:47,860 ccm INFO node2: using Java 8 for the current invocation
04:38:48,79 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-l8b0s69x/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-l8b0s69x/test/node2/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=4'}
04:38:48,80 ccm INFO node2: using Java 8 for the current invocation
04:38:48,188 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
04:40:08,338 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_simple_rebuild failed and was not selected for rerun.
	<class 'ccmlib.node.NodeError'>
	C* process with 11069 is terminated
	[<TracebackEntry /root/cassandra-dtest/rebuild_test.py:72>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:901>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:689>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:586>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:670>]

===End Flaky Test Report===
========================== 1 failed in 127.34 seconds ==========================
[msx] rc = 1
v2v2 running time = 149368620614
---> v1v1 or v2v2 test failed.
v2v2 failed in a hypo test
proj: cassandra
u_test: rebuild_test.py::TestRebuild::test_simple_rebuild
h_list: request_timeout_in_ms@@@CassandraDaemon@@@-3@@@15000@@@50
vv_mode: v2v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra rebuild_test.py::TestRebuild::test_simple_rebuild false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is rebuild_test.py::TestRebuild::test_simple_rebuild
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

rebuild_test.py::TestRebuild::test_simple_rebuild FAILED                 [100%]

=================================== FAILURES ===================================
_______________________ TestRebuild.test_simple_rebuild ________________________

self = <rebuild_test.TestRebuild object at 0x7f38917ce400>

    def test_simple_rebuild(self):
        """
            @jira_ticket CASSANDRA-9119
    
            Test rebuild from other dc works as expected.
            """
    
        keys = 1000
    
        cluster = self.cluster
        cluster.set_configuration_options(values={'endpoint_snitch': 'org.apache.cassandra.locator.PropertyFileSnitch'})
        node1 = cluster.create_node('node1', False,
                                    None,
                                    ('127.0.0.1', 7000),
                                    '7100', '2000', None,
                                    binary_interface=('127.0.0.1', 9042))
        cluster.add(node1, True, data_center='dc1')
    
        # start node in dc1
        node1.start(wait_for_binary_proto=True)
    
        # populate data in dc1
        session = self.patient_exclusive_cql_connection(node1)
        create_ks(session, 'ks', {'dc1': 1})
        create_cf(session, 'cf', columns={'c1': 'text', 'c2': 'text'})
        insert_c1c2(session, n=keys, consistency=ConsistencyLevel.LOCAL_ONE)
    
        # check data
        for i in range(0, keys):
            query_c1c2(session, i, ConsistencyLevel.LOCAL_ONE)
        session.shutdown()
    
        # Bootstrapping a new node in dc2 with auto_bootstrap: false
        node2 = cluster.create_node('node2', False,
                                    ('127.0.0.2', 9160),
                                    ('127.0.0.2', 7000),
                                    '7200', '2001', None,
                                    binary_interface=('127.0.0.2', 9042))
        cluster.add(node2, False, data_center='dc2')
>       node2.start(wait_for_binary_proto=True)

rebuild_test.py:72: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../dtest/lib/python3.6/site-packages/ccmlib/node.py:901: in start
    self.wait_for_binary_interface(from_mark=self.mark)
../dtest/lib/python3.6/site-packages/ccmlib/node.py:689: in wait_for_binary_interface
    self.watch_log_for("Starting listening for CQL clients", **kwargs)
../dtest/lib/python3.6/site-packages/ccmlib/node.py:586: in watch_log_for
    self.raise_node_error_if_cassandra_process_is_terminated()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <ccmlib.node.Node object at 0x7f3890710668>

    def raise_node_error_if_cassandra_process_is_terminated(self):
        if not self._is_pid_running():
            msg = "C* process with {pid} is terminated".format(pid=self.pid)
            common.debug(msg)
>           raise NodeError(msg)
E           ccmlib.node.NodeError: C* process with 12550 is terminated

../dtest/lib/python3.6/site-packages/ccmlib/node.py:670: NodeError
---------------------------- Captured stdout setup -----------------------------
04:40:31,116 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
04:40:30,912 conftest INFO Starting execution of test_simple_rebuild at 2022-02-06 04:40:30.912522
04:40:31,26 dtest_setup INFO cluster ccm directory: /tmp/dtest-pk2ctr1x
----------------------------- Captured stdout call -----------------------------

04:40:31,748 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-pk2ctr1x/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-pk2ctr1x/test/node1/conf'}
04:40:31,750 ccm INFO node1: using Java 8 for the current invocation
04:40:31,971 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-pk2ctr1x/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-pk2ctr1x/test/node1/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
04:40:31,973 ccm INFO node1: using Java 8 for the current invocation
04:40:32,85 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:41:16,399 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-pk2ctr1x/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-pk2ctr1x/test/node2/conf'}
04:41:16,400 ccm INFO node2: using Java 8 for the current invocation
04:41:16,622 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-pk2ctr1x/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-pk2ctr1x/test/node2/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=4'}
04:41:16,623 ccm INFO node2: using Java 8 for the current invocation
04:41:16,735 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:42:37,389 ccm DEBUG C* process with 12550 is terminated
------------------------------ Captured log call -------------------------------
04:40:31,748 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-pk2ctr1x/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-pk2ctr1x/test/node1/conf'}
04:40:31,750 ccm INFO node1: using Java 8 for the current invocation
04:40:31,971 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-pk2ctr1x/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-pk2ctr1x/test/node1/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
04:40:31,973 ccm INFO node1: using Java 8 for the current invocation
04:40:32,85 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:41:16,399 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-pk2ctr1x/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-pk2ctr1x/test/node2/conf'}
04:41:16,400 ccm INFO node2: using Java 8 for the current invocation
04:41:16,622 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-pk2ctr1x/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-pk2ctr1x/test/node2/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=4'}
04:41:16,623 ccm INFO node2: using Java 8 for the current invocation
04:41:16,735 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
04:42:37,873 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_simple_rebuild failed and was not selected for rerun.
	<class 'ccmlib.node.NodeError'>
	C* process with 12550 is terminated
	[<TracebackEntry /root/cassandra-dtest/rebuild_test.py:72>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:901>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:689>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:586>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:670>]

===End Flaky Test Report===
========================== 1 failed in 127.51 seconds ==========================
[msx] rc = 1
v1v2 running time = 149511025260
---> v1v2 test failed.
proj: cassandra
u_test: rebuild_test.py::TestRebuild::test_simple_rebuild
h_list: request_timeout_in_ms@@@CassandraDaemon@@@-3@@@15000@@@50
vv_mode: v1v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra rebuild_test.py::TestRebuild::test_simple_rebuild false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is rebuild_test.py::TestRebuild::test_simple_rebuild
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

rebuild_test.py::TestRebuild::test_simple_rebuild 
-------------------------------- live log call ---------------------------------
04:45:23,346 cassandra.protocol WARNING Server warning: When increasing replication factor you need to run a full (-full) repair to distribute the data.
04:45:24,94 cassandra.protocol WARNING Server warning: When increasing replication factor you need to run a full (-full) repair to distribute the data.
PASSED                                                                   [100%]
===Flaky Test Report===

test_simple_rebuild passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 155.61 seconds ==========================
[msx] rc = 0
v1v1 running time = 177567434943
cassandra rebuild_test.py::TestRebuild::test_simple_rebuild false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is rebuild_test.py::TestRebuild::test_simple_rebuild
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

rebuild_test.py::TestRebuild::test_simple_rebuild FAILED                 [100%]

=================================== FAILURES ===================================
_______________________ TestRebuild.test_simple_rebuild ________________________

self = <rebuild_test.TestRebuild object at 0x7f9f9e061f60>

    def test_simple_rebuild(self):
        """
            @jira_ticket CASSANDRA-9119
    
            Test rebuild from other dc works as expected.
            """
    
        keys = 1000
    
        cluster = self.cluster
        cluster.set_configuration_options(values={'endpoint_snitch': 'org.apache.cassandra.locator.PropertyFileSnitch'})
        node1 = cluster.create_node('node1', False,
                                    None,
                                    ('127.0.0.1', 7000),
                                    '7100', '2000', None,
                                    binary_interface=('127.0.0.1', 9042))
        cluster.add(node1, True, data_center='dc1')
    
        # start node in dc1
        node1.start(wait_for_binary_proto=True)
    
        # populate data in dc1
        session = self.patient_exclusive_cql_connection(node1)
        create_ks(session, 'ks', {'dc1': 1})
        create_cf(session, 'cf', columns={'c1': 'text', 'c2': 'text'})
        insert_c1c2(session, n=keys, consistency=ConsistencyLevel.LOCAL_ONE)
    
        # check data
        for i in range(0, keys):
            query_c1c2(session, i, ConsistencyLevel.LOCAL_ONE)
        session.shutdown()
    
        # Bootstrapping a new node in dc2 with auto_bootstrap: false
        node2 = cluster.create_node('node2', False,
                                    ('127.0.0.2', 9160),
                                    ('127.0.0.2', 7000),
                                    '7200', '2001', None,
                                    binary_interface=('127.0.0.2', 9042))
        cluster.add(node2, False, data_center='dc2')
>       node2.start(wait_for_binary_proto=True)

rebuild_test.py:72: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../dtest/lib/python3.6/site-packages/ccmlib/node.py:901: in start
    self.wait_for_binary_interface(from_mark=self.mark)
../dtest/lib/python3.6/site-packages/ccmlib/node.py:689: in wait_for_binary_interface
    self.watch_log_for("Starting listening for CQL clients", **kwargs)
../dtest/lib/python3.6/site-packages/ccmlib/node.py:586: in watch_log_for
    self.raise_node_error_if_cassandra_process_is_terminated()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <ccmlib.node.Node object at 0x7f9f9e064278>

    def raise_node_error_if_cassandra_process_is_terminated(self):
        if not self._is_pid_running():
            msg = "C* process with {pid} is terminated".format(pid=self.pid)
            common.debug(msg)
>           raise NodeError(msg)
E           ccmlib.node.NodeError: C* process with 16027 is terminated

../dtest/lib/python3.6/site-packages/ccmlib/node.py:670: NodeError
---------------------------- Captured stdout setup -----------------------------
04:45:58,314 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
04:45:58,9 conftest INFO Starting execution of test_simple_rebuild at 2022-02-06 04:45:58.009848
04:45:58,189 dtest_setup INFO cluster ccm directory: /tmp/dtest-nes3uqfw
----------------------------- Captured stdout call -----------------------------
04:45:58,971 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-nes3uqfw/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-nes3uqfw/test/node1/conf'}
04:45:58,972 ccm INFO node1: using Java 8 for the current invocation
04:45:59,197 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-nes3uqfw/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-nes3uqfw/test/node1/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
04:45:59,198 ccm INFO node1: using Java 8 for the current invocation
04:45:59,313 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:46:44,572 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-nes3uqfw/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-nes3uqfw/test/node2/conf'}
04:46:44,574 ccm INFO node2: using Java 8 for the current invocation
04:46:44,820 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-nes3uqfw/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-nes3uqfw/test/node2/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=4'}
04:46:44,821 ccm INFO node2: using Java 8 for the current invocation
04:46:44,935 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:48:05,599 ccm DEBUG C* process with 16027 is terminated
------------------------------ Captured log call -------------------------------
04:45:58,971 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-nes3uqfw/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-nes3uqfw/test/node1/conf'}
04:45:58,972 ccm INFO node1: using Java 8 for the current invocation
04:45:59,197 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-nes3uqfw/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-nes3uqfw/test/node1/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
04:45:59,198 ccm INFO node1: using Java 8 for the current invocation
04:45:59,313 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:46:44,572 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-nes3uqfw/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-nes3uqfw/test/node2/conf'}
04:46:44,574 ccm INFO node2: using Java 8 for the current invocation
04:46:44,820 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-nes3uqfw/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-nes3uqfw/test/node2/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=4'}
04:46:44,821 ccm INFO node2: using Java 8 for the current invocation
04:46:44,935 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
04:48:06,192 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_simple_rebuild failed and was not selected for rerun.
	<class 'ccmlib.node.NodeError'>
	C* process with 16027 is terminated
	[<TracebackEntry /root/cassandra-dtest/rebuild_test.py:72>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:901>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:689>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:586>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:670>]

===End Flaky Test Report===
========================== 1 failed in 128.74 seconds ==========================
[msx] rc = 1
v2v2 running time = 150758613930
---> v1v1 or v2v2 test failed.
v2v2 failed in a hypo test
proj: cassandra
u_test: rebuild_test.py::TestRebuild::test_simple_rebuild
h_list: request_timeout_in_ms@@@CassandraDaemon@@@-3@@@15000@@@50
vv_mode: v2v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra rebuild_test.py::TestRebuild::test_simple_rebuild false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is rebuild_test.py::TestRebuild::test_simple_rebuild
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

rebuild_test.py::TestRebuild::test_simple_rebuild FAILED                 [100%]

=================================== FAILURES ===================================
_______________________ TestRebuild.test_simple_rebuild ________________________

self = <rebuild_test.TestRebuild object at 0x7fb8d4bd1898>

    def test_simple_rebuild(self):
        """
            @jira_ticket CASSANDRA-9119
    
            Test rebuild from other dc works as expected.
            """
    
        keys = 1000
    
        cluster = self.cluster
        cluster.set_configuration_options(values={'endpoint_snitch': 'org.apache.cassandra.locator.PropertyFileSnitch'})
        node1 = cluster.create_node('node1', False,
                                    None,
                                    ('127.0.0.1', 7000),
                                    '7100', '2000', None,
                                    binary_interface=('127.0.0.1', 9042))
        cluster.add(node1, True, data_center='dc1')
    
        # start node in dc1
        node1.start(wait_for_binary_proto=True)
    
        # populate data in dc1
        session = self.patient_exclusive_cql_connection(node1)
        create_ks(session, 'ks', {'dc1': 1})
        create_cf(session, 'cf', columns={'c1': 'text', 'c2': 'text'})
        insert_c1c2(session, n=keys, consistency=ConsistencyLevel.LOCAL_ONE)
    
        # check data
        for i in range(0, keys):
            query_c1c2(session, i, ConsistencyLevel.LOCAL_ONE)
        session.shutdown()
    
        # Bootstrapping a new node in dc2 with auto_bootstrap: false
        node2 = cluster.create_node('node2', False,
                                    ('127.0.0.2', 9160),
                                    ('127.0.0.2', 7000),
                                    '7200', '2001', None,
                                    binary_interface=('127.0.0.2', 9042))
        cluster.add(node2, False, data_center='dc2')
>       node2.start(wait_for_binary_proto=True)

rebuild_test.py:72: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../dtest/lib/python3.6/site-packages/ccmlib/node.py:901: in start
    self.wait_for_binary_interface(from_mark=self.mark)
../dtest/lib/python3.6/site-packages/ccmlib/node.py:689: in wait_for_binary_interface
    self.watch_log_for("Starting listening for CQL clients", **kwargs)
../dtest/lib/python3.6/site-packages/ccmlib/node.py:586: in watch_log_for
    self.raise_node_error_if_cassandra_process_is_terminated()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <ccmlib.node.Node object at 0x7fb8d4bd1908>

    def raise_node_error_if_cassandra_process_is_terminated(self):
        if not self._is_pid_running():
            msg = "C* process with {pid} is terminated".format(pid=self.pid)
            common.debug(msg)
>           raise NodeError(msg)
E           ccmlib.node.NodeError: C* process with 17499 is terminated

../dtest/lib/python3.6/site-packages/ccmlib/node.py:670: NodeError
---------------------------- Captured stdout setup -----------------------------
04:48:29,76 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
04:48:28,791 conftest INFO Starting execution of test_simple_rebuild at 2022-02-06 04:48:28.791418
04:48:28,953 dtest_setup INFO cluster ccm directory: /tmp/dtest-xkzch5i3
----------------------------- Captured stdout call -----------------------------

04:48:29,765 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-xkzch5i3/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-xkzch5i3/test/node1/conf'}
04:48:29,767 ccm INFO node1: using Java 8 for the current invocation
04:48:29,987 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-xkzch5i3/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-xkzch5i3/test/node1/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
04:48:29,988 ccm INFO node1: using Java 8 for the current invocation
04:48:30,101 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:49:15,236 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-xkzch5i3/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-xkzch5i3/test/node2/conf'}
04:49:15,237 ccm INFO node2: using Java 8 for the current invocation
04:49:15,448 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-xkzch5i3/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-xkzch5i3/test/node2/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=4'}
04:49:15,449 ccm INFO node2: using Java 8 for the current invocation
04:49:15,543 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:50:35,195 ccm DEBUG C* process with 17499 is terminated
------------------------------ Captured log call -------------------------------
04:48:29,765 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-xkzch5i3/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-xkzch5i3/test/node1/conf'}
04:48:29,767 ccm INFO node1: using Java 8 for the current invocation
04:48:29,987 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-xkzch5i3/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-xkzch5i3/test/node1/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
04:48:29,988 ccm INFO node1: using Java 8 for the current invocation
04:48:30,101 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:49:15,236 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-xkzch5i3/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-xkzch5i3/test/node2/conf'}
04:49:15,237 ccm INFO node2: using Java 8 for the current invocation
04:49:15,448 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-xkzch5i3/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-xkzch5i3/test/node2/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=4'}
04:49:15,449 ccm INFO node2: using Java 8 for the current invocation
04:49:15,543 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
04:50:35,674 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_simple_rebuild failed and was not selected for rerun.
	<class 'ccmlib.node.NodeError'>
	C* process with 17499 is terminated
	[<TracebackEntry /root/cassandra-dtest/rebuild_test.py:72>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:901>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:689>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:586>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:670>]

===End Flaky Test Report===
========================== 1 failed in 127.45 seconds ==========================
[msx] rc = 1
v1v2 running time = 149489738966
---> v1v2 test failed.
proj: cassandra
u_test: rebuild_test.py::TestRebuild::test_simple_rebuild
h_list: request_timeout_in_ms@@@CassandraDaemon@@@-3@@@15000@@@50
vv_mode: v1v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra rebuild_test.py::TestRebuild::test_simple_rebuild false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is rebuild_test.py::TestRebuild::test_simple_rebuild
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

rebuild_test.py::TestRebuild::test_simple_rebuild 
-------------------------------- live log call ---------------------------------
04:53:21,607 cassandra.protocol WARNING Server warning: When increasing replication factor you need to run a full (-full) repair to distribute the data.
04:53:22,572 cassandra.protocol WARNING Server warning: When increasing replication factor you need to run a full (-full) repair to distribute the data.
PASSED                                                                   [100%]
===Flaky Test Report===

test_simple_rebuild passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 155.82 seconds ==========================
[msx] rc = 0
v1v1 running time = 177963359791
cassandra rebuild_test.py::TestRebuild::test_simple_rebuild false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is rebuild_test.py::TestRebuild::test_simple_rebuild
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

rebuild_test.py::TestRebuild::test_simple_rebuild 
-------------------------------- live log call ---------------------------------
04:56:19,566 cassandra.protocol WARNING Server warning: When increasing replication factor you need to run a full (-full) repair to distribute the data.
04:56:20,533 cassandra.protocol WARNING Server warning: When increasing replication factor you need to run a full (-full) repair to distribute the data.
PASSED                                                                   [100%]
===Flaky Test Report===

test_simple_rebuild passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 156.10 seconds ==========================
[msx] rc = 0
v2v2 running time = 178217171725
---> v1v1 and v2v2 test test suceeded.
cassandra rebuild_test.py::TestRebuild::test_simple_rebuild false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is rebuild_test.py::TestRebuild::test_simple_rebuild
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

rebuild_test.py::TestRebuild::test_simple_rebuild FAILED                 [100%]

=================================== FAILURES ===================================
_______________________ TestRebuild.test_simple_rebuild ________________________

self = <rebuild_test.TestRebuild object at 0x7f8d291d28d0>

    def test_simple_rebuild(self):
        """
            @jira_ticket CASSANDRA-9119
    
            Test rebuild from other dc works as expected.
            """
    
        keys = 1000
    
        cluster = self.cluster
        cluster.set_configuration_options(values={'endpoint_snitch': 'org.apache.cassandra.locator.PropertyFileSnitch'})
        node1 = cluster.create_node('node1', False,
                                    None,
                                    ('127.0.0.1', 7000),
                                    '7100', '2000', None,
                                    binary_interface=('127.0.0.1', 9042))
        cluster.add(node1, True, data_center='dc1')
    
        # start node in dc1
        node1.start(wait_for_binary_proto=True)
    
        # populate data in dc1
        session = self.patient_exclusive_cql_connection(node1)
        create_ks(session, 'ks', {'dc1': 1})
        create_cf(session, 'cf', columns={'c1': 'text', 'c2': 'text'})
        insert_c1c2(session, n=keys, consistency=ConsistencyLevel.LOCAL_ONE)
    
        # check data
        for i in range(0, keys):
            query_c1c2(session, i, ConsistencyLevel.LOCAL_ONE)
        session.shutdown()
    
        # Bootstrapping a new node in dc2 with auto_bootstrap: false
        node2 = cluster.create_node('node2', False,
                                    ('127.0.0.2', 9160),
                                    ('127.0.0.2', 7000),
                                    '7200', '2001', None,
                                    binary_interface=('127.0.0.2', 9042))
        cluster.add(node2, False, data_center='dc2')
>       node2.start(wait_for_binary_proto=True)

rebuild_test.py:72: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../dtest/lib/python3.6/site-packages/ccmlib/node.py:901: in start
    self.wait_for_binary_interface(from_mark=self.mark)
../dtest/lib/python3.6/site-packages/ccmlib/node.py:689: in wait_for_binary_interface
    self.watch_log_for("Starting listening for CQL clients", **kwargs)
../dtest/lib/python3.6/site-packages/ccmlib/node.py:586: in watch_log_for
    self.raise_node_error_if_cassandra_process_is_terminated()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <ccmlib.node.Node object at 0x7f8d291cf1d0>

    def raise_node_error_if_cassandra_process_is_terminated(self):
        if not self._is_pid_running():
            msg = "C* process with {pid} is terminated".format(pid=self.pid)
            common.debug(msg)
>           raise NodeError(msg)
E           ccmlib.node.NodeError: C* process with 22930 is terminated

../dtest/lib/python3.6/site-packages/ccmlib/node.py:670: NodeError
---------------------------- Captured stdout setup -----------------------------
04:56:54,804 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
04:56:54,489 conftest INFO Starting execution of test_simple_rebuild at 2022-02-06 04:56:54.489631
04:56:54,650 dtest_setup INFO cluster ccm directory: /tmp/dtest-7llb1tdw
----------------------------- Captured stdout call -----------------------------
04:56:55,571 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-7llb1tdw/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-7llb1tdw/test/node1/conf'}
04:56:55,573 ccm INFO node1: using Java 8 for the current invocation
04:56:55,790 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-7llb1tdw/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-7llb1tdw/test/node1/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
04:56:55,791 ccm INFO node1: using Java 8 for the current invocation
04:56:55,903 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:57:40,893 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-7llb1tdw/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-7llb1tdw/test/node2/conf'}
04:57:40,894 ccm INFO node2: using Java 8 for the current invocation
04:57:41,117 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-7llb1tdw/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-7llb1tdw/test/node2/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=4'}
04:57:41,118 ccm INFO node2: using Java 8 for the current invocation
04:57:41,229 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:59:00,872 ccm DEBUG C* process with 22930 is terminated
------------------------------ Captured log call -------------------------------
04:56:55,571 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-7llb1tdw/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-7llb1tdw/test/node1/conf'}
04:56:55,573 ccm INFO node1: using Java 8 for the current invocation
04:56:55,790 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-7llb1tdw/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-7llb1tdw/test/node1/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
04:56:55,791 ccm INFO node1: using Java 8 for the current invocation
04:56:55,903 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:57:40,893 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-7llb1tdw/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-7llb1tdw/test/node2/conf'}
04:57:40,894 ccm INFO node2: using Java 8 for the current invocation
04:57:41,117 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-7llb1tdw/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-7llb1tdw/test/node2/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=4'}
04:57:41,118 ccm INFO node2: using Java 8 for the current invocation
04:57:41,229 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
04:59:01,358 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_simple_rebuild failed and was not selected for rerun.
	<class 'ccmlib.node.NodeError'>
	C* process with 22930 is terminated
	[<TracebackEntry /root/cassandra-dtest/rebuild_test.py:72>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:901>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:689>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:586>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:670>]

===End Flaky Test Report===
========================== 1 failed in 127.43 seconds ==========================
[msx] rc = 1
v1v2 running time = 149466374085
---> v1v2 test failed.
proj: cassandra
u_test: rebuild_test.py::TestRebuild::test_simple_rebuild
h_list: request_timeout_in_ms@@@CassandraDaemon@@@-3@@@15000@@@50
vv_mode: v1v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra rebuild_test.py::TestRebuild::test_simple_rebuild false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is rebuild_test.py::TestRebuild::test_simple_rebuild
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

rebuild_test.py::TestRebuild::test_simple_rebuild 
-------------------------------- live log call ---------------------------------
05:01:46,610 cassandra.protocol WARNING Server warning: When increasing replication factor you need to run a full (-full) repair to distribute the data.
05:01:47,774 cassandra.protocol WARNING Server warning: When increasing replication factor you need to run a full (-full) repair to distribute the data.
PASSED                                                                   [100%]
===Flaky Test Report===

test_simple_rebuild passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 155.73 seconds ==========================
[msx] rc = 0
v1v1 running time = 177773776574
cassandra rebuild_test.py::TestRebuild::test_simple_rebuild false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is rebuild_test.py::TestRebuild::test_simple_rebuild
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

rebuild_test.py::TestRebuild::test_simple_rebuild FAILED                 [100%]

=================================== FAILURES ===================================
_______________________ TestRebuild.test_simple_rebuild ________________________

self = <rebuild_test.TestRebuild object at 0x7f4dca5307b8>

    def test_simple_rebuild(self):
        """
            @jira_ticket CASSANDRA-9119
    
            Test rebuild from other dc works as expected.
            """
    
        keys = 1000
    
        cluster = self.cluster
        cluster.set_configuration_options(values={'endpoint_snitch': 'org.apache.cassandra.locator.PropertyFileSnitch'})
        node1 = cluster.create_node('node1', False,
                                    None,
                                    ('127.0.0.1', 7000),
                                    '7100', '2000', None,
                                    binary_interface=('127.0.0.1', 9042))
        cluster.add(node1, True, data_center='dc1')
    
        # start node in dc1
        node1.start(wait_for_binary_proto=True)
    
        # populate data in dc1
        session = self.patient_exclusive_cql_connection(node1)
        create_ks(session, 'ks', {'dc1': 1})
        create_cf(session, 'cf', columns={'c1': 'text', 'c2': 'text'})
        insert_c1c2(session, n=keys, consistency=ConsistencyLevel.LOCAL_ONE)
    
        # check data
        for i in range(0, keys):
            query_c1c2(session, i, ConsistencyLevel.LOCAL_ONE)
        session.shutdown()
    
        # Bootstrapping a new node in dc2 with auto_bootstrap: false
        node2 = cluster.create_node('node2', False,
                                    ('127.0.0.2', 9160),
                                    ('127.0.0.2', 7000),
                                    '7200', '2001', None,
                                    binary_interface=('127.0.0.2', 9042))
        cluster.add(node2, False, data_center='dc2')
>       node2.start(wait_for_binary_proto=True)

rebuild_test.py:72: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../dtest/lib/python3.6/site-packages/ccmlib/node.py:901: in start
    self.wait_for_binary_interface(from_mark=self.mark)
../dtest/lib/python3.6/site-packages/ccmlib/node.py:689: in wait_for_binary_interface
    self.watch_log_for("Starting listening for CQL clients", **kwargs)
../dtest/lib/python3.6/site-packages/ccmlib/node.py:586: in watch_log_for
    self.raise_node_error_if_cassandra_process_is_terminated()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <ccmlib.node.Node object at 0x7f4dc9cbf588>

    def raise_node_error_if_cassandra_process_is_terminated(self):
        if not self._is_pid_running():
            msg = "C* process with {pid} is terminated".format(pid=self.pid)
            common.debug(msg)
>           raise NodeError(msg)
E           ccmlib.node.NodeError: C* process with 26416 is terminated

../dtest/lib/python3.6/site-packages/ccmlib/node.py:670: NodeError
---------------------------- Captured stdout setup -----------------------------
05:02:21,887 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
05:02:21,682 conftest INFO Starting execution of test_simple_rebuild at 2022-02-06 05:02:21.682563
05:02:21,794 dtest_setup INFO cluster ccm directory: /tmp/dtest-bf43mm1k
----------------------------- Captured stdout call -----------------------------

05:02:22,531 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-bf43mm1k/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-bf43mm1k/test/node1/conf'}
05:02:22,533 ccm INFO node1: using Java 8 for the current invocation
05:02:22,750 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-bf43mm1k/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-bf43mm1k/test/node1/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
05:02:22,751 ccm INFO node1: using Java 8 for the current invocation
05:02:22,864 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
05:03:06,926 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-bf43mm1k/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-bf43mm1k/test/node2/conf'}
05:03:06,927 ccm INFO node2: using Java 8 for the current invocation
05:03:07,134 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-bf43mm1k/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-bf43mm1k/test/node2/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=4'}
05:03:07,136 ccm INFO node2: using Java 8 for the current invocation
05:03:07,239 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
05:04:26,912 ccm DEBUG C* process with 26416 is terminated
------------------------------ Captured log call -------------------------------
05:02:22,531 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-bf43mm1k/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-bf43mm1k/test/node1/conf'}
05:02:22,533 ccm INFO node1: using Java 8 for the current invocation
05:02:22,750 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-bf43mm1k/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-bf43mm1k/test/node1/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
05:02:22,751 ccm INFO node1: using Java 8 for the current invocation
05:02:22,864 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
05:03:06,926 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-bf43mm1k/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-bf43mm1k/test/node2/conf'}
05:03:06,927 ccm INFO node2: using Java 8 for the current invocation
05:03:07,134 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-bf43mm1k/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-bf43mm1k/test/node2/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=4'}
05:03:07,136 ccm INFO node2: using Java 8 for the current invocation
05:03:07,239 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
05:04:27,337 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_simple_rebuild failed and was not selected for rerun.
	<class 'ccmlib.node.NodeError'>
	C* process with 26416 is terminated
	[<TracebackEntry /root/cassandra-dtest/rebuild_test.py:72>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:901>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:689>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:586>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:670>]

===End Flaky Test Report===
========================== 1 failed in 126.20 seconds ==========================
[msx] rc = 1
v2v2 running time = 148216900181
---> v1v1 or v2v2 test failed.
v2v2 failed in a hypo test
proj: cassandra
u_test: rebuild_test.py::TestRebuild::test_simple_rebuild
h_list: request_timeout_in_ms@@@CassandraDaemon@@@-3@@@15000@@@50
vv_mode: v2v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra rebuild_test.py::TestRebuild::test_simple_rebuild false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is rebuild_test.py::TestRebuild::test_simple_rebuild
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

rebuild_test.py::TestRebuild::test_simple_rebuild 
-------------------------------- live log call ---------------------------------
05:07:14,601 cassandra.protocol WARNING Server warning: When increasing replication factor you need to run a full (-full) repair to distribute the data.
05:07:15,368 cassandra.protocol WARNING Server warning: When increasing replication factor you need to run a full (-full) repair to distribute the data.
PASSED                                                                   [100%]
===Flaky Test Report===

test_simple_rebuild passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 156.98 seconds ==========================
[msx] rc = 0
v1v2 running time = 178974782090
---> v1v2 test suceeded.
cassandra rebuild_test.py::TestRebuild::test_simple_rebuild false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is rebuild_test.py::TestRebuild::test_simple_rebuild
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

rebuild_test.py::TestRebuild::test_simple_rebuild 
-------------------------------- live log call ---------------------------------
05:10:11,691 cassandra.protocol WARNING Server warning: When increasing replication factor you need to run a full (-full) repair to distribute the data.
05:10:12,542 cassandra.protocol WARNING Server warning: When increasing replication factor you need to run a full (-full) repair to distribute the data.
PASSED                                                                   [100%]
===Flaky Test Report===

test_simple_rebuild passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 156.05 seconds ==========================
[msx] rc = 0
v1v1 running time = 178060686180
cassandra rebuild_test.py::TestRebuild::test_simple_rebuild false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is rebuild_test.py::TestRebuild::test_simple_rebuild
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

rebuild_test.py::TestRebuild::test_simple_rebuild FAILED                 [100%]

=================================== FAILURES ===================================
_______________________ TestRebuild.test_simple_rebuild ________________________

self = <rebuild_test.TestRebuild object at 0x7f23548c1908>

    def test_simple_rebuild(self):
        """
            @jira_ticket CASSANDRA-9119
    
            Test rebuild from other dc works as expected.
            """
    
        keys = 1000
    
        cluster = self.cluster
        cluster.set_configuration_options(values={'endpoint_snitch': 'org.apache.cassandra.locator.PropertyFileSnitch'})
        node1 = cluster.create_node('node1', False,
                                    None,
                                    ('127.0.0.1', 7000),
                                    '7100', '2000', None,
                                    binary_interface=('127.0.0.1', 9042))
        cluster.add(node1, True, data_center='dc1')
    
        # start node in dc1
        node1.start(wait_for_binary_proto=True)
    
        # populate data in dc1
        session = self.patient_exclusive_cql_connection(node1)
        create_ks(session, 'ks', {'dc1': 1})
        create_cf(session, 'cf', columns={'c1': 'text', 'c2': 'text'})
        insert_c1c2(session, n=keys, consistency=ConsistencyLevel.LOCAL_ONE)
    
        # check data
        for i in range(0, keys):
            query_c1c2(session, i, ConsistencyLevel.LOCAL_ONE)
        session.shutdown()
    
        # Bootstrapping a new node in dc2 with auto_bootstrap: false
        node2 = cluster.create_node('node2', False,
                                    ('127.0.0.2', 9160),
                                    ('127.0.0.2', 7000),
                                    '7200', '2001', None,
                                    binary_interface=('127.0.0.2', 9042))
        cluster.add(node2, False, data_center='dc2')
>       node2.start(wait_for_binary_proto=True)

rebuild_test.py:72: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../dtest/lib/python3.6/site-packages/ccmlib/node.py:901: in start
    self.wait_for_binary_interface(from_mark=self.mark)
../dtest/lib/python3.6/site-packages/ccmlib/node.py:689: in wait_for_binary_interface
    self.watch_log_for("Starting listening for CQL clients", **kwargs)
../dtest/lib/python3.6/site-packages/ccmlib/node.py:586: in watch_log_for
    self.raise_node_error_if_cassandra_process_is_terminated()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <ccmlib.node.Node object at 0x7f23548c17f0>

    def raise_node_error_if_cassandra_process_is_terminated(self):
        if not self._is_pid_running():
            msg = "C* process with {pid} is terminated".format(pid=self.pid)
            common.debug(msg)
>           raise NodeError(msg)
E           ccmlib.node.NodeError: C* process with 31900 is terminated

../dtest/lib/python3.6/site-packages/ccmlib/node.py:670: NodeError
---------------------------- Captured stdout setup -----------------------------
05:10:47,314 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
05:10:47,29 conftest INFO Starting execution of test_simple_rebuild at 2022-02-06 05:10:47.029446
05:10:47,207 dtest_setup INFO cluster ccm directory: /tmp/dtest-it9cxaya
----------------------------- Captured stdout call -----------------------------

05:10:48,11 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-it9cxaya/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-it9cxaya/test/node1/conf'}
05:10:48,12 ccm INFO node1: using Java 8 for the current invocation
05:10:48,255 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-it9cxaya/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-it9cxaya/test/node1/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
05:10:48,256 ccm INFO node1: using Java 8 for the current invocation
05:10:48,370 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
05:11:33,194 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-it9cxaya/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-it9cxaya/test/node2/conf'}
05:11:33,195 ccm INFO node2: using Java 8 for the current invocation
05:11:33,415 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-it9cxaya/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-it9cxaya/test/node2/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=4'}
05:11:33,416 ccm INFO node2: using Java 8 for the current invocation
05:11:33,530 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
05:12:53,183 ccm DEBUG C* process with 31900 is terminated
------------------------------ Captured log call -------------------------------
05:10:48,11 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-it9cxaya/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-it9cxaya/test/node1/conf'}
05:10:48,12 ccm INFO node1: using Java 8 for the current invocation
05:10:48,255 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-it9cxaya/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-it9cxaya/test/node1/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=2'}
05:10:48,256 ccm INFO node1: using Java 8 for the current invocation
05:10:48,370 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
05:11:33,194 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-it9cxaya/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-it9cxaya/test/node2/conf'}
05:11:33,195 ccm INFO node2: using Java 8 for the current invocation
05:11:33,415 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': 'a97d749cf90e', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'rebuild_test.py::TestRebuild::()::test_simple_rebuild (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-it9cxaya/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-it9cxaya/test/node2/conf', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=4'}
05:11:33,416 ccm INFO node2: using Java 8 for the current invocation
05:11:33,530 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
--------------------------- Captured stdout teardown ---------------------------
05:12:53,703 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_simple_rebuild failed and was not selected for rerun.
	<class 'ccmlib.node.NodeError'>
	C* process with 31900 is terminated
	[<TracebackEntry /root/cassandra-dtest/rebuild_test.py:72>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:901>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:689>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:586>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/node.py:670>]

===End Flaky Test Report===
========================== 1 failed in 127.25 seconds ==========================
[msx] rc = 1
v2v2 running time = 149327350571
---> v1v1 or v2v2 test failed.
v2v2 failed in a hypo test
proj: cassandra
u_test: rebuild_test.py::TestRebuild::test_simple_rebuild
h_list: request_timeout_in_ms@@@CassandraDaemon@@@-3@@@15000@@@50
vv_mode: v2v2
result: FAIL
failureMessage: 
stackTrace: 

early stop after 7 is satisfied
v1v2 failed with probability 8 out of 9
v1v1v2v2 failed with probability 7 out of 9
Total execution time in seconds : 4383
0
