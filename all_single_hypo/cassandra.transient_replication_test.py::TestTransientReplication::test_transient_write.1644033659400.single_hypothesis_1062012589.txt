my_type=hypothesis
proj=cassandra
u_test=transient_replication_test.py::TestTransientReplication::test_transient_write
h_list[1]=range_request_timeout_in_ms@@@CassandraDaemon@@@-2@@@50@@@15000
proj: cassandra
u_test: transient_replication_test.py::TestTransientReplication::test_transient_write
h_list: range_request_timeout_in_ms@@@CassandraDaemon@@@-2@@@50@@@15000
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 38.23 seconds ===========================
[msx] rc = 0
v1v2 running time = 60171896311
---> v1v2 test suceeded.
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 39.29 seconds ===========================
[msx] rc = 0
v1v1 running time = 61132841292
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 39.83 seconds ===========================
[msx] rc = 0
v2v2 running time = 61763202751
---> v1v1 and v2v2 test test suceeded.
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 39.27 seconds ===========================
[msx] rc = 0
v1v2 running time = 61200138443
---> v1v2 test suceeded.
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 39.30 seconds ===========================
[msx] rc = 0
v1v1 running time = 61306823096
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 39.27 seconds ===========================
[msx] rc = 0
v2v2 running time = 61117370130
---> v1v1 and v2v2 test test suceeded.
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 38.87 seconds ===========================
[msx] rc = 0
v1v2 running time = 60801299146
---> v1v2 test suceeded.
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write 
-------------------------------- live log call ---------------------------------
04:14:41,928 cassandra.cluster WARNING [control connection] Error connecting to 127.0.0.3:9042:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 3522, in cassandra.cluster.ControlConnection._reconnect_internal
  File "cassandra/cluster.py", line 3599, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3596, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3698, in cassandra.cluster.ControlConnection._refresh_schema
  File "cassandra/metadata.py", line 142, in cassandra.metadata.Metadata.refresh
  File "cassandra/metadata.py", line 165, in cassandra.metadata.Metadata._rebuild_all
  File "cassandra/metadata.py", line 2872, in get_all_keyspaces
  File "cassandra/metadata.py", line 2522, in get_all_keyspaces
  File "cassandra/metadata.py", line 2031, in get_all_keyspaces
  File "cassandra/metadata.py", line 2832, in cassandra.metadata.SchemaParserV4._query_all
  File "cassandra/metadata.py", line 1953, in cassandra.metadata._SchemaParser._handle_results
cassandra.ReadTimeout: Error from server: code=1200 [Coordinator node timed out waiting for replica nodes' responses] message="Operation timed out - received only 0 responses." info={'consistency': 'ONE', 'required_responses': 1, 'received_responses': 0}
04:14:41,930 cassandra.cluster ERROR Control connection failed to connect, shutting down Cluster:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 1690, in cassandra.cluster.Cluster.connect
  File "cassandra/cluster.py", line 3488, in cassandra.cluster.ControlConnection.connect
  File "cassandra/cluster.py", line 3533, in cassandra.cluster.ControlConnection._reconnect_internal
cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.3:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
FAILED                                                                   [100%]

=================================== FAILURES ===================================
________________ TestTransientReplication.test_transient_write _________________

self = <transient_replication_test.TestTransientReplication object at 0x7f0c9d0fd048>

    @pytest.mark.no_vnodes
    def test_transient_write(self):
        """ If write can't succeed on full replica, it's written to the transient node instead """
        for node in self.nodes:
            self.assert_has_no_sstables(node)
    
        tm = lambda n: self.table_metrics(n)
        with tm(self.node1) as tm1, tm(self.node2) as tm2, tm(self.node3) as tm3:
            self.insert_row(1, 1, 1)
            # Stop writes to the other full node
            self.node2.byteman_submit([mk_bman_path('stop_writes.btm')])
            self.insert_row(1, 2, 2)
    
        # node1 should contain both rows
        self.assert_local_rows(self.node1,
                               [[1, 1, 1],
                                [1, 2, 2]])
    
        # write couldn't succeed on node2, so it has only the first row
        self.assert_local_rows(self.node2,
                               [[1, 1, 1]])
    
        # transient replica should hold only the second row
        self.assert_local_rows(self.node3,
>                              [[1, 2, 2]])

transient_replication_test.py:334: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
transient_replication_test.py:249: in assert_local_rows
    assert_all(self.exclusive_cql_connection(node),
dtest_setup.py:188: in exclusive_cql_connection
    **kwargs)
dtest_setup.py:216: in _create_session
    session = cluster.connect(wait_for_all_pools=True)
cassandra/cluster.py:1667: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:1703: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:1690: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:3488: in cassandra.cluster.ControlConnection.connect
    ???
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

>   ???
E   cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.3:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})

cassandra/cluster.py:3533: NoHostAvailable
---------------------------- Captured stdout setup -----------------------------
04:14:04,989 ccm DEBUG Log-watching thread starting.
04:14:06,561 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-oeabya_k/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-oeabya_k/test/node1/conf'}
04:14:06,562 ccm INFO node1: using Java 8 for the current invocation
04:14:06,785 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-oeabya_k/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-oeabya_k/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6'}
04:14:06,786 ccm INFO node1: using Java 8 for the current invocation
04:14:06,898 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:14:07,240 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-oeabya_k/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-oeabya_k/test/node2/conf'}
04:14:07,242 ccm INFO node2: using Java 8 for the current invocation
04:14:07,464 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-oeabya_k/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-oeabya_k/test/node2/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6'}
04:14:07,465 ccm INFO node2: using Java 8 for the current invocation
04:14:07,585 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:14:07,910 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-oeabya_k/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-oeabya_k/test/node3/conf'}
04:14:07,911 ccm INFO node3: using Java 8 for the current invocation
04:14:08,137 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-oeabya_k/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-oeabya_k/test/node3/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6'}
04:14:08,138 ccm INFO node3: using Java 8 for the current invocation
04:14:08,249 ccm INFO Starting node3 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
install rule block digest

---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
04:14:04,764 conftest INFO Starting execution of test_transient_write at 2022-02-05 04:14:04.764153
04:14:04,891 dtest_setup INFO cluster ccm directory: /tmp/dtest-oeabya_k
04:14:06,561 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-oeabya_k/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-oeabya_k/test/node1/conf'}
04:14:06,562 ccm INFO node1: using Java 8 for the current invocation
04:14:06,785 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-oeabya_k/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-oeabya_k/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6'}
04:14:06,786 ccm INFO node1: using Java 8 for the current invocation
04:14:06,898 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:14:07,240 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-oeabya_k/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-oeabya_k/test/node2/conf'}
04:14:07,242 ccm INFO node2: using Java 8 for the current invocation
04:14:07,464 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-oeabya_k/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-oeabya_k/test/node2/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6'}
04:14:07,465 ccm INFO node2: using Java 8 for the current invocation
04:14:07,585 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:14:07,910 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-oeabya_k/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-oeabya_k/test/node3/conf'}
04:14:07,911 ccm INFO node3: using Java 8 for the current invocation
04:14:08,137 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-oeabya_k/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-oeabya_k/test/node3/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6'}
04:14:08,138 ccm INFO node3: using Java 8 for the current invocation
04:14:08,249 ccm INFO Starting node3 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:14:27,435 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.1:9042 datacenter1> discovered
04:14:27,438 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.2:9042 datacenter1> discovered
04:14:27,670 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.3:9042 datacenter1> discovered
04:14:27,670 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.2:9042 datacenter1> discovered
------------------------------ Captured log call -------------------------------
04:14:32,510 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.3:9042 datacenter1> discovered
04:14:32,510 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.2:9042 datacenter1> discovered
04:14:32,997 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.3:9042 datacenter1> discovered
04:14:32,997 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.2:9042 datacenter1> discovered
04:14:41,378 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.3:9042 datacenter1> discovered
04:14:41,378 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.2:9042 datacenter1> discovered
04:14:41,700 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.3:9042 datacenter1> discovered
04:14:41,701 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.1:9042 datacenter1> discovered
04:14:41,853 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.1:9042 datacenter1> discovered
04:14:41,854 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.2:9042 datacenter1> discovered
04:14:41,928 cassandra.cluster WARNING [control connection] Error connecting to 127.0.0.3:9042:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 3522, in cassandra.cluster.ControlConnection._reconnect_internal
  File "cassandra/cluster.py", line 3599, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3596, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3698, in cassandra.cluster.ControlConnection._refresh_schema
  File "cassandra/metadata.py", line 142, in cassandra.metadata.Metadata.refresh
  File "cassandra/metadata.py", line 165, in cassandra.metadata.Metadata._rebuild_all
  File "cassandra/metadata.py", line 2872, in get_all_keyspaces
  File "cassandra/metadata.py", line 2522, in get_all_keyspaces
  File "cassandra/metadata.py", line 2031, in get_all_keyspaces
  File "cassandra/metadata.py", line 2832, in cassandra.metadata.SchemaParserV4._query_all
  File "cassandra/metadata.py", line 1953, in cassandra.metadata._SchemaParser._handle_results
cassandra.ReadTimeout: Error from server: code=1200 [Coordinator node timed out waiting for replica nodes' responses] message="Operation timed out - received only 0 responses." info={'consistency': 'ONE', 'required_responses': 1, 'received_responses': 0}
04:14:41,930 cassandra.cluster ERROR Control connection failed to connect, shutting down Cluster:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 1690, in cassandra.cluster.Cluster.connect
  File "cassandra/cluster.py", line 3488, in cassandra.cluster.ControlConnection.connect
  File "cassandra/cluster.py", line 3533, in cassandra.cluster.ControlConnection._reconnect_internal
cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.3:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
--------------------------- Captured stdout teardown ---------------------------
04:14:42,196 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_transient_write failed and was not selected for rerun.
	<class 'cassandra.cluster.NoHostAvailable'>
	('Unable to connect to any servers', {'127.0.0.3:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
	[<TracebackEntry /root/cassandra-dtest/transient_replication_test.py:334>, <TracebackEntry /root/cassandra-dtest/transient_replication_test.py:249>, <TracebackEntry /root/cassandra-dtest/dtest_setup.py:188>, <TracebackEntry /root/cassandra-dtest/dtest_setup.py:216>, <TracebackEntry cassandra/cluster.py:1667>, <TracebackEntry cassandra/cluster.py:1703>, <TracebackEntry cassandra/cluster.py:1690>, <TracebackEntry cassandra/cluster.py:3488>, <TracebackEntry cassandra/cluster.py:3533>]

===End Flaky Test Report===
========================== 1 failed in 38.25 seconds ===========================
[msx] rc = 1
v1v1 running time = 60092073521
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 39.78 seconds ===========================
[msx] rc = 0
v2v2 running time = 61627413470
---> v1v1 or v2v2 test failed.
v1v1 failed in a hypo test
proj: cassandra
u_test: transient_replication_test.py::TestTransientReplication::test_transient_write
h_list: range_request_timeout_in_ms@@@CassandraDaemon@@@-2@@@50@@@15000
vv_mode: v1v1
result: FAIL
failureMessage: 
stackTrace: 

cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 39.51 seconds ===========================
[msx] rc = 0
v1v2 running time = 61399281043
---> v1v2 test suceeded.
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write 
-------------------------------- live log call ---------------------------------
04:17:36,990 cassandra.cluster WARNING [control connection] Error connecting to 127.0.0.1:9042:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 3522, in cassandra.cluster.ControlConnection._reconnect_internal
  File "cassandra/cluster.py", line 3599, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3596, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3698, in cassandra.cluster.ControlConnection._refresh_schema
  File "cassandra/metadata.py", line 142, in cassandra.metadata.Metadata.refresh
  File "cassandra/metadata.py", line 165, in cassandra.metadata.Metadata._rebuild_all
  File "cassandra/metadata.py", line 2872, in get_all_keyspaces
  File "cassandra/metadata.py", line 2522, in get_all_keyspaces
  File "cassandra/metadata.py", line 2031, in get_all_keyspaces
  File "cassandra/metadata.py", line 2833, in cassandra.metadata.SchemaParserV4._query_all
  File "cassandra/metadata.py", line 1953, in cassandra.metadata._SchemaParser._handle_results
cassandra.ReadTimeout: Error from server: code=1200 [Coordinator node timed out waiting for replica nodes' responses] message="Operation timed out - received only 0 responses." info={'consistency': 'ONE', 'required_responses': 1, 'received_responses': 0}
04:17:36,992 cassandra.cluster ERROR Control connection failed to connect, shutting down Cluster:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 1690, in cassandra.cluster.Cluster.connect
  File "cassandra/cluster.py", line 3488, in cassandra.cluster.ControlConnection.connect
  File "cassandra/cluster.py", line 3533, in cassandra.cluster.ControlConnection._reconnect_internal
cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.1:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
FAILED                                                                   [100%]

=================================== FAILURES ===================================
________________ TestTransientReplication.test_transient_write _________________

self = <transient_replication_test.TestTransientReplication object at 0x7fc9d07b5048>

    @pytest.mark.no_vnodes
    def test_transient_write(self):
        """ If write can't succeed on full replica, it's written to the transient node instead """
        for node in self.nodes:
            self.assert_has_no_sstables(node)
    
        tm = lambda n: self.table_metrics(n)
        with tm(self.node1) as tm1, tm(self.node2) as tm2, tm(self.node3) as tm3:
>           self.insert_row(1, 1, 1)

transient_replication_test.py:318: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
transient_replication_test.py:256: in insert_row
    session = session or self.exclusive_cql_connection(node or self.node1)
dtest_setup.py:188: in exclusive_cql_connection
    **kwargs)
dtest_setup.py:216: in _create_session
    session = cluster.connect(wait_for_all_pools=True)
cassandra/cluster.py:1667: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:1703: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:1690: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:3488: in cassandra.cluster.ControlConnection.connect
    ???
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

>   ???
E   cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.1:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})

cassandra/cluster.py:3533: NoHostAvailable
---------------------------- Captured stdout setup -----------------------------
04:17:08,61 ccm DEBUG Log-watching thread starting.
04:17:09,655 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-z1p9xosk/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-z1p9xosk/test/node1/conf'}
04:17:09,656 ccm INFO node1: using Java 8 for the current invocation
04:17:09,878 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-z1p9xosk/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-z1p9xosk/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6'}
04:17:09,879 ccm INFO node1: using Java 8 for the current invocation
04:17:10,4 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:17:10,367 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-z1p9xosk/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-z1p9xosk/test/node2/conf'}
04:17:10,368 ccm INFO node2: using Java 8 for the current invocation
04:17:10,609 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-z1p9xosk/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-z1p9xosk/test/node2/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6'}
04:17:10,610 ccm INFO node2: using Java 8 for the current invocation
04:17:10,724 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:17:11,13 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-z1p9xosk/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-z1p9xosk/test/node3/conf'}
04:17:11,14 ccm INFO node3: using Java 8 for the current invocation
04:17:11,232 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-z1p9xosk/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-z1p9xosk/test/node3/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6'}
04:17:11,233 ccm INFO node3: using Java 8 for the current invocation
04:17:11,322 ccm INFO Starting node3 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
install rule block digest

---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
04:17:07,887 conftest INFO Starting execution of test_transient_write at 2022-02-05 04:17:07.886971
04:17:07,966 dtest_setup INFO cluster ccm directory: /tmp/dtest-z1p9xosk
04:17:09,655 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-z1p9xosk/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-z1p9xosk/test/node1/conf'}
04:17:09,656 ccm INFO node1: using Java 8 for the current invocation
04:17:09,878 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-z1p9xosk/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-z1p9xosk/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6'}
04:17:09,879 ccm INFO node1: using Java 8 for the current invocation
04:17:10,4 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:17:10,367 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-z1p9xosk/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-z1p9xosk/test/node2/conf'}
04:17:10,368 ccm INFO node2: using Java 8 for the current invocation
04:17:10,609 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-z1p9xosk/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-z1p9xosk/test/node2/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6'}
04:17:10,610 ccm INFO node2: using Java 8 for the current invocation
04:17:10,724 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:17:11,13 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-z1p9xosk/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-z1p9xosk/test/node3/conf'}
04:17:11,14 ccm INFO node3: using Java 8 for the current invocation
04:17:11,232 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-z1p9xosk/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-z1p9xosk/test/node3/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6'}
04:17:11,233 ccm INFO node3: using Java 8 for the current invocation
04:17:11,322 ccm INFO Starting node3 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:17:31,497 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.1:9042 datacenter1> discovered
04:17:31,501 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.2:9042 datacenter1> discovered
04:17:31,726 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.3:9042 datacenter1> discovered
04:17:31,727 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.2:9042 datacenter1> discovered
------------------------------ Captured log call -------------------------------
04:17:36,903 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.3:9042 datacenter1> discovered
04:17:36,904 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.2:9042 datacenter1> discovered
04:17:36,990 cassandra.cluster WARNING [control connection] Error connecting to 127.0.0.1:9042:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 3522, in cassandra.cluster.ControlConnection._reconnect_internal
  File "cassandra/cluster.py", line 3599, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3596, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3698, in cassandra.cluster.ControlConnection._refresh_schema
  File "cassandra/metadata.py", line 142, in cassandra.metadata.Metadata.refresh
  File "cassandra/metadata.py", line 165, in cassandra.metadata.Metadata._rebuild_all
  File "cassandra/metadata.py", line 2872, in get_all_keyspaces
  File "cassandra/metadata.py", line 2522, in get_all_keyspaces
  File "cassandra/metadata.py", line 2031, in get_all_keyspaces
  File "cassandra/metadata.py", line 2833, in cassandra.metadata.SchemaParserV4._query_all
  File "cassandra/metadata.py", line 1953, in cassandra.metadata._SchemaParser._handle_results
cassandra.ReadTimeout: Error from server: code=1200 [Coordinator node timed out waiting for replica nodes' responses] message="Operation timed out - received only 0 responses." info={'consistency': 'ONE', 'required_responses': 1, 'received_responses': 0}
04:17:36,992 cassandra.cluster ERROR Control connection failed to connect, shutting down Cluster:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 1690, in cassandra.cluster.Cluster.connect
  File "cassandra/cluster.py", line 3488, in cassandra.cluster.ControlConnection.connect
  File "cassandra/cluster.py", line 3533, in cassandra.cluster.ControlConnection._reconnect_internal
cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.1:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
--------------------------- Captured stdout teardown ---------------------------
04:17:37,988 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_transient_write failed and was not selected for rerun.
	<class 'cassandra.cluster.NoHostAvailable'>
	('Unable to connect to any servers', {'127.0.0.1:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
	[<TracebackEntry /root/cassandra-dtest/transient_replication_test.py:318>, <TracebackEntry /root/cassandra-dtest/transient_replication_test.py:256>, <TracebackEntry /root/cassandra-dtest/dtest_setup.py:188>, <TracebackEntry /root/cassandra-dtest/dtest_setup.py:216>, <TracebackEntry cassandra/cluster.py:1667>, <TracebackEntry cassandra/cluster.py:1703>, <TracebackEntry cassandra/cluster.py:1690>, <TracebackEntry cassandra/cluster.py:3488>, <TracebackEntry cassandra/cluster.py:3533>]

===End Flaky Test Report===
========================== 1 failed in 30.90 seconds ===========================
[msx] rc = 1
v1v1 running time = 52716675483
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 39.30 seconds ===========================
[msx] rc = 0
v2v2 running time = 61329361808
---> v1v1 or v2v2 test failed.
v1v1 failed in a hypo test
proj: cassandra
u_test: transient_replication_test.py::TestTransientReplication::test_transient_write
h_list: range_request_timeout_in_ms@@@CassandraDaemon@@@-2@@@50@@@15000
vv_mode: v1v1
result: FAIL
failureMessage: 
stackTrace: 

cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write 
-------------------------------- live log setup --------------------------------
04:19:24,763 cassandra.cluster WARNING [control connection] Error connecting to 127.0.0.3:9042:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 3522, in cassandra.cluster.ControlConnection._reconnect_internal
  File "cassandra/cluster.py", line 3599, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3596, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3698, in cassandra.cluster.ControlConnection._refresh_schema
  File "cassandra/metadata.py", line 142, in cassandra.metadata.Metadata.refresh
  File "cassandra/metadata.py", line 165, in cassandra.metadata.Metadata._rebuild_all
  File "cassandra/metadata.py", line 2872, in get_all_keyspaces
  File "cassandra/metadata.py", line 2522, in get_all_keyspaces
  File "cassandra/metadata.py", line 2031, in get_all_keyspaces
  File "cassandra/metadata.py", line 2833, in cassandra.metadata.SchemaParserV4._query_all
  File "cassandra/metadata.py", line 1953, in cassandra.metadata._SchemaParser._handle_results
cassandra.ReadTimeout: Error from server: code=1200 [Coordinator node timed out waiting for replica nodes' responses] message="Operation timed out - received only 0 responses." info={'consistency': 'ONE', 'required_responses': 1, 'received_responses': 0}
04:19:24,766 cassandra.cluster ERROR Control connection failed to connect, shutting down Cluster:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 1690, in cassandra.cluster.Cluster.connect
  File "cassandra/cluster.py", line 3488, in cassandra.cluster.ControlConnection.connect
  File "cassandra/cluster.py", line 3533, in cassandra.cluster.ControlConnection._reconnect_internal
cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.3:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
ERROR                                                                    [100%]

==================================== ERRORS ====================================
_______ ERROR at setup of TestTransientReplication.test_transient_write ________

self = <transient_replication_test.TestTransientReplication object at 0x7f3e909fa208>
fixture_dtest_setup = <dtest_setup.DTestSetup object at 0x7f3e909f9940>

    @pytest.fixture(scope='function', autouse=True)
    def setup_cluster(self, fixture_dtest_setup):
        self.tokens = self.tokens()
    
        patch_start(self.cluster)
        self.cluster.set_configuration_options(values={'hinted_handoff_enabled': False,
                                                       'num_tokens': 1,
                                                       'stream_entire_sstables': self.stream_entire_sstables(),
                                                       'commitlog_sync_period_in_ms': 500,
                                                       'enable_transient_replication': True,
                                                       'dynamic_snitch': False})
        self.populate()
        self.cluster.start()
    
        self.nodes = [patch_start(node) for node in self.cluster.nodelist()]
        self.set_nodes()
    
>       session = self.exclusive_cql_connection(self.node3)

transient_replication_test.py:221: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
dtest_setup.py:188: in exclusive_cql_connection
    **kwargs)
dtest_setup.py:216: in _create_session
    session = cluster.connect(wait_for_all_pools=True)
cassandra/cluster.py:1667: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:1703: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:1690: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:3488: in cassandra.cluster.ControlConnection.connect
    ???
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

>   ???
E   cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.3:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})

cassandra/cluster.py:3533: NoHostAvailable
------------------------------ Captured log setup ------------------------------
04:19:01,937 conftest INFO Starting execution of test_transient_write at 2022-02-05 04:19:01.937501
04:19:02,67 dtest_setup INFO cluster ccm directory: /tmp/dtest-zqw5fmw1
04:19:03,751 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-zqw5fmw1/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-zqw5fmw1/test/node1/conf'}
04:19:03,752 ccm INFO node1: using Java 8 for the current invocation
04:19:03,982 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-zqw5fmw1/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-zqw5fmw1/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6'}
04:19:03,983 ccm INFO node1: using Java 8 for the current invocation
04:19:04,105 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:19:04,432 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-zqw5fmw1/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-zqw5fmw1/test/node2/conf'}
04:19:04,433 ccm INFO node2: using Java 8 for the current invocation
04:19:04,652 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-zqw5fmw1/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-zqw5fmw1/test/node2/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6'}
04:19:04,653 ccm INFO node2: using Java 8 for the current invocation
04:19:04,760 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:19:05,96 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-zqw5fmw1/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-zqw5fmw1/test/node3/conf'}
04:19:05,98 ccm INFO node3: using Java 8 for the current invocation
04:19:05,338 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-zqw5fmw1/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-zqw5fmw1/test/node3/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6'}
04:19:05,340 ccm INFO node3: using Java 8 for the current invocation
04:19:05,449 ccm INFO Starting node3 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:19:24,639 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.1:9042 datacenter1> discovered
04:19:24,642 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.2:9042 datacenter1> discovered
04:19:24,763 cassandra.cluster WARNING [control connection] Error connecting to 127.0.0.3:9042:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 3522, in cassandra.cluster.ControlConnection._reconnect_internal
  File "cassandra/cluster.py", line 3599, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3596, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3698, in cassandra.cluster.ControlConnection._refresh_schema
  File "cassandra/metadata.py", line 142, in cassandra.metadata.Metadata.refresh
  File "cassandra/metadata.py", line 165, in cassandra.metadata.Metadata._rebuild_all
  File "cassandra/metadata.py", line 2872, in get_all_keyspaces
  File "cassandra/metadata.py", line 2522, in get_all_keyspaces
  File "cassandra/metadata.py", line 2031, in get_all_keyspaces
  File "cassandra/metadata.py", line 2833, in cassandra.metadata.SchemaParserV4._query_all
  File "cassandra/metadata.py", line 1953, in cassandra.metadata._SchemaParser._handle_results
cassandra.ReadTimeout: Error from server: code=1200 [Coordinator node timed out waiting for replica nodes' responses] message="Operation timed out - received only 0 responses." info={'consistency': 'ONE', 'required_responses': 1, 'received_responses': 0}
04:19:24,766 cassandra.cluster ERROR Control connection failed to connect, shutting down Cluster:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 1690, in cassandra.cluster.Cluster.connect
  File "cassandra/cluster.py", line 3488, in cassandra.cluster.ControlConnection.connect
  File "cassandra/cluster.py", line 3533, in cassandra.cluster.ControlConnection._reconnect_internal
cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.3:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
===Flaky Test Report===

test_transient_write failed and was not selected for rerun.
	<class 'cassandra.cluster.NoHostAvailable'>
	('Unable to connect to any servers', {'127.0.0.3:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
	[<TracebackEntry /root/cassandra-dtest/transient_replication_test.py:221>, <TracebackEntry /root/cassandra-dtest/dtest_setup.py:188>, <TracebackEntry /root/cassandra-dtest/dtest_setup.py:216>, <TracebackEntry cassandra/cluster.py:1667>, <TracebackEntry cassandra/cluster.py:1703>, <TracebackEntry cassandra/cluster.py:1690>, <TracebackEntry cassandra/cluster.py:3488>, <TracebackEntry cassandra/cluster.py:3533>]

===End Flaky Test Report===
=========================== 1 error in 23.91 seconds ===========================
[msx] rc = 1
v1v2 running time = 45691571630
---> v1v2 test failed.
proj: cassandra
u_test: transient_replication_test.py::TestTransientReplication::test_transient_write
h_list: range_request_timeout_in_ms@@@CassandraDaemon@@@-2@@@50@@@15000
vv_mode: v1v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write 
-------------------------------- live log setup --------------------------------
04:20:11,886 cassandra.cluster WARNING [control connection] Error connecting to 127.0.0.1:9042:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 3522, in cassandra.cluster.ControlConnection._reconnect_internal
  File "cassandra/cluster.py", line 3599, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3596, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3698, in cassandra.cluster.ControlConnection._refresh_schema
  File "cassandra/metadata.py", line 142, in cassandra.metadata.Metadata.refresh
  File "cassandra/metadata.py", line 165, in cassandra.metadata.Metadata._rebuild_all
  File "cassandra/metadata.py", line 2872, in get_all_keyspaces
  File "cassandra/metadata.py", line 2522, in get_all_keyspaces
  File "cassandra/metadata.py", line 2031, in get_all_keyspaces
  File "cassandra/metadata.py", line 2833, in cassandra.metadata.SchemaParserV4._query_all
  File "cassandra/metadata.py", line 1953, in cassandra.metadata._SchemaParser._handle_results
cassandra.ReadTimeout: Error from server: code=1200 [Coordinator node timed out waiting for replica nodes' responses] message="Operation timed out - received only 0 responses." info={'consistency': 'ONE', 'required_responses': 1, 'received_responses': 0}
04:20:11,887 cassandra.cluster ERROR Control connection failed to connect, shutting down Cluster:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 1690, in cassandra.cluster.Cluster.connect
  File "cassandra/cluster.py", line 3488, in cassandra.cluster.ControlConnection.connect
  File "cassandra/cluster.py", line 3533, in cassandra.cluster.ControlConnection._reconnect_internal
cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.1:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
ERROR                                                                    [100%]

==================================== ERRORS ====================================
_______ ERROR at setup of TestTransientReplication.test_transient_write ________

self = <transient_replication_test.TestTransientReplication object at 0x7f61d2952208>
fixture_dtest_setup = <dtest_setup.DTestSetup object at 0x7f61d2951470>

    @pytest.fixture(scope='function', autouse=True)
    def setup_cluster(self, fixture_dtest_setup):
        self.tokens = self.tokens()
    
        patch_start(self.cluster)
        self.cluster.set_configuration_options(values={'hinted_handoff_enabled': False,
                                                       'num_tokens': 1,
                                                       'stream_entire_sstables': self.stream_entire_sstables(),
                                                       'commitlog_sync_period_in_ms': 500,
                                                       'enable_transient_replication': True,
                                                       'dynamic_snitch': False})
        self.populate()
        self.cluster.start()
    
        self.nodes = [patch_start(node) for node in self.cluster.nodelist()]
        self.set_nodes()
    
        session = self.exclusive_cql_connection(self.node3)
>       self.setup_schema()

transient_replication_test.py:222: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
transient_replication_test.py:196: in setup_schema
    session = self.exclusive_cql_connection(self.node1)
dtest_setup.py:188: in exclusive_cql_connection
    **kwargs)
dtest_setup.py:216: in _create_session
    session = cluster.connect(wait_for_all_pools=True)
cassandra/cluster.py:1667: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:1703: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:1690: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:3488: in cassandra.cluster.ControlConnection.connect
    ???
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

>   ???
E   cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.1:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})

cassandra/cluster.py:3533: NoHostAvailable
------------------------------ Captured log setup ------------------------------
04:19:47,740 conftest INFO Starting execution of test_transient_write at 2022-02-05 04:19:47.739924
04:19:47,896 dtest_setup INFO cluster ccm directory: /tmp/dtest-_0yqt6vm
04:19:49,650 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-_0yqt6vm/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-_0yqt6vm/test/node1/conf'}
04:19:49,651 ccm INFO node1: using Java 8 for the current invocation
04:19:49,899 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-_0yqt6vm/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-_0yqt6vm/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6'}
04:19:49,900 ccm INFO node1: using Java 8 for the current invocation
04:19:50,21 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:19:50,376 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-_0yqt6vm/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-_0yqt6vm/test/node2/conf'}
04:19:50,377 ccm INFO node2: using Java 8 for the current invocation
04:19:50,590 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-_0yqt6vm/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-_0yqt6vm/test/node2/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6'}
04:19:50,591 ccm INFO node2: using Java 8 for the current invocation
04:19:50,702 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:19:51,8 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-_0yqt6vm/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-_0yqt6vm/test/node3/conf'}
04:19:51,9 ccm INFO node3: using Java 8 for the current invocation
04:19:51,218 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-_0yqt6vm/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-_0yqt6vm/test/node3/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6'}
04:19:51,219 ccm INFO node3: using Java 8 for the current invocation
04:19:51,323 ccm INFO Starting node3 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:20:11,561 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.1:9042 datacenter1> discovered
04:20:11,564 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.2:9042 datacenter1> discovered
04:20:11,811 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.3:9042 datacenter1> discovered
04:20:11,812 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.2:9042 datacenter1> discovered
04:20:11,886 cassandra.cluster WARNING [control connection] Error connecting to 127.0.0.1:9042:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 3522, in cassandra.cluster.ControlConnection._reconnect_internal
  File "cassandra/cluster.py", line 3599, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3596, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3698, in cassandra.cluster.ControlConnection._refresh_schema
  File "cassandra/metadata.py", line 142, in cassandra.metadata.Metadata.refresh
  File "cassandra/metadata.py", line 165, in cassandra.metadata.Metadata._rebuild_all
  File "cassandra/metadata.py", line 2872, in get_all_keyspaces
  File "cassandra/metadata.py", line 2522, in get_all_keyspaces
  File "cassandra/metadata.py", line 2031, in get_all_keyspaces
  File "cassandra/metadata.py", line 2833, in cassandra.metadata.SchemaParserV4._query_all
  File "cassandra/metadata.py", line 1953, in cassandra.metadata._SchemaParser._handle_results
cassandra.ReadTimeout: Error from server: code=1200 [Coordinator node timed out waiting for replica nodes' responses] message="Operation timed out - received only 0 responses." info={'consistency': 'ONE', 'required_responses': 1, 'received_responses': 0}
04:20:11,887 cassandra.cluster ERROR Control connection failed to connect, shutting down Cluster:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 1690, in cassandra.cluster.Cluster.connect
  File "cassandra/cluster.py", line 3488, in cassandra.cluster.ControlConnection.connect
  File "cassandra/cluster.py", line 3533, in cassandra.cluster.ControlConnection._reconnect_internal
cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.1:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
===Flaky Test Report===

test_transient_write failed and was not selected for rerun.
	<class 'cassandra.cluster.NoHostAvailable'>
	('Unable to connect to any servers', {'127.0.0.1:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
	[<TracebackEntry /root/cassandra-dtest/transient_replication_test.py:222>, <TracebackEntry /root/cassandra-dtest/transient_replication_test.py:196>, <TracebackEntry /root/cassandra-dtest/dtest_setup.py:188>, <TracebackEntry /root/cassandra-dtest/dtest_setup.py:216>, <TracebackEntry cassandra/cluster.py:1667>, <TracebackEntry cassandra/cluster.py:1703>, <TracebackEntry cassandra/cluster.py:1690>, <TracebackEntry cassandra/cluster.py:3488>, <TracebackEntry cassandra/cluster.py:3533>]

===End Flaky Test Report===
=========================== 1 error in 25.25 seconds ===========================
[msx] rc = 1
v1v1 running time = 47179449569
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 39.13 seconds ===========================
[msx] rc = 0
v2v2 running time = 61123151113
---> v1v1 or v2v2 test failed.
v1v1 failed in a hypo test
proj: cassandra
u_test: transient_replication_test.py::TestTransientReplication::test_transient_write
h_list: range_request_timeout_in_ms@@@CassandraDaemon@@@-2@@@50@@@15000
vv_mode: v1v1
result: FAIL
failureMessage: 
stackTrace: 

cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 38.45 seconds ===========================
[msx] rc = 0
v1v2 running time = 60313320663
---> v1v2 test suceeded.
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 40.05 seconds ===========================
[msx] rc = 0
v1v1 running time = 61949515030
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 38.52 seconds ===========================
[msx] rc = 0
v2v2 running time = 60371371503
---> v1v1 and v2v2 test test suceeded.
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 41.20 seconds ===========================
[msx] rc = 0
v1v2 running time = 62987191026
---> v1v2 test suceeded.
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write 
-------------------------------- live log setup --------------------------------
04:26:06,39 cassandra.cluster WARNING [control connection] Error connecting to 127.0.0.3:9042:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 3522, in cassandra.cluster.ControlConnection._reconnect_internal
  File "cassandra/cluster.py", line 3599, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3596, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3698, in cassandra.cluster.ControlConnection._refresh_schema
  File "cassandra/metadata.py", line 142, in cassandra.metadata.Metadata.refresh
  File "cassandra/metadata.py", line 165, in cassandra.metadata.Metadata._rebuild_all
  File "cassandra/metadata.py", line 2872, in get_all_keyspaces
  File "cassandra/metadata.py", line 2522, in get_all_keyspaces
  File "cassandra/metadata.py", line 2031, in get_all_keyspaces
  File "cassandra/metadata.py", line 2833, in cassandra.metadata.SchemaParserV4._query_all
  File "cassandra/metadata.py", line 1953, in cassandra.metadata._SchemaParser._handle_results
cassandra.ReadTimeout: Error from server: code=1200 [Coordinator node timed out waiting for replica nodes' responses] message="Operation timed out - received only 0 responses." info={'consistency': 'ONE', 'required_responses': 1, 'received_responses': 0}
04:26:06,41 cassandra.cluster ERROR Control connection failed to connect, shutting down Cluster:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 1690, in cassandra.cluster.Cluster.connect
  File "cassandra/cluster.py", line 3488, in cassandra.cluster.ControlConnection.connect
  File "cassandra/cluster.py", line 3533, in cassandra.cluster.ControlConnection._reconnect_internal
cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.3:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
ERROR                                                                    [100%]

==================================== ERRORS ====================================
_______ ERROR at setup of TestTransientReplication.test_transient_write ________

self = <transient_replication_test.TestTransientReplication object at 0x7efc1e5abe48>
fixture_dtest_setup = <dtest_setup.DTestSetup object at 0x7efc1e5b4630>

    @pytest.fixture(scope='function', autouse=True)
    def setup_cluster(self, fixture_dtest_setup):
        self.tokens = self.tokens()
    
        patch_start(self.cluster)
        self.cluster.set_configuration_options(values={'hinted_handoff_enabled': False,
                                                       'num_tokens': 1,
                                                       'stream_entire_sstables': self.stream_entire_sstables(),
                                                       'commitlog_sync_period_in_ms': 500,
                                                       'enable_transient_replication': True,
                                                       'dynamic_snitch': False})
        self.populate()
        self.cluster.start()
    
        self.nodes = [patch_start(node) for node in self.cluster.nodelist()]
        self.set_nodes()
    
>       session = self.exclusive_cql_connection(self.node3)

transient_replication_test.py:221: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
dtest_setup.py:188: in exclusive_cql_connection
    **kwargs)
dtest_setup.py:216: in _create_session
    session = cluster.connect(wait_for_all_pools=True)
cassandra/cluster.py:1667: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:1703: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:1690: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:3488: in cassandra.cluster.ControlConnection.connect
    ???
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

>   ???
E   cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.3:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})

cassandra/cluster.py:3533: NoHostAvailable
------------------------------ Captured log setup ------------------------------
04:25:41,807 conftest INFO Starting execution of test_transient_write at 2022-02-05 04:25:41.807035
04:25:41,966 dtest_setup INFO cluster ccm directory: /tmp/dtest-xlafr_79
04:25:43,945 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-xlafr_79/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-xlafr_79/test/node1/conf'}
04:25:43,946 ccm INFO node1: using Java 8 for the current invocation
04:25:44,197 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-xlafr_79/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-xlafr_79/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6'}
04:25:44,198 ccm INFO node1: using Java 8 for the current invocation
04:25:44,317 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:25:44,695 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-xlafr_79/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-xlafr_79/test/node2/conf'}
04:25:44,696 ccm INFO node2: using Java 8 for the current invocation
04:25:44,930 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-xlafr_79/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-xlafr_79/test/node2/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6'}
04:25:44,931 ccm INFO node2: using Java 8 for the current invocation
04:25:45,49 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:25:45,413 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-xlafr_79/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-xlafr_79/test/node3/conf'}
04:25:45,414 ccm INFO node3: using Java 8 for the current invocation
04:25:45,630 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-xlafr_79/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-xlafr_79/test/node3/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6'}
04:25:45,631 ccm INFO node3: using Java 8 for the current invocation
04:25:45,751 ccm INFO Starting node3 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:26:05,947 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.1:9042 datacenter1> discovered
04:26:05,950 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.2:9042 datacenter1> discovered
04:26:06,39 cassandra.cluster WARNING [control connection] Error connecting to 127.0.0.3:9042:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 3522, in cassandra.cluster.ControlConnection._reconnect_internal
  File "cassandra/cluster.py", line 3599, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3596, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3698, in cassandra.cluster.ControlConnection._refresh_schema
  File "cassandra/metadata.py", line 142, in cassandra.metadata.Metadata.refresh
  File "cassandra/metadata.py", line 165, in cassandra.metadata.Metadata._rebuild_all
  File "cassandra/metadata.py", line 2872, in get_all_keyspaces
  File "cassandra/metadata.py", line 2522, in get_all_keyspaces
  File "cassandra/metadata.py", line 2031, in get_all_keyspaces
  File "cassandra/metadata.py", line 2833, in cassandra.metadata.SchemaParserV4._query_all
  File "cassandra/metadata.py", line 1953, in cassandra.metadata._SchemaParser._handle_results
cassandra.ReadTimeout: Error from server: code=1200 [Coordinator node timed out waiting for replica nodes' responses] message="Operation timed out - received only 0 responses." info={'consistency': 'ONE', 'required_responses': 1, 'received_responses': 0}
04:26:06,41 cassandra.cluster ERROR Control connection failed to connect, shutting down Cluster:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 1690, in cassandra.cluster.Cluster.connect
  File "cassandra/cluster.py", line 3488, in cassandra.cluster.ControlConnection.connect
  File "cassandra/cluster.py", line 3533, in cassandra.cluster.ControlConnection._reconnect_internal
cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.3:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
===Flaky Test Report===

test_transient_write failed and was not selected for rerun.
	<class 'cassandra.cluster.NoHostAvailable'>
	('Unable to connect to any servers', {'127.0.0.3:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
	[<TracebackEntry /root/cassandra-dtest/transient_replication_test.py:221>, <TracebackEntry /root/cassandra-dtest/dtest_setup.py:188>, <TracebackEntry /root/cassandra-dtest/dtest_setup.py:216>, <TracebackEntry cassandra/cluster.py:1667>, <TracebackEntry cassandra/cluster.py:1703>, <TracebackEntry cassandra/cluster.py:1690>, <TracebackEntry cassandra/cluster.py:3488>, <TracebackEntry cassandra/cluster.py:3533>]

===End Flaky Test Report===
=========================== 1 error in 25.31 seconds ===========================
[msx] rc = 1
v1v1 running time = 47447668142
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 38.30 seconds ===========================
[msx] rc = 0
v2v2 running time = 60231223810
---> v1v1 or v2v2 test failed.
v1v1 failed in a hypo test
proj: cassandra
u_test: transient_replication_test.py::TestTransientReplication::test_transient_write
h_list: range_request_timeout_in_ms@@@CassandraDaemon@@@-2@@@50@@@15000
vv_mode: v1v1
result: FAIL
failureMessage: 
stackTrace: 

cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write 
-------------------------------- live log setup --------------------------------
04:27:50,986 cassandra.cluster WARNING [control connection] Error connecting to 127.0.0.3:9042:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 3522, in cassandra.cluster.ControlConnection._reconnect_internal
  File "cassandra/cluster.py", line 3599, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3596, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3698, in cassandra.cluster.ControlConnection._refresh_schema
  File "cassandra/metadata.py", line 142, in cassandra.metadata.Metadata.refresh
  File "cassandra/metadata.py", line 165, in cassandra.metadata.Metadata._rebuild_all
  File "cassandra/metadata.py", line 2872, in get_all_keyspaces
  File "cassandra/metadata.py", line 2522, in get_all_keyspaces
  File "cassandra/metadata.py", line 2031, in get_all_keyspaces
  File "cassandra/metadata.py", line 2833, in cassandra.metadata.SchemaParserV4._query_all
  File "cassandra/metadata.py", line 1953, in cassandra.metadata._SchemaParser._handle_results
cassandra.ReadTimeout: Error from server: code=1200 [Coordinator node timed out waiting for replica nodes' responses] message="Operation timed out - received only 0 responses." info={'consistency': 'ONE', 'required_responses': 1, 'received_responses': 0}
04:27:50,988 cassandra.cluster ERROR Control connection failed to connect, shutting down Cluster:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 1690, in cassandra.cluster.Cluster.connect
  File "cassandra/cluster.py", line 3488, in cassandra.cluster.ControlConnection.connect
  File "cassandra/cluster.py", line 3533, in cassandra.cluster.ControlConnection._reconnect_internal
cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.3:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
ERROR                                                                    [100%]

==================================== ERRORS ====================================
_______ ERROR at setup of TestTransientReplication.test_transient_write ________

self = <transient_replication_test.TestTransientReplication object at 0x7f3e581e4048>
fixture_dtest_setup = <dtest_setup.DTestSetup object at 0x7f3e581e4908>

    @pytest.fixture(scope='function', autouse=True)
    def setup_cluster(self, fixture_dtest_setup):
        self.tokens = self.tokens()
    
        patch_start(self.cluster)
        self.cluster.set_configuration_options(values={'hinted_handoff_enabled': False,
                                                       'num_tokens': 1,
                                                       'stream_entire_sstables': self.stream_entire_sstables(),
                                                       'commitlog_sync_period_in_ms': 500,
                                                       'enable_transient_replication': True,
                                                       'dynamic_snitch': False})
        self.populate()
        self.cluster.start()
    
        self.nodes = [patch_start(node) for node in self.cluster.nodelist()]
        self.set_nodes()
    
>       session = self.exclusive_cql_connection(self.node3)

transient_replication_test.py:221: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
dtest_setup.py:188: in exclusive_cql_connection
    **kwargs)
dtest_setup.py:216: in _create_session
    session = cluster.connect(wait_for_all_pools=True)
cassandra/cluster.py:1667: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:1703: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:1690: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:3488: in cassandra.cluster.ControlConnection.connect
    ???
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

>   ???
E   cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.3:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})

cassandra/cluster.py:3533: NoHostAvailable
------------------------------ Captured log setup ------------------------------
04:27:29,251 conftest INFO Starting execution of test_transient_write at 2022-02-05 04:27:29.251681
04:27:29,332 dtest_setup INFO cluster ccm directory: /tmp/dtest-27a8v5se
04:27:31,35 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-27a8v5se/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-27a8v5se/test/node1/conf'}
04:27:31,36 ccm INFO node1: using Java 8 for the current invocation
04:27:31,255 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-27a8v5se/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-27a8v5se/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6'}
04:27:31,256 ccm INFO node1: using Java 8 for the current invocation
04:27:31,366 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:27:31,711 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-27a8v5se/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-27a8v5se/test/node2/conf'}
04:27:31,712 ccm INFO node2: using Java 8 for the current invocation
04:27:31,918 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-27a8v5se/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-27a8v5se/test/node2/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6'}
04:27:31,919 ccm INFO node2: using Java 8 for the current invocation
04:27:32,29 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:27:32,397 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-27a8v5se/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-27a8v5se/test/node3/conf'}
04:27:32,397 ccm INFO node3: using Java 8 for the current invocation
04:27:32,607 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-27a8v5se/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-27a8v5se/test/node3/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6'}
04:27:32,607 ccm INFO node3: using Java 8 for the current invocation
04:27:32,706 ccm INFO Starting node3 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:27:50,904 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.1:9042 datacenter1> discovered
04:27:50,905 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.2:9042 datacenter1> discovered
04:27:50,986 cassandra.cluster WARNING [control connection] Error connecting to 127.0.0.3:9042:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 3522, in cassandra.cluster.ControlConnection._reconnect_internal
  File "cassandra/cluster.py", line 3599, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3596, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3698, in cassandra.cluster.ControlConnection._refresh_schema
  File "cassandra/metadata.py", line 142, in cassandra.metadata.Metadata.refresh
  File "cassandra/metadata.py", line 165, in cassandra.metadata.Metadata._rebuild_all
  File "cassandra/metadata.py", line 2872, in get_all_keyspaces
  File "cassandra/metadata.py", line 2522, in get_all_keyspaces
  File "cassandra/metadata.py", line 2031, in get_all_keyspaces
  File "cassandra/metadata.py", line 2833, in cassandra.metadata.SchemaParserV4._query_all
  File "cassandra/metadata.py", line 1953, in cassandra.metadata._SchemaParser._handle_results
cassandra.ReadTimeout: Error from server: code=1200 [Coordinator node timed out waiting for replica nodes' responses] message="Operation timed out - received only 0 responses." info={'consistency': 'ONE', 'required_responses': 1, 'received_responses': 0}
04:27:50,988 cassandra.cluster ERROR Control connection failed to connect, shutting down Cluster:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 1690, in cassandra.cluster.Cluster.connect
  File "cassandra/cluster.py", line 3488, in cassandra.cluster.ControlConnection.connect
  File "cassandra/cluster.py", line 3533, in cassandra.cluster.ControlConnection._reconnect_internal
cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.3:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
===Flaky Test Report===

test_transient_write failed and was not selected for rerun.
	<class 'cassandra.cluster.NoHostAvailable'>
	('Unable to connect to any servers', {'127.0.0.3:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
	[<TracebackEntry /root/cassandra-dtest/transient_replication_test.py:221>, <TracebackEntry /root/cassandra-dtest/dtest_setup.py:188>, <TracebackEntry /root/cassandra-dtest/dtest_setup.py:216>, <TracebackEntry cassandra/cluster.py:1667>, <TracebackEntry cassandra/cluster.py:1703>, <TracebackEntry cassandra/cluster.py:1690>, <TracebackEntry cassandra/cluster.py:3488>, <TracebackEntry cassandra/cluster.py:3533>]

===End Flaky Test Report===
=========================== 1 error in 22.86 seconds ===========================
[msx] rc = 1
v1v2 running time = 44669519812
---> v1v2 test failed.
proj: cassandra
u_test: transient_replication_test.py::TestTransientReplication::test_transient_write
h_list: range_request_timeout_in_ms@@@CassandraDaemon@@@-2@@@50@@@15000
vv_mode: v1v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 39.92 seconds ===========================
[msx] rc = 0
v1v1 running time = 61782324065
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 37.86 seconds ===========================
[msx] rc = 0
v2v2 running time = 59703495429
---> v1v1 and v2v2 test test suceeded.
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write 
-------------------------------- live log setup --------------------------------
04:30:38,436 cassandra.cluster WARNING [control connection] Error connecting to 127.0.0.3:9042:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 3522, in cassandra.cluster.ControlConnection._reconnect_internal
  File "cassandra/cluster.py", line 3599, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3596, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3698, in cassandra.cluster.ControlConnection._refresh_schema
  File "cassandra/metadata.py", line 142, in cassandra.metadata.Metadata.refresh
  File "cassandra/metadata.py", line 165, in cassandra.metadata.Metadata._rebuild_all
  File "cassandra/metadata.py", line 2872, in get_all_keyspaces
  File "cassandra/metadata.py", line 2522, in get_all_keyspaces
  File "cassandra/metadata.py", line 2031, in get_all_keyspaces
  File "cassandra/metadata.py", line 2833, in cassandra.metadata.SchemaParserV4._query_all
  File "cassandra/metadata.py", line 1953, in cassandra.metadata._SchemaParser._handle_results
cassandra.ReadTimeout: Error from server: code=1200 [Coordinator node timed out waiting for replica nodes' responses] message="Operation timed out - received only 0 responses." info={'consistency': 'ONE', 'required_responses': 1, 'received_responses': 0}
04:30:38,438 cassandra.cluster ERROR Control connection failed to connect, shutting down Cluster:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 1690, in cassandra.cluster.Cluster.connect
  File "cassandra/cluster.py", line 3488, in cassandra.cluster.ControlConnection.connect
  File "cassandra/cluster.py", line 3533, in cassandra.cluster.ControlConnection._reconnect_internal
cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.3:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
ERROR                                                                    [100%]

==================================== ERRORS ====================================
_______ ERROR at setup of TestTransientReplication.test_transient_write ________

self = <transient_replication_test.TestTransientReplication object at 0x7f066a7dcf28>
fixture_dtest_setup = <dtest_setup.DTestSetup object at 0x7f066a7e2860>

    @pytest.fixture(scope='function', autouse=True)
    def setup_cluster(self, fixture_dtest_setup):
        self.tokens = self.tokens()
    
        patch_start(self.cluster)
        self.cluster.set_configuration_options(values={'hinted_handoff_enabled': False,
                                                       'num_tokens': 1,
                                                       'stream_entire_sstables': self.stream_entire_sstables(),
                                                       'commitlog_sync_period_in_ms': 500,
                                                       'enable_transient_replication': True,
                                                       'dynamic_snitch': False})
        self.populate()
        self.cluster.start()
    
        self.nodes = [patch_start(node) for node in self.cluster.nodelist()]
        self.set_nodes()
    
>       session = self.exclusive_cql_connection(self.node3)

transient_replication_test.py:221: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
dtest_setup.py:188: in exclusive_cql_connection
    **kwargs)
dtest_setup.py:216: in _create_session
    session = cluster.connect(wait_for_all_pools=True)
cassandra/cluster.py:1667: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:1703: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:1690: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:3488: in cassandra.cluster.ControlConnection.connect
    ???
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

>   ???
E   cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.3:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})

cassandra/cluster.py:3533: NoHostAvailable
------------------------------ Captured log setup ------------------------------
04:30:15,483 conftest INFO Starting execution of test_transient_write at 2022-02-05 04:30:15.483513
04:30:15,555 dtest_setup INFO cluster ccm directory: /tmp/dtest-6h4bxaa4
04:30:17,435 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-6h4bxaa4/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-6h4bxaa4/test/node1/conf'}
04:30:17,436 ccm INFO node1: using Java 8 for the current invocation
04:30:17,647 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-6h4bxaa4/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-6h4bxaa4/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6'}
04:30:17,648 ccm INFO node1: using Java 8 for the current invocation
04:30:17,774 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:30:18,147 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-6h4bxaa4/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-6h4bxaa4/test/node2/conf'}
04:30:18,148 ccm INFO node2: using Java 8 for the current invocation
04:30:18,355 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-6h4bxaa4/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-6h4bxaa4/test/node2/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6'}
04:30:18,356 ccm INFO node2: using Java 8 for the current invocation
04:30:18,482 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:30:18,831 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-6h4bxaa4/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-6h4bxaa4/test/node3/conf'}
04:30:18,832 ccm INFO node3: using Java 8 for the current invocation
04:30:19,64 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-6h4bxaa4/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-6h4bxaa4/test/node3/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6'}
04:30:19,64 ccm INFO node3: using Java 8 for the current invocation
04:30:19,180 ccm INFO Starting node3 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:30:38,342 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.1:9042 datacenter1> discovered
04:30:38,343 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.2:9042 datacenter1> discovered
04:30:38,436 cassandra.cluster WARNING [control connection] Error connecting to 127.0.0.3:9042:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 3522, in cassandra.cluster.ControlConnection._reconnect_internal
  File "cassandra/cluster.py", line 3599, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3596, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3698, in cassandra.cluster.ControlConnection._refresh_schema
  File "cassandra/metadata.py", line 142, in cassandra.metadata.Metadata.refresh
  File "cassandra/metadata.py", line 165, in cassandra.metadata.Metadata._rebuild_all
  File "cassandra/metadata.py", line 2872, in get_all_keyspaces
  File "cassandra/metadata.py", line 2522, in get_all_keyspaces
  File "cassandra/metadata.py", line 2031, in get_all_keyspaces
  File "cassandra/metadata.py", line 2833, in cassandra.metadata.SchemaParserV4._query_all
  File "cassandra/metadata.py", line 1953, in cassandra.metadata._SchemaParser._handle_results
cassandra.ReadTimeout: Error from server: code=1200 [Coordinator node timed out waiting for replica nodes' responses] message="Operation timed out - received only 0 responses." info={'consistency': 'ONE', 'required_responses': 1, 'received_responses': 0}
04:30:38,438 cassandra.cluster ERROR Control connection failed to connect, shutting down Cluster:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 1690, in cassandra.cluster.Cluster.connect
  File "cassandra/cluster.py", line 3488, in cassandra.cluster.ControlConnection.connect
  File "cassandra/cluster.py", line 3533, in cassandra.cluster.ControlConnection._reconnect_internal
cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.3:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
===Flaky Test Report===

test_transient_write failed and was not selected for rerun.
	<class 'cassandra.cluster.NoHostAvailable'>
	('Unable to connect to any servers', {'127.0.0.3:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
	[<TracebackEntry /root/cassandra-dtest/transient_replication_test.py:221>, <TracebackEntry /root/cassandra-dtest/dtest_setup.py:188>, <TracebackEntry /root/cassandra-dtest/dtest_setup.py:216>, <TracebackEntry cassandra/cluster.py:1667>, <TracebackEntry cassandra/cluster.py:1703>, <TracebackEntry cassandra/cluster.py:1690>, <TracebackEntry cassandra/cluster.py:3488>, <TracebackEntry cassandra/cluster.py:3533>]

===End Flaky Test Report===
=========================== 1 error in 23.88 seconds ===========================
[msx] rc = 1
v1v2 running time = 45698913333
---> v1v2 test failed.
proj: cassandra
u_test: transient_replication_test.py::TestTransientReplication::test_transient_write
h_list: range_request_timeout_in_ms@@@CassandraDaemon@@@-2@@@50@@@15000
vv_mode: v1v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write 
-------------------------------- live log setup --------------------------------
04:31:24,696 cassandra.cluster WARNING [control connection] Error connecting to 127.0.0.1:9042:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 3522, in cassandra.cluster.ControlConnection._reconnect_internal
  File "cassandra/cluster.py", line 3599, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3596, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3698, in cassandra.cluster.ControlConnection._refresh_schema
  File "cassandra/metadata.py", line 142, in cassandra.metadata.Metadata.refresh
  File "cassandra/metadata.py", line 165, in cassandra.metadata.Metadata._rebuild_all
  File "cassandra/metadata.py", line 2872, in get_all_keyspaces
  File "cassandra/metadata.py", line 2522, in get_all_keyspaces
  File "cassandra/metadata.py", line 2031, in get_all_keyspaces
  File "cassandra/metadata.py", line 2833, in cassandra.metadata.SchemaParserV4._query_all
  File "cassandra/metadata.py", line 1953, in cassandra.metadata._SchemaParser._handle_results
cassandra.ReadTimeout: Error from server: code=1200 [Coordinator node timed out waiting for replica nodes' responses] message="Operation timed out - received only 0 responses." info={'consistency': 'ONE', 'required_responses': 1, 'received_responses': 0}
04:31:24,697 cassandra.cluster ERROR Control connection failed to connect, shutting down Cluster:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 1690, in cassandra.cluster.Cluster.connect
  File "cassandra/cluster.py", line 3488, in cassandra.cluster.ControlConnection.connect
  File "cassandra/cluster.py", line 3533, in cassandra.cluster.ControlConnection._reconnect_internal
cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.1:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
ERROR                                                                    [100%]

==================================== ERRORS ====================================
_______ ERROR at setup of TestTransientReplication.test_transient_write ________

self = <transient_replication_test.TestTransientReplication object at 0x7f1e56aad3c8>
fixture_dtest_setup = <dtest_setup.DTestSetup object at 0x7f1e568418d0>

    @pytest.fixture(scope='function', autouse=True)
    def setup_cluster(self, fixture_dtest_setup):
        self.tokens = self.tokens()
    
        patch_start(self.cluster)
        self.cluster.set_configuration_options(values={'hinted_handoff_enabled': False,
                                                       'num_tokens': 1,
                                                       'stream_entire_sstables': self.stream_entire_sstables(),
                                                       'commitlog_sync_period_in_ms': 500,
                                                       'enable_transient_replication': True,
                                                       'dynamic_snitch': False})
        self.populate()
        self.cluster.start()
    
        self.nodes = [patch_start(node) for node in self.cluster.nodelist()]
        self.set_nodes()
    
        session = self.exclusive_cql_connection(self.node3)
>       self.setup_schema()

transient_replication_test.py:222: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
transient_replication_test.py:196: in setup_schema
    session = self.exclusive_cql_connection(self.node1)
dtest_setup.py:188: in exclusive_cql_connection
    **kwargs)
dtest_setup.py:216: in _create_session
    session = cluster.connect(wait_for_all_pools=True)
cassandra/cluster.py:1667: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:1703: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:1690: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:3488: in cassandra.cluster.ControlConnection.connect
    ???
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

>   ???
E   cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.1:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})

cassandra/cluster.py:3533: NoHostAvailable
------------------------------ Captured log setup ------------------------------
04:31:01,264 conftest INFO Starting execution of test_transient_write at 2022-02-05 04:31:01.264588
04:31:01,426 dtest_setup INFO cluster ccm directory: /tmp/dtest-_cx0unxl
04:31:03,345 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-_cx0unxl/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-_cx0unxl/test/node1/conf'}
04:31:03,345 ccm INFO node1: using Java 8 for the current invocation
04:31:03,566 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-_cx0unxl/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-_cx0unxl/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6'}
04:31:03,566 ccm INFO node1: using Java 8 for the current invocation
04:31:03,672 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:31:04,14 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-_cx0unxl/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-_cx0unxl/test/node2/conf'}
04:31:04,15 ccm INFO node2: using Java 8 for the current invocation
04:31:04,263 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-_cx0unxl/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-_cx0unxl/test/node2/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6'}
04:31:04,264 ccm INFO node2: using Java 8 for the current invocation
04:31:04,388 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:31:04,819 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-_cx0unxl/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-_cx0unxl/test/node3/conf'}
04:31:04,820 ccm INFO node3: using Java 8 for the current invocation
04:31:05,26 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-_cx0unxl/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-_cx0unxl/test/node3/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6'}
04:31:05,27 ccm INFO node3: using Java 8 for the current invocation
04:31:05,150 ccm INFO Starting node3 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:31:24,361 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.1:9042 datacenter1> discovered
04:31:24,364 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.2:9042 datacenter1> discovered
04:31:24,618 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.3:9042 datacenter1> discovered
04:31:24,618 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.2:9042 datacenter1> discovered
04:31:24,696 cassandra.cluster WARNING [control connection] Error connecting to 127.0.0.1:9042:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 3522, in cassandra.cluster.ControlConnection._reconnect_internal
  File "cassandra/cluster.py", line 3599, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3596, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3698, in cassandra.cluster.ControlConnection._refresh_schema
  File "cassandra/metadata.py", line 142, in cassandra.metadata.Metadata.refresh
  File "cassandra/metadata.py", line 165, in cassandra.metadata.Metadata._rebuild_all
  File "cassandra/metadata.py", line 2872, in get_all_keyspaces
  File "cassandra/metadata.py", line 2522, in get_all_keyspaces
  File "cassandra/metadata.py", line 2031, in get_all_keyspaces
  File "cassandra/metadata.py", line 2833, in cassandra.metadata.SchemaParserV4._query_all
  File "cassandra/metadata.py", line 1953, in cassandra.metadata._SchemaParser._handle_results
cassandra.ReadTimeout: Error from server: code=1200 [Coordinator node timed out waiting for replica nodes' responses] message="Operation timed out - received only 0 responses." info={'consistency': 'ONE', 'required_responses': 1, 'received_responses': 0}
04:31:24,697 cassandra.cluster ERROR Control connection failed to connect, shutting down Cluster:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 1690, in cassandra.cluster.Cluster.connect
  File "cassandra/cluster.py", line 3488, in cassandra.cluster.ControlConnection.connect
  File "cassandra/cluster.py", line 3533, in cassandra.cluster.ControlConnection._reconnect_internal
cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.1:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
===Flaky Test Report===

test_transient_write failed and was not selected for rerun.
	<class 'cassandra.cluster.NoHostAvailable'>
	('Unable to connect to any servers', {'127.0.0.1:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
	[<TracebackEntry /root/cassandra-dtest/transient_replication_test.py:222>, <TracebackEntry /root/cassandra-dtest/transient_replication_test.py:196>, <TracebackEntry /root/cassandra-dtest/dtest_setup.py:188>, <TracebackEntry /root/cassandra-dtest/dtest_setup.py:216>, <TracebackEntry cassandra/cluster.py:1667>, <TracebackEntry cassandra/cluster.py:1703>, <TracebackEntry cassandra/cluster.py:1690>, <TracebackEntry cassandra/cluster.py:3488>, <TracebackEntry cassandra/cluster.py:3533>]

===End Flaky Test Report===
=========================== 1 error in 24.51 seconds ===========================
[msx] rc = 1
v1v1 running time = 46503292837
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 37.48 seconds ===========================
[msx] rc = 0
v2v2 running time = 59399339473
---> v1v1 or v2v2 test failed.
v1v1 failed in a hypo test
proj: cassandra
u_test: transient_replication_test.py::TestTransientReplication::test_transient_write
h_list: range_request_timeout_in_ms@@@CassandraDaemon@@@-2@@@50@@@15000
vv_mode: v1v1
result: FAIL
failureMessage: 
stackTrace: 

cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 41.48 seconds ===========================
[msx] rc = 0
v1v2 running time = 63432968073
---> v1v2 test suceeded.
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 39.87 seconds ===========================
[msx] rc = 0
v1v1 running time = 61795454524
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 39.07 seconds ===========================
[msx] rc = 0
v2v2 running time = 60954291262
---> v1v1 and v2v2 test test suceeded.
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 39.55 seconds ===========================
[msx] rc = 0
v1v2 running time = 61450448665
---> v1v2 test suceeded.
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 37.72 seconds ===========================
[msx] rc = 0
v1v1 running time = 59534228343
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 39.28 seconds ===========================
[msx] rc = 0
v2v2 running time = 61117891896
---> v1v1 and v2v2 test test suceeded.
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 39.08 seconds ===========================
[msx] rc = 0
v1v2 running time = 60894418946
---> v1v2 test suceeded.
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 39.50 seconds ===========================
[msx] rc = 0
v1v1 running time = 61249593019
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 40.43 seconds ===========================
[msx] rc = 0
v2v2 running time = 62237798491
---> v1v1 and v2v2 test test suceeded.
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 39.28 seconds ===========================
[msx] rc = 0
v1v2 running time = 61232002559
---> v1v2 test suceeded.
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write 
-------------------------------- live log call ---------------------------------
04:43:31,123 cassandra.cluster WARNING [control connection] Error connecting to 127.0.0.1:9042:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 3522, in cassandra.cluster.ControlConnection._reconnect_internal
  File "cassandra/cluster.py", line 3599, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3596, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3698, in cassandra.cluster.ControlConnection._refresh_schema
  File "cassandra/metadata.py", line 142, in cassandra.metadata.Metadata.refresh
  File "cassandra/metadata.py", line 165, in cassandra.metadata.Metadata._rebuild_all
  File "cassandra/metadata.py", line 2872, in get_all_keyspaces
  File "cassandra/metadata.py", line 2522, in get_all_keyspaces
  File "cassandra/metadata.py", line 2031, in get_all_keyspaces
  File "cassandra/metadata.py", line 2833, in cassandra.metadata.SchemaParserV4._query_all
  File "cassandra/metadata.py", line 1953, in cassandra.metadata._SchemaParser._handle_results
cassandra.ReadTimeout: Error from server: code=1200 [Coordinator node timed out waiting for replica nodes' responses] message="Operation timed out - received only 0 responses." info={'consistency': 'ONE', 'required_responses': 1, 'received_responses': 0}
04:43:31,126 cassandra.cluster ERROR Control connection failed to connect, shutting down Cluster:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 1690, in cassandra.cluster.Cluster.connect
  File "cassandra/cluster.py", line 3488, in cassandra.cluster.ControlConnection.connect
  File "cassandra/cluster.py", line 3533, in cassandra.cluster.ControlConnection._reconnect_internal
cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.1:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
FAILED                                                                   [100%]

=================================== FAILURES ===================================
________________ TestTransientReplication.test_transient_write _________________

self = <transient_replication_test.TestTransientReplication object at 0x7f8a106453c8>

    @pytest.mark.no_vnodes
    def test_transient_write(self):
        """ If write can't succeed on full replica, it's written to the transient node instead """
        for node in self.nodes:
            self.assert_has_no_sstables(node)
    
        tm = lambda n: self.table_metrics(n)
        with tm(self.node1) as tm1, tm(self.node2) as tm2, tm(self.node3) as tm3:
>           self.insert_row(1, 1, 1)

transient_replication_test.py:318: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
transient_replication_test.py:256: in insert_row
    session = session or self.exclusive_cql_connection(node or self.node1)
dtest_setup.py:188: in exclusive_cql_connection
    **kwargs)
dtest_setup.py:216: in _create_session
    session = cluster.connect(wait_for_all_pools=True)
cassandra/cluster.py:1667: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:1703: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:1690: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:3488: in cassandra.cluster.ControlConnection.connect
    ???
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

>   ???
E   cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.1:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})

cassandra/cluster.py:3533: NoHostAvailable
---------------------------- Captured stdout setup -----------------------------
04:43:01,313 ccm DEBUG Log-watching thread starting.
04:43:02,932 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-key1h7j3/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-key1h7j3/test/node1/conf'}
04:43:02,933 ccm INFO node1: using Java 8 for the current invocation
04:43:03,163 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-key1h7j3/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-key1h7j3/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6'}
04:43:03,164 ccm INFO node1: using Java 8 for the current invocation
04:43:03,264 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:43:03,609 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-key1h7j3/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-key1h7j3/test/node2/conf'}
04:43:03,610 ccm INFO node2: using Java 8 for the current invocation
04:43:03,819 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-key1h7j3/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-key1h7j3/test/node2/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6'}
04:43:03,820 ccm INFO node2: using Java 8 for the current invocation
04:43:03,932 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:43:04,298 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-key1h7j3/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-key1h7j3/test/node3/conf'}
04:43:04,299 ccm INFO node3: using Java 8 for the current invocation
04:43:04,533 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-key1h7j3/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-key1h7j3/test/node3/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6'}
04:43:04,534 ccm INFO node3: using Java 8 for the current invocation
04:43:04,642 ccm INFO Starting node3 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
install rule block digest

---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
04:43:01,50 conftest INFO Starting execution of test_transient_write at 2022-02-05 04:43:01.050093
04:43:01,209 dtest_setup INFO cluster ccm directory: /tmp/dtest-key1h7j3
04:43:02,932 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-key1h7j3/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-key1h7j3/test/node1/conf'}
04:43:02,933 ccm INFO node1: using Java 8 for the current invocation
04:43:03,163 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-key1h7j3/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-key1h7j3/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6'}
04:43:03,164 ccm INFO node1: using Java 8 for the current invocation
04:43:03,264 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:43:03,609 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-key1h7j3/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-key1h7j3/test/node2/conf'}
04:43:03,610 ccm INFO node2: using Java 8 for the current invocation
04:43:03,819 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-key1h7j3/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-key1h7j3/test/node2/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6'}
04:43:03,820 ccm INFO node2: using Java 8 for the current invocation
04:43:03,932 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:43:04,298 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-key1h7j3/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-key1h7j3/test/node3/conf'}
04:43:04,299 ccm INFO node3: using Java 8 for the current invocation
04:43:04,533 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-key1h7j3/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-key1h7j3/test/node3/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6'}
04:43:04,534 ccm INFO node3: using Java 8 for the current invocation
04:43:04,642 ccm INFO Starting node3 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:43:23,840 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.1:9042 datacenter1> discovered
04:43:23,842 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.2:9042 datacenter1> discovered
04:43:24,94 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.3:9042 datacenter1> discovered
04:43:24,95 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.2:9042 datacenter1> discovered
------------------------------ Captured log call -------------------------------
04:43:31,50 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.3:9042 datacenter1> discovered
04:43:31,51 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.2:9042 datacenter1> discovered
04:43:31,123 cassandra.cluster WARNING [control connection] Error connecting to 127.0.0.1:9042:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 3522, in cassandra.cluster.ControlConnection._reconnect_internal
  File "cassandra/cluster.py", line 3599, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3596, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3698, in cassandra.cluster.ControlConnection._refresh_schema
  File "cassandra/metadata.py", line 142, in cassandra.metadata.Metadata.refresh
  File "cassandra/metadata.py", line 165, in cassandra.metadata.Metadata._rebuild_all
  File "cassandra/metadata.py", line 2872, in get_all_keyspaces
  File "cassandra/metadata.py", line 2522, in get_all_keyspaces
  File "cassandra/metadata.py", line 2031, in get_all_keyspaces
  File "cassandra/metadata.py", line 2833, in cassandra.metadata.SchemaParserV4._query_all
  File "cassandra/metadata.py", line 1953, in cassandra.metadata._SchemaParser._handle_results
cassandra.ReadTimeout: Error from server: code=1200 [Coordinator node timed out waiting for replica nodes' responses] message="Operation timed out - received only 0 responses." info={'consistency': 'ONE', 'required_responses': 1, 'received_responses': 0}
04:43:31,126 cassandra.cluster ERROR Control connection failed to connect, shutting down Cluster:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 1690, in cassandra.cluster.Cluster.connect
  File "cassandra/cluster.py", line 3488, in cassandra.cluster.ControlConnection.connect
  File "cassandra/cluster.py", line 3533, in cassandra.cluster.ControlConnection._reconnect_internal
cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.1:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
--------------------------- Captured stdout teardown ---------------------------
04:43:32,290 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_transient_write failed and was not selected for rerun.
	<class 'cassandra.cluster.NoHostAvailable'>
	('Unable to connect to any servers', {'127.0.0.1:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
	[<TracebackEntry /root/cassandra-dtest/transient_replication_test.py:318>, <TracebackEntry /root/cassandra-dtest/transient_replication_test.py:256>, <TracebackEntry /root/cassandra-dtest/dtest_setup.py:188>, <TracebackEntry /root/cassandra-dtest/dtest_setup.py:216>, <TracebackEntry cassandra/cluster.py:1667>, <TracebackEntry cassandra/cluster.py:1703>, <TracebackEntry cassandra/cluster.py:1690>, <TracebackEntry cassandra/cluster.py:3488>, <TracebackEntry cassandra/cluster.py:3533>]

===End Flaky Test Report===
========================== 1 failed in 32.09 seconds ===========================
[msx] rc = 1
v1v1 running time = 53949066810
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 39.79 seconds ===========================
[msx] rc = 0
v2v2 running time = 61776024120
---> v1v1 or v2v2 test failed.
v1v1 failed in a hypo test
proj: cassandra
u_test: transient_replication_test.py::TestTransientReplication::test_transient_write
h_list: range_request_timeout_in_ms@@@CassandraDaemon@@@-2@@@50@@@15000
vv_mode: v1v1
result: FAIL
failureMessage: 
stackTrace: 

cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write 
-------------------------------- live log setup --------------------------------
04:45:20,86 cassandra.cluster WARNING [control connection] Error connecting to 127.0.0.3:9042:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 3522, in cassandra.cluster.ControlConnection._reconnect_internal
  File "cassandra/cluster.py", line 3599, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3596, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3698, in cassandra.cluster.ControlConnection._refresh_schema
  File "cassandra/metadata.py", line 142, in cassandra.metadata.Metadata.refresh
  File "cassandra/metadata.py", line 165, in cassandra.metadata.Metadata._rebuild_all
  File "cassandra/metadata.py", line 2872, in get_all_keyspaces
  File "cassandra/metadata.py", line 2522, in get_all_keyspaces
  File "cassandra/metadata.py", line 2031, in get_all_keyspaces
  File "cassandra/metadata.py", line 2832, in cassandra.metadata.SchemaParserV4._query_all
  File "cassandra/metadata.py", line 1953, in cassandra.metadata._SchemaParser._handle_results
cassandra.ReadTimeout: Error from server: code=1200 [Coordinator node timed out waiting for replica nodes' responses] message="Operation timed out - received only 0 responses." info={'consistency': 'ONE', 'required_responses': 1, 'received_responses': 0}
04:45:20,95 cassandra.cluster ERROR Control connection failed to connect, shutting down Cluster:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 1690, in cassandra.cluster.Cluster.connect
  File "cassandra/cluster.py", line 3488, in cassandra.cluster.ControlConnection.connect
  File "cassandra/cluster.py", line 3533, in cassandra.cluster.ControlConnection._reconnect_internal
cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.3:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
ERROR                                                                    [100%]

==================================== ERRORS ====================================
_______ ERROR at setup of TestTransientReplication.test_transient_write ________

self = <transient_replication_test.TestTransientReplication object at 0x7f4594922400>
fixture_dtest_setup = <dtest_setup.DTestSetup object at 0x7f45946bb898>

    @pytest.fixture(scope='function', autouse=True)
    def setup_cluster(self, fixture_dtest_setup):
        self.tokens = self.tokens()
    
        patch_start(self.cluster)
        self.cluster.set_configuration_options(values={'hinted_handoff_enabled': False,
                                                       'num_tokens': 1,
                                                       'stream_entire_sstables': self.stream_entire_sstables(),
                                                       'commitlog_sync_period_in_ms': 500,
                                                       'enable_transient_replication': True,
                                                       'dynamic_snitch': False})
        self.populate()
        self.cluster.start()
    
        self.nodes = [patch_start(node) for node in self.cluster.nodelist()]
        self.set_nodes()
    
>       session = self.exclusive_cql_connection(self.node3)

transient_replication_test.py:221: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
dtest_setup.py:188: in exclusive_cql_connection
    **kwargs)
dtest_setup.py:216: in _create_session
    session = cluster.connect(wait_for_all_pools=True)
cassandra/cluster.py:1667: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:1703: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:1690: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:3488: in cassandra.cluster.ControlConnection.connect
    ???
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

>   ???
E   cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.3:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})

cassandra/cluster.py:3533: NoHostAvailable
------------------------------ Captured log setup ------------------------------
04:44:56,710 conftest INFO Starting execution of test_transient_write at 2022-02-05 04:44:56.710846
04:44:56,889 dtest_setup INFO cluster ccm directory: /tmp/dtest-q9prtnye
04:44:58,785 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-q9prtnye/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-q9prtnye/test/node1/conf'}
04:44:58,786 ccm INFO node1: using Java 8 for the current invocation
04:44:59,6 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-q9prtnye/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-q9prtnye/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6'}
04:44:59,7 ccm INFO node1: using Java 8 for the current invocation
04:44:59,117 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:44:59,460 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-q9prtnye/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-q9prtnye/test/node2/conf'}
04:44:59,462 ccm INFO node2: using Java 8 for the current invocation
04:44:59,675 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-q9prtnye/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-q9prtnye/test/node2/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6'}
04:44:59,676 ccm INFO node2: using Java 8 for the current invocation
04:44:59,779 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:45:00,102 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-q9prtnye/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-q9prtnye/test/node3/conf'}
04:45:00,104 ccm INFO node3: using Java 8 for the current invocation
04:45:00,327 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-q9prtnye/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-q9prtnye/test/node3/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6'}
04:45:00,329 ccm INFO node3: using Java 8 for the current invocation
04:45:00,435 ccm INFO Starting node3 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:45:19,946 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.1:9042 datacenter1> discovered
04:45:19,947 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.2:9042 datacenter1> discovered
04:45:20,86 cassandra.cluster WARNING [control connection] Error connecting to 127.0.0.3:9042:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 3522, in cassandra.cluster.ControlConnection._reconnect_internal
  File "cassandra/cluster.py", line 3599, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3596, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3698, in cassandra.cluster.ControlConnection._refresh_schema
  File "cassandra/metadata.py", line 142, in cassandra.metadata.Metadata.refresh
  File "cassandra/metadata.py", line 165, in cassandra.metadata.Metadata._rebuild_all
  File "cassandra/metadata.py", line 2872, in get_all_keyspaces
  File "cassandra/metadata.py", line 2522, in get_all_keyspaces
  File "cassandra/metadata.py", line 2031, in get_all_keyspaces
  File "cassandra/metadata.py", line 2832, in cassandra.metadata.SchemaParserV4._query_all
  File "cassandra/metadata.py", line 1953, in cassandra.metadata._SchemaParser._handle_results
cassandra.ReadTimeout: Error from server: code=1200 [Coordinator node timed out waiting for replica nodes' responses] message="Operation timed out - received only 0 responses." info={'consistency': 'ONE', 'required_responses': 1, 'received_responses': 0}
04:45:20,95 cassandra.cluster ERROR Control connection failed to connect, shutting down Cluster:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 1690, in cassandra.cluster.Cluster.connect
  File "cassandra/cluster.py", line 3488, in cassandra.cluster.ControlConnection.connect
  File "cassandra/cluster.py", line 3533, in cassandra.cluster.ControlConnection._reconnect_internal
cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.3:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
===Flaky Test Report===

test_transient_write failed and was not selected for rerun.
	<class 'cassandra.cluster.NoHostAvailable'>
	('Unable to connect to any servers', {'127.0.0.3:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
	[<TracebackEntry /root/cassandra-dtest/transient_replication_test.py:221>, <TracebackEntry /root/cassandra-dtest/dtest_setup.py:188>, <TracebackEntry /root/cassandra-dtest/dtest_setup.py:216>, <TracebackEntry cassandra/cluster.py:1667>, <TracebackEntry cassandra/cluster.py:1703>, <TracebackEntry cassandra/cluster.py:1690>, <TracebackEntry cassandra/cluster.py:3488>, <TracebackEntry cassandra/cluster.py:3533>]

===End Flaky Test Report===
=========================== 1 error in 28.54 seconds ===========================
[msx] rc = 1
v1v2 running time = 50836628540
---> v1v2 test failed.
proj: cassandra
u_test: transient_replication_test.py::TestTransientReplication::test_transient_write
h_list: range_request_timeout_in_ms@@@CassandraDaemon@@@-2@@@50@@@15000
vv_mode: v1v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 37.82 seconds ===========================
[msx] rc = 0
v1v1 running time = 59646905349
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 42.20 seconds ===========================
[msx] rc = 0
v2v2 running time = 64002824728
---> v1v1 and v2v2 test test suceeded.
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 38.89 seconds ===========================
[msx] rc = 0
v1v2 running time = 60824784122
---> v1v2 test suceeded.
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 39.26 seconds ===========================
[msx] rc = 0
v1v1 running time = 61291922074
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 38.80 seconds ===========================
[msx] rc = 0
v2v2 running time = 60687301978
---> v1v1 and v2v2 test test suceeded.
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 39.71 seconds ===========================
[msx] rc = 0
v1v2 running time = 61586246435
---> v1v2 test suceeded.
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write 
-------------------------------- live log call ---------------------------------
04:52:33,340 cassandra.cluster WARNING [control connection] Error connecting to 127.0.0.2:9042:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 3522, in cassandra.cluster.ControlConnection._reconnect_internal
  File "cassandra/cluster.py", line 3599, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3596, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3698, in cassandra.cluster.ControlConnection._refresh_schema
  File "cassandra/metadata.py", line 142, in cassandra.metadata.Metadata.refresh
  File "cassandra/metadata.py", line 165, in cassandra.metadata.Metadata._rebuild_all
  File "cassandra/metadata.py", line 2872, in get_all_keyspaces
  File "cassandra/metadata.py", line 2522, in get_all_keyspaces
  File "cassandra/metadata.py", line 2031, in get_all_keyspaces
  File "cassandra/metadata.py", line 2835, in cassandra.metadata.SchemaParserV4._query_all
  File "cassandra/metadata.py", line 1953, in cassandra.metadata._SchemaParser._handle_results
cassandra.ReadTimeout: Error from server: code=1200 [Coordinator node timed out waiting for replica nodes' responses] message="Operation timed out - received only 0 responses." info={'consistency': 'ONE', 'required_responses': 1, 'received_responses': 0}
04:52:33,342 cassandra.cluster ERROR Control connection failed to connect, shutting down Cluster:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 1690, in cassandra.cluster.Cluster.connect
  File "cassandra/cluster.py", line 3488, in cassandra.cluster.ControlConnection.connect
  File "cassandra/cluster.py", line 3533, in cassandra.cluster.ControlConnection._reconnect_internal
cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.2:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
FAILED                                                                   [100%]

=================================== FAILURES ===================================
________________ TestTransientReplication.test_transient_write _________________

self = <transient_replication_test.TestTransientReplication object at 0x7f2436d2b5c0>

    @pytest.mark.no_vnodes
    def test_transient_write(self):
        """ If write can't succeed on full replica, it's written to the transient node instead """
        for node in self.nodes:
            self.assert_has_no_sstables(node)
    
        tm = lambda n: self.table_metrics(n)
        with tm(self.node1) as tm1, tm(self.node2) as tm2, tm(self.node3) as tm3:
            self.insert_row(1, 1, 1)
            # Stop writes to the other full node
            self.node2.byteman_submit([mk_bman_path('stop_writes.btm')])
            self.insert_row(1, 2, 2)
    
        # node1 should contain both rows
        self.assert_local_rows(self.node1,
                               [[1, 1, 1],
                                [1, 2, 2]])
    
        # write couldn't succeed on node2, so it has only the first row
        self.assert_local_rows(self.node2,
>                              [[1, 1, 1]])

transient_replication_test.py:330: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
transient_replication_test.py:249: in assert_local_rows
    assert_all(self.exclusive_cql_connection(node),
dtest_setup.py:188: in exclusive_cql_connection
    **kwargs)
dtest_setup.py:216: in _create_session
    session = cluster.connect(wait_for_all_pools=True)
cassandra/cluster.py:1667: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:1703: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:1690: in cassandra.cluster.Cluster.connect
    ???
cassandra/cluster.py:3488: in cassandra.cluster.ControlConnection.connect
    ???
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

>   ???
E   cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.2:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})

cassandra/cluster.py:3533: NoHostAvailable
---------------------------- Captured stdout setup -----------------------------
04:51:56,7 ccm DEBUG Log-watching thread starting.
04:51:58,4 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-9x55owf9/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-9x55owf9/test/node1/conf'}
04:51:58,5 ccm INFO node1: using Java 8 for the current invocation
04:51:58,231 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-9x55owf9/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-9x55owf9/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6'}
04:51:58,232 ccm INFO node1: using Java 8 for the current invocation
04:51:58,339 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:51:58,697 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-9x55owf9/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-9x55owf9/test/node2/conf'}
04:51:58,698 ccm INFO node2: using Java 8 for the current invocation
04:51:58,905 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-9x55owf9/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-9x55owf9/test/node2/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6'}
04:51:58,906 ccm INFO node2: using Java 8 for the current invocation
04:51:59,10 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:51:59,347 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-9x55owf9/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-9x55owf9/test/node3/conf'}
04:51:59,348 ccm INFO node3: using Java 8 for the current invocation
04:51:59,582 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-9x55owf9/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-9x55owf9/test/node3/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6'}
04:51:59,583 ccm INFO node3: using Java 8 for the current invocation
04:51:59,689 ccm INFO Starting node3 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
install rule block digest

---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
04:51:55,730 conftest INFO Starting execution of test_transient_write at 2022-02-05 04:51:55.730408
04:51:55,890 dtest_setup INFO cluster ccm directory: /tmp/dtest-9x55owf9
04:51:58,4 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-9x55owf9/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-9x55owf9/test/node1/conf'}
04:51:58,5 ccm INFO node1: using Java 8 for the current invocation
04:51:58,231 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-9x55owf9/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-9x55owf9/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6'}
04:51:58,232 ccm INFO node1: using Java 8 for the current invocation
04:51:58,339 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:51:58,697 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-9x55owf9/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-9x55owf9/test/node2/conf'}
04:51:58,698 ccm INFO node2: using Java 8 for the current invocation
04:51:58,905 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-9x55owf9/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-9x55owf9/test/node2/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6'}
04:51:58,906 ccm INFO node2: using Java 8 for the current invocation
04:51:59,10 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:51:59,347 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-9x55owf9/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-9x55owf9/test/node3/conf'}
04:51:59,348 ccm INFO node3: using Java 8 for the current invocation
04:51:59,582 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '1cb8a464447a', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'transient_replication_test.py::TestTransientReplication::()::test_transient_write (setup)', 'CASSANDRA_INCLUDE': '/tmp/dtest-9x55owf9/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-9x55owf9/test/node3/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -XX:-PerfDisableSharedMem -Dcassandra.enable_nodelocal_queries=true -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6 -Dcassandra.migration_task_wait_in_seconds=6'}
04:51:59,583 ccm INFO node3: using Java 8 for the current invocation
04:51:59,689 ccm INFO Starting node3 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
04:52:18,857 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.1:9042 datacenter1> discovered
04:52:18,860 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.2:9042 datacenter1> discovered
04:52:19,88 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.3:9042 datacenter1> discovered
04:52:19,89 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.2:9042 datacenter1> discovered
------------------------------ Captured log call -------------------------------
04:52:24,84 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.3:9042 datacenter1> discovered
04:52:24,85 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.2:9042 datacenter1> discovered
04:52:24,561 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.3:9042 datacenter1> discovered
04:52:24,562 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.2:9042 datacenter1> discovered
04:52:33,15 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.3:9042 datacenter1> discovered
04:52:33,16 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.2:9042 datacenter1> discovered
04:52:33,244 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.3:9042 datacenter1> discovered
04:52:33,245 cassandra.cluster INFO New Cassandra host <Host: 127.0.0.1:9042 datacenter1> discovered
04:52:33,340 cassandra.cluster WARNING [control connection] Error connecting to 127.0.0.2:9042:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 3522, in cassandra.cluster.ControlConnection._reconnect_internal
  File "cassandra/cluster.py", line 3599, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3596, in cassandra.cluster.ControlConnection._try_connect
  File "cassandra/cluster.py", line 3698, in cassandra.cluster.ControlConnection._refresh_schema
  File "cassandra/metadata.py", line 142, in cassandra.metadata.Metadata.refresh
  File "cassandra/metadata.py", line 165, in cassandra.metadata.Metadata._rebuild_all
  File "cassandra/metadata.py", line 2872, in get_all_keyspaces
  File "cassandra/metadata.py", line 2522, in get_all_keyspaces
  File "cassandra/metadata.py", line 2031, in get_all_keyspaces
  File "cassandra/metadata.py", line 2835, in cassandra.metadata.SchemaParserV4._query_all
  File "cassandra/metadata.py", line 1953, in cassandra.metadata._SchemaParser._handle_results
cassandra.ReadTimeout: Error from server: code=1200 [Coordinator node timed out waiting for replica nodes' responses] message="Operation timed out - received only 0 responses." info={'consistency': 'ONE', 'required_responses': 1, 'received_responses': 0}
04:52:33,342 cassandra.cluster ERROR Control connection failed to connect, shutting down Cluster:
Traceback (most recent call last):
  File "cassandra/cluster.py", line 1690, in cassandra.cluster.Cluster.connect
  File "cassandra/cluster.py", line 3488, in cassandra.cluster.ControlConnection.connect
  File "cassandra/cluster.py", line 3533, in cassandra.cluster.ControlConnection._reconnect_internal
cassandra.cluster.NoHostAvailable: ('Unable to connect to any servers', {'127.0.0.2:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
--------------------------- Captured stdout teardown ---------------------------
04:52:33,488 ccm DEBUG Log-watching thread exiting.
===Flaky Test Report===

test_transient_write failed and was not selected for rerun.
	<class 'cassandra.cluster.NoHostAvailable'>
	('Unable to connect to any servers', {'127.0.0.2:9042': ReadTimeout('Error from server: code=1200 [Coordinator node timed out waiting for replica nodes\' responses] message="Operation timed out - received only 0 responses." info={\'consistency\': \'ONE\', \'required_responses\': 1, \'received_responses\': 0}',)})
	[<TracebackEntry /root/cassandra-dtest/transient_replication_test.py:330>, <TracebackEntry /root/cassandra-dtest/transient_replication_test.py:249>, <TracebackEntry /root/cassandra-dtest/dtest_setup.py:188>, <TracebackEntry /root/cassandra-dtest/dtest_setup.py:216>, <TracebackEntry cassandra/cluster.py:1667>, <TracebackEntry cassandra/cluster.py:1703>, <TracebackEntry cassandra/cluster.py:1690>, <TracebackEntry cassandra/cluster.py:3488>, <TracebackEntry cassandra/cluster.py:3533>]

===End Flaky Test Report===
========================== 1 failed in 38.59 seconds ===========================
[msx] rc = 1
v1v1 running time = 60707080170
cassandra transient_replication_test.py::TestTransientReplication::test_transient_write false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is transient_replication_test.py::TestTransientReplication::test_transient_write
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

transient_replication_test.py::TestTransientReplication::test_transient_write PASSED [100%]
===Flaky Test Report===

test_transient_write passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 40.56 seconds ===========================
[msx] rc = 0
v2v2 running time = 62405203528
---> v1v1 or v2v2 test failed.
v1v1 failed in a hypo test
proj: cassandra
u_test: transient_replication_test.py::TestTransientReplication::test_transient_write
h_list: range_request_timeout_in_ms@@@CassandraDaemon@@@-2@@@50@@@15000
vv_mode: v1v1
result: FAIL
failureMessage: 
stackTrace: 

early stop after 7 is satisfied
v1v2 failed with probability 4 out of 16
v1v1v2v2 failed with probability 7 out of 16
Total execution time in seconds : 2821
0
