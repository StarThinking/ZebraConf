my_type=hypothesis
proj=cassandra
u_test=gossip_test.py::TestGossip::test_assassination_of_unknown_node
h_list[1]=periodic_commitlog_sync_lag_block_in_ms@@@CassandraDaemon@@@-1@@@null@@@100
proj: cassandra
u_test: gossip_test.py::TestGossip::test_assassination_of_unknown_node
h_list: periodic_commitlog_sync_lag_block_in_ms@@@CassandraDaemon@@@-1@@@null@@@100
cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node PASSED    [100%]
===Flaky Test Report===

test_assassination_of_unknown_node passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 182.17 seconds ==========================
[msx] rc = 0
v1v2 running time = 203645216148
---> v1v2 test suceeded.
cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node PASSED    [100%]
===Flaky Test Report===

test_assassination_of_unknown_node passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 50.45 seconds ===========================
[msx] rc = 0
v1v1 running time = 71871269111
cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node PASSED    [100%]
===Flaky Test Report===

test_assassination_of_unknown_node passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 221.77 seconds ==========================
[msx] rc = 0
v2v2 running time = 243332225768
---> v1v1 and v2v2 test test suceeded.
cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node PASSED    [100%]
===Flaky Test Report===

test_assassination_of_unknown_node passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 161.00 seconds ==========================
[msx] rc = 0
v1v2 running time = 182401285313
---> v1v2 test suceeded.
cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node PASSED    [100%]
===Flaky Test Report===

test_assassination_of_unknown_node passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 49.42 seconds ===========================
[msx] rc = 0
v1v1 running time = 70926877934
cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node PASSED    [100%]
===Flaky Test Report===

test_assassination_of_unknown_node passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 221.51 seconds ==========================
[msx] rc = 0
v2v2 running time = 242990521651
---> v1v1 and v2v2 test test suceeded.
cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node FAILED    [100%]
------------------------------ live log teardown -------------------------------
10:45:29,210 conftest ERROR Unexpected error in node2 log, error: 
ERROR [main] 2022-02-02 10:45:05,920 CassandraDaemon.java:911 - Exception encountered during startup
java.lang.RuntimeException: Unable to gossip with any peers
	at org.apache.cassandra.gms.Gossiper.doShadowRound(Gossiper.java:1844)
	at org.apache.cassandra.service.StorageService.checkForEndpointCollision(StorageService.java:648)
	at org.apache.cassandra.service.StorageService.prepareToJoin(StorageService.java:934)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:784)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:729)
	at org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:420)
	at org.apache.cassandra.service.CassandraDaemon.activate(CassandraDaemon.java:765)
	at org.apache.cassandra.service.CassandraDaemon.main(CassandraDaemon.java:889)


=================================== FAILURES ===================================
________________ TestGossip.test_assassination_of_unknown_node _________________

self = <gossip_test.TestGossip object at 0x7f08066ff198>

    @pytest.mark.no_vnodes
    def test_assassination_of_unknown_node(self):
        """
            @jira_ticket CASSANDRA-16588
            Test that a non-seed node can come back online after assassinating an
            unknown node.
            """
        cluster = self.cluster
    
        # Create a 5-node cluster
        cluster.populate(5)
        node1 = cluster.nodelist()[0]
        node3 = cluster.nodelist()[2]
    
        self.cluster.set_configuration_options({
            'seed_provider': [{'class_name': 'org.apache.cassandra.locator.SimpleSeedProvider',
                               'parameters': [{'seeds': node1.address()}]
                              }]
            })
    
>       cluster.start()

gossip_test.py:37: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <ccmlib.cluster.Cluster object at 0x7f08066ffc88>, no_wait = False
verbose = False, wait_for_binary_proto = True, wait_other_notice = True
jvm_args = ['-Dcassandra.migration_task_wait_in_seconds=10', '-Dcassandra.migration_task_wait_in_seconds=10', '-Dcassandra.migrat..._wait_in_seconds=10', '-Dcassandra.migration_task_wait_in_seconds=10', '-Dcassandra.migration_task_wait_in_seconds=10']
profile_options = None, quiet_start = False, allow_root = False
jvm_version = None, kwargs = {}
node = <ccmlib.node.Node object at 0x7f0805ee7d30>, itf = ('127.0.0.5', 9042)
started = [(<ccmlib.node.Node object at 0x7f08066fff60>, <subprocess.Popen object at 0x7f0805ec5a90>, 0), (<ccmlib.node.Node obj... at 0x7f0805ed0160>, 0), (<ccmlib.node.Node object at 0x7f08066fb828>, <subprocess.Popen object at 0x7f0805ed0518>, 0)]
mark = 0, node_wait_for_binary_proto = False
p = <subprocess.Popen object at 0x7f0805ec5940>, timeout = 120

    def start(self, no_wait=False, verbose=False, wait_for_binary_proto=True,
              wait_other_notice=True, jvm_args=None, profile_options=None,
              quiet_start=False, allow_root=False, jvm_version=None, **kwargs):
        if jvm_args is None:
            jvm_args = []
    
        extension.pre_cluster_start(self)
    
        # check whether all loopback aliases are available before starting any nodes
        for node in list(self.nodes.values()):
            if not node.is_running():
                for itf in node.network_interfaces.values():
                    if itf is not None:
                        common.assert_socket_available(itf)
    
        started = []
        for node in list(self.nodes.values()):
            if not node.is_running():
                mark = 0
                if os.path.exists(node.logfilename()):
                    mark = node.mark_log()
    
                # if the node is going to allocate_strategy_ tokens during start, then wait_for_binary_proto=True
                node_wait_for_binary_proto = (self.can_generate_tokens() and self.use_vnodes and node.initial_token is None)
                p = node.start(update_pid=False, jvm_args=jvm_args, jvm_version=jvm_version,
                               profile_options=profile_options, verbose=verbose, quiet_start=quiet_start,
                               allow_root=allow_root, wait_for_binary_proto=node_wait_for_binary_proto)
    
                # Prior to JDK8, starting every node at once could lead to a
                # nanotime collision where the RNG that generates a node's tokens
                # gives identical tokens to several nodes. Thus, we stagger
                # the node starts
                if common.get_jdk_version() < '1.8':
                    time.sleep(1)
    
                started.append((node, p, mark))
    
        if no_wait:
            time.sleep(2)  # waiting 2 seconds to check for early errors and for the pid to be set
        else:
            for node, p, mark in started:
                if not node._wait_for_running(p, timeout_s=7):
                    raise NodeError("Node {} should be running before waiting for <started listening> log message, "
>                                   "but C* process is terminated.".format(node.name))
E                   ccmlib.node.NodeError: Node node2 should be running before waiting for <started listening> log message, but C* process is terminated.

../dtest/lib/python3.6/site-packages/ccmlib/cluster.py:543: NodeError
---------------------------- Captured stdout setup -----------------------------
10:43:53,772 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
10:43:53,497 conftest INFO Starting execution of test_assassination_of_unknown_node at 2022-02-02 10:43:53.497540
10:43:53,676 dtest_setup INFO cluster ccm directory: /tmp/dtest-njqsd663
----------------------------- Captured stdout call -----------------------------

10:43:53,774 ccm DEBUG using balanced tokens for non-vnode cluster
10:43:57,436 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-njqsd663/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-njqsd663/test/node1/conf'}
10:43:57,438 ccm INFO node1: using Java 8 for the current invocation
10:43:57,651 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-njqsd663/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-njqsd663/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10'}
10:43:57,652 ccm INFO node1: using Java 8 for the current invocation
10:43:57,765 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
10:43:58,76 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-njqsd663/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-njqsd663/test/node2/conf'}
10:43:58,77 ccm INFO node2: using Java 8 for the current invocation
10:43:58,292 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-njqsd663/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-njqsd663/test/node2/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
10:43:58,293 ccm INFO node2: using Java 8 for the current invocation
10:43:58,400 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
10:43:58,743 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-njqsd663/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-njqsd663/test/node3/conf'}
10:43:58,744 ccm INFO node3: using Java 8 for the current invocation
10:43:58,959 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-njqsd663/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-njqsd663/test/node3/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
10:43:58,960 ccm INFO node3: using Java 8 for the current invocation
10:43:59,65 ccm INFO Starting node3 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
10:43:59,389 ccm INFO node4: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-njqsd663/test/node4/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-njqsd663/test/node4/conf'}
10:43:59,391 ccm INFO node4: using Java 8 for the current invocation
10:43:59,606 ccm INFO node4: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-njqsd663/test/node4/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-njqsd663/test/node4/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
10:43:59,607 ccm INFO node4: using Java 8 for the current invocation
10:43:59,717 ccm INFO Starting node4 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
10:44:00,35 ccm INFO node5: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-njqsd663/test/node5/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-njqsd663/test/node5/conf'}
10:44:00,35 ccm INFO node5: using Java 8 for the current invocation
10:44:00,247 ccm INFO node5: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-njqsd663/test/node5/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-njqsd663/test/node5/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
10:44:00,248 ccm INFO node5: using Java 8 for the current invocation
10:44:00,338 ccm INFO Starting node5 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
----------------------------- Captured stderr call -----------------------------
Exception in thread Thread-1:
Traceback (most recent call last):
  File "/usr/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/root/dtest/lib/python3.6/site-packages/ccmlib/cluster.py", line 193, in run
    self.scan_and_report()
  File "/root/dtest/lib/python3.6/site-packages/ccmlib/cluster.py", line 186, in scan_and_report
    on_error_call(errordata)
  File "/root/cassandra-dtest/dtest_setup.py", line 136, in _log_error_handler
    pytest.fail("Error details: \n{message}".format(message=message))
  File "/root/dtest/lib/python3.6/site-packages/_pytest/outcomes.py", line 97, in fail
    raise Failed(msg=msg, pytrace=pytrace)
Failed: Error details: 
Errors seen in logs for: node2
node2: ERROR [main] 2022-02-02 10:45:05,920 CassandraDaemon.java:911 - Exception encountered during startup
java.lang.RuntimeException: Unable to gossip with any peers
	at org.apache.cassandra.gms.Gossiper.doShadowRound(Gossiper.java:1844)
	at org.apache.cassandra.service.StorageService.checkForEndpointCollision(StorageService.java:648)
	at org.apache.cassandra.service.StorageService.prepareToJoin(StorageService.java:934)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:784)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:729)
	at org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:420)
	at org.apache.cassandra.service.CassandraDaemon.activate(CassandraDaemon.java:765)
	at org.apache.cassandra.service.CassandraDaemon.main(CassandraDaemon.java:889)

------------------------------ Captured log call -------------------------------
10:43:57,436 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-njqsd663/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-njqsd663/test/node1/conf'}
10:43:57,438 ccm INFO node1: using Java 8 for the current invocation
10:43:57,651 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-njqsd663/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-njqsd663/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10'}
10:43:57,652 ccm INFO node1: using Java 8 for the current invocation
10:43:57,765 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
10:43:58,76 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-njqsd663/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-njqsd663/test/node2/conf'}
10:43:58,77 ccm INFO node2: using Java 8 for the current invocation
10:43:58,292 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-njqsd663/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-njqsd663/test/node2/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
10:43:58,293 ccm INFO node2: using Java 8 for the current invocation
10:43:58,400 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
10:43:58,743 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-njqsd663/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-njqsd663/test/node3/conf'}
10:43:58,744 ccm INFO node3: using Java 8 for the current invocation
10:43:58,959 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-njqsd663/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-njqsd663/test/node3/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
10:43:58,960 ccm INFO node3: using Java 8 for the current invocation
10:43:59,65 ccm INFO Starting node3 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
10:43:59,389 ccm INFO node4: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-njqsd663/test/node4/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-njqsd663/test/node4/conf'}
10:43:59,391 ccm INFO node4: using Java 8 for the current invocation
10:43:59,606 ccm INFO node4: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-njqsd663/test/node4/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-njqsd663/test/node4/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
10:43:59,607 ccm INFO node4: using Java 8 for the current invocation
10:43:59,717 ccm INFO Starting node4 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
10:44:00,35 ccm INFO node5: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-njqsd663/test/node5/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-njqsd663/test/node5/conf'}
10:44:00,35 ccm INFO node5: using Java 8 for the current invocation
10:44:00,247 ccm INFO node5: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-njqsd663/test/node5/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-njqsd663/test/node5/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
10:44:00,248 ccm INFO node5: using Java 8 for the current invocation
10:44:00,338 ccm INFO Starting node5 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
---------------------------- Captured log teardown -----------------------------
10:45:29,210 conftest ERROR Unexpected error in node2 log, error: 
ERROR [main] 2022-02-02 10:45:05,920 CassandraDaemon.java:911 - Exception encountered during startup
java.lang.RuntimeException: Unable to gossip with any peers
	at org.apache.cassandra.gms.Gossiper.doShadowRound(Gossiper.java:1844)
	at org.apache.cassandra.service.StorageService.checkForEndpointCollision(StorageService.java:648)
	at org.apache.cassandra.service.StorageService.prepareToJoin(StorageService.java:934)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:784)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:729)
	at org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:420)
	at org.apache.cassandra.service.CassandraDaemon.activate(CassandraDaemon.java:765)
	at org.apache.cassandra.service.CassandraDaemon.main(CassandraDaemon.java:889)
===Flaky Test Report===

test_assassination_of_unknown_node failed and was not selected for rerun.
	<class 'ccmlib.node.NodeError'>
	Node node2 should be running before waiting for <started listening> log message, but C* process is terminated.
	[<TracebackEntry /root/cassandra-dtest/gossip_test.py:37>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/cluster.py:543>]

===End Flaky Test Report===
========================== 1 failed in 96.80 seconds ===========================
[msx] rc = 1
v1v2 running time = 118224282922
---> v1v2 test failed.
proj: cassandra
u_test: gossip_test.py::TestGossip::test_assassination_of_unknown_node
h_list: periodic_commitlog_sync_lag_block_in_ms@@@CassandraDaemon@@@-1@@@null@@@100
vv_mode: v1v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node PASSED    [100%]
===Flaky Test Report===

test_assassination_of_unknown_node passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 49.59 seconds ===========================
[msx] rc = 0
v1v1 running time = 71079380541
cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node PASSED    [100%]
===Flaky Test Report===

test_assassination_of_unknown_node passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 231.94 seconds ==========================
[msx] rc = 0
v2v2 running time = 253485119332
---> v1v1 and v2v2 test test suceeded.
cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node PASSED    [100%]
===Flaky Test Report===

test_assassination_of_unknown_node passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 151.29 seconds ==========================
[msx] rc = 0
v1v2 running time = 172739142346
---> v1v2 test suceeded.
cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node PASSED    [100%]
===Flaky Test Report===

test_assassination_of_unknown_node passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 49.06 seconds ===========================
[msx] rc = 0
v1v1 running time = 70856648948
cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node PASSED    [100%]
===Flaky Test Report===

test_assassination_of_unknown_node passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 230.40 seconds ==========================
[msx] rc = 0
v2v2 running time = 251786742532
---> v1v1 and v2v2 test test suceeded.
cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node FAILED    [100%]
------------------------------ live log teardown -------------------------------
11:01:17,135 conftest ERROR Unexpected error in node2 log, error: 
ERROR [main] 2022-02-02 11:00:45,095 CassandraDaemon.java:911 - Exception encountered during startup
java.lang.RuntimeException: Unable to gossip with any peers
	at org.apache.cassandra.gms.Gossiper.doShadowRound(Gossiper.java:1844)
	at org.apache.cassandra.service.StorageService.checkForEndpointCollision(StorageService.java:648)
	at org.apache.cassandra.service.StorageService.prepareToJoin(StorageService.java:934)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:784)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:729)
	at org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:420)
	at org.apache.cassandra.service.CassandraDaemon.activate(CassandraDaemon.java:765)
	at org.apache.cassandra.service.CassandraDaemon.main(CassandraDaemon.java:889)


=================================== FAILURES ===================================
________________ TestGossip.test_assassination_of_unknown_node _________________

self = <gossip_test.TestGossip object at 0x7ff275e07be0>

    @pytest.mark.no_vnodes
    def test_assassination_of_unknown_node(self):
        """
            @jira_ticket CASSANDRA-16588
            Test that a non-seed node can come back online after assassinating an
            unknown node.
            """
        cluster = self.cluster
    
        # Create a 5-node cluster
        cluster.populate(5)
        node1 = cluster.nodelist()[0]
        node3 = cluster.nodelist()[2]
    
        self.cluster.set_configuration_options({
            'seed_provider': [{'class_name': 'org.apache.cassandra.locator.SimpleSeedProvider',
                               'parameters': [{'seeds': node1.address()}]
                              }]
            })
    
>       cluster.start()

gossip_test.py:37: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <ccmlib.cluster.Cluster object at 0x7ff275e0acc0>, no_wait = False
verbose = False, wait_for_binary_proto = True, wait_other_notice = True
jvm_args = ['-Dcassandra.migration_task_wait_in_seconds=10', '-Dcassandra.migration_task_wait_in_seconds=10', '-Dcassandra.migrat..._wait_in_seconds=10', '-Dcassandra.migration_task_wait_in_seconds=10', '-Dcassandra.migration_task_wait_in_seconds=10']
profile_options = None, quiet_start = False, allow_root = False
jvm_version = None, kwargs = {}
node = <ccmlib.node.Node object at 0x7ff275e0aba8>, itf = ('127.0.0.5', 9042)
started = [(<ccmlib.node.Node object at 0x7ff275e0ada0>, <subprocess.Popen object at 0x7ff2755ca588>, 0), (<ccmlib.node.Node obj... at 0x7ff2755da0f0>, 0), (<ccmlib.node.Node object at 0x7ff2755f2ba8>, <subprocess.Popen object at 0x7ff2755da4a8>, 0)]
mark = 0, node_wait_for_binary_proto = False
p = <subprocess.Popen object at 0x7ff2755ca940>, timeout = 120

    def start(self, no_wait=False, verbose=False, wait_for_binary_proto=True,
              wait_other_notice=True, jvm_args=None, profile_options=None,
              quiet_start=False, allow_root=False, jvm_version=None, **kwargs):
        if jvm_args is None:
            jvm_args = []
    
        extension.pre_cluster_start(self)
    
        # check whether all loopback aliases are available before starting any nodes
        for node in list(self.nodes.values()):
            if not node.is_running():
                for itf in node.network_interfaces.values():
                    if itf is not None:
                        common.assert_socket_available(itf)
    
        started = []
        for node in list(self.nodes.values()):
            if not node.is_running():
                mark = 0
                if os.path.exists(node.logfilename()):
                    mark = node.mark_log()
    
                # if the node is going to allocate_strategy_ tokens during start, then wait_for_binary_proto=True
                node_wait_for_binary_proto = (self.can_generate_tokens() and self.use_vnodes and node.initial_token is None)
                p = node.start(update_pid=False, jvm_args=jvm_args, jvm_version=jvm_version,
                               profile_options=profile_options, verbose=verbose, quiet_start=quiet_start,
                               allow_root=allow_root, wait_for_binary_proto=node_wait_for_binary_proto)
    
                # Prior to JDK8, starting every node at once could lead to a
                # nanotime collision where the RNG that generates a node's tokens
                # gives identical tokens to several nodes. Thus, we stagger
                # the node starts
                if common.get_jdk_version() < '1.8':
                    time.sleep(1)
    
                started.append((node, p, mark))
    
        if no_wait:
            time.sleep(2)  # waiting 2 seconds to check for early errors and for the pid to be set
        else:
            for node, p, mark in started:
                if not node._wait_for_running(p, timeout_s=7):
                    raise NodeError("Node {} should be running before waiting for <started listening> log message, "
>                                   "but C* process is terminated.".format(node.name))
E                   ccmlib.node.NodeError: Node node2 should be running before waiting for <started listening> log message, but C* process is terminated.

../dtest/lib/python3.6/site-packages/ccmlib/cluster.py:543: NodeError
---------------------------- Captured stdout setup -----------------------------
10:59:31,986 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
10:59:31,759 conftest INFO Starting execution of test_assassination_of_unknown_node at 2022-02-02 10:59:31.759491
10:59:31,872 dtest_setup INFO cluster ccm directory: /tmp/dtest-3yu2mvpa
----------------------------- Captured stdout call -----------------------------
10:59:31,988 ccm DEBUG using balanced tokens for non-vnode cluster
10:59:36,256 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-3yu2mvpa/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-3yu2mvpa/test/node1/conf'}
10:59:36,258 ccm INFO node1: using Java 8 for the current invocation
10:59:36,479 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-3yu2mvpa/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-3yu2mvpa/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10'}
10:59:36,480 ccm INFO node1: using Java 8 for the current invocation
10:59:36,583 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
10:59:36,946 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-3yu2mvpa/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-3yu2mvpa/test/node2/conf'}
10:59:36,947 ccm INFO node2: using Java 8 for the current invocation
10:59:37,161 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-3yu2mvpa/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-3yu2mvpa/test/node2/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
10:59:37,162 ccm INFO node2: using Java 8 for the current invocation
10:59:37,279 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
10:59:37,574 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-3yu2mvpa/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-3yu2mvpa/test/node3/conf'}
10:59:37,575 ccm INFO node3: using Java 8 for the current invocation
10:59:37,809 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-3yu2mvpa/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-3yu2mvpa/test/node3/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
10:59:37,810 ccm INFO node3: using Java 8 for the current invocation
10:59:37,911 ccm INFO Starting node3 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
10:59:38,255 ccm INFO node4: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-3yu2mvpa/test/node4/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-3yu2mvpa/test/node4/conf'}
10:59:38,256 ccm INFO node4: using Java 8 for the current invocation
10:59:38,473 ccm INFO node4: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-3yu2mvpa/test/node4/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-3yu2mvpa/test/node4/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
10:59:38,474 ccm INFO node4: using Java 8 for the current invocation
10:59:38,583 ccm INFO Starting node4 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
10:59:38,920 ccm INFO node5: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-3yu2mvpa/test/node5/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-3yu2mvpa/test/node5/conf'}
10:59:38,921 ccm INFO node5: using Java 8 for the current invocation
10:59:39,132 ccm INFO node5: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-3yu2mvpa/test/node5/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-3yu2mvpa/test/node5/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
10:59:39,133 ccm INFO node5: using Java 8 for the current invocation
10:59:39,250 ccm INFO Starting node5 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
----------------------------- Captured stderr call -----------------------------
Exception in thread Thread-1:
Traceback (most recent call last):
  File "/usr/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/root/dtest/lib/python3.6/site-packages/ccmlib/cluster.py", line 193, in run
    self.scan_and_report()
  File "/root/dtest/lib/python3.6/site-packages/ccmlib/cluster.py", line 186, in scan_and_report
    on_error_call(errordata)
  File "/root/cassandra-dtest/dtest_setup.py", line 136, in _log_error_handler
    pytest.fail("Error details: \n{message}".format(message=message))
  File "/root/dtest/lib/python3.6/site-packages/_pytest/outcomes.py", line 97, in fail
    raise Failed(msg=msg, pytrace=pytrace)
Failed: Error details: 
Errors seen in logs for: node2
node2: ERROR [main] 2022-02-02 11:00:45,095 CassandraDaemon.java:911 - Exception encountered during startup
java.lang.RuntimeException: Unable to gossip with any peers
	at org.apache.cassandra.gms.Gossiper.doShadowRound(Gossiper.java:1844)
	at org.apache.cassandra.service.StorageService.checkForEndpointCollision(StorageService.java:648)
	at org.apache.cassandra.service.StorageService.prepareToJoin(StorageService.java:934)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:784)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:729)
	at org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:420)
	at org.apache.cassandra.service.CassandraDaemon.activate(CassandraDaemon.java:765)
	at org.apache.cassandra.service.CassandraDaemon.main(CassandraDaemon.java:889)

------------------------------ Captured log call -------------------------------
10:59:36,256 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-3yu2mvpa/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-3yu2mvpa/test/node1/conf'}
10:59:36,258 ccm INFO node1: using Java 8 for the current invocation
10:59:36,479 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-3yu2mvpa/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-3yu2mvpa/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10'}
10:59:36,480 ccm INFO node1: using Java 8 for the current invocation
10:59:36,583 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
10:59:36,946 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-3yu2mvpa/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-3yu2mvpa/test/node2/conf'}
10:59:36,947 ccm INFO node2: using Java 8 for the current invocation
10:59:37,161 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-3yu2mvpa/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-3yu2mvpa/test/node2/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
10:59:37,162 ccm INFO node2: using Java 8 for the current invocation
10:59:37,279 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
10:59:37,574 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-3yu2mvpa/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-3yu2mvpa/test/node3/conf'}
10:59:37,575 ccm INFO node3: using Java 8 for the current invocation
10:59:37,809 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-3yu2mvpa/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-3yu2mvpa/test/node3/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
10:59:37,810 ccm INFO node3: using Java 8 for the current invocation
10:59:37,911 ccm INFO Starting node3 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
10:59:38,255 ccm INFO node4: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-3yu2mvpa/test/node4/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-3yu2mvpa/test/node4/conf'}
10:59:38,256 ccm INFO node4: using Java 8 for the current invocation
10:59:38,473 ccm INFO node4: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-3yu2mvpa/test/node4/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-3yu2mvpa/test/node4/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
10:59:38,474 ccm INFO node4: using Java 8 for the current invocation
10:59:38,583 ccm INFO Starting node4 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
10:59:38,920 ccm INFO node5: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-3yu2mvpa/test/node5/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-3yu2mvpa/test/node5/conf'}
10:59:38,921 ccm INFO node5: using Java 8 for the current invocation
10:59:39,132 ccm INFO node5: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-3yu2mvpa/test/node5/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-3yu2mvpa/test/node5/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
10:59:39,133 ccm INFO node5: using Java 8 for the current invocation
10:59:39,250 ccm INFO Starting node5 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
---------------------------- Captured log teardown -----------------------------
11:01:17,135 conftest ERROR Unexpected error in node2 log, error: 
ERROR [main] 2022-02-02 11:00:45,095 CassandraDaemon.java:911 - Exception encountered during startup
java.lang.RuntimeException: Unable to gossip with any peers
	at org.apache.cassandra.gms.Gossiper.doShadowRound(Gossiper.java:1844)
	at org.apache.cassandra.service.StorageService.checkForEndpointCollision(StorageService.java:648)
	at org.apache.cassandra.service.StorageService.prepareToJoin(StorageService.java:934)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:784)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:729)
	at org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:420)
	at org.apache.cassandra.service.CassandraDaemon.activate(CassandraDaemon.java:765)
	at org.apache.cassandra.service.CassandraDaemon.main(CassandraDaemon.java:889)
===Flaky Test Report===

test_assassination_of_unknown_node failed and was not selected for rerun.
	<class 'ccmlib.node.NodeError'>
	Node node2 should be running before waiting for <started listening> log message, but C* process is terminated.
	[<TracebackEntry /root/cassandra-dtest/gossip_test.py:37>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/cluster.py:543>]

===End Flaky Test Report===
========================== 1 failed in 106.48 seconds ==========================
[msx] rc = 1
v1v2 running time = 127972041782
---> v1v2 test failed.
proj: cassandra
u_test: gossip_test.py::TestGossip::test_assassination_of_unknown_node
h_list: periodic_commitlog_sync_lag_block_in_ms@@@CassandraDaemon@@@-1@@@null@@@100
vv_mode: v1v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node PASSED    [100%]
===Flaky Test Report===

test_assassination_of_unknown_node passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 49.62 seconds ===========================
[msx] rc = 0
v1v1 running time = 71041574374
cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node PASSED    [100%]
===Flaky Test Report===

test_assassination_of_unknown_node passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 247.28 seconds ==========================
[msx] rc = 0
v2v2 running time = 268784500517
---> v1v1 and v2v2 test test suceeded.
cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node FAILED    [100%]
------------------------------ live log teardown -------------------------------
11:08:55,34 conftest ERROR Unexpected error in node2 log, error: 
ERROR [main] 2022-02-02 11:08:32,795 CassandraDaemon.java:911 - Exception encountered during startup
java.lang.RuntimeException: Unable to gossip with any peers
	at org.apache.cassandra.gms.Gossiper.doShadowRound(Gossiper.java:1844)
	at org.apache.cassandra.service.StorageService.checkForEndpointCollision(StorageService.java:648)
	at org.apache.cassandra.service.StorageService.prepareToJoin(StorageService.java:934)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:784)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:729)
	at org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:420)
	at org.apache.cassandra.service.CassandraDaemon.activate(CassandraDaemon.java:765)
	at org.apache.cassandra.service.CassandraDaemon.main(CassandraDaemon.java:889)


=================================== FAILURES ===================================
________________ TestGossip.test_assassination_of_unknown_node _________________

self = <gossip_test.TestGossip object at 0x7f6d833f6320>

    @pytest.mark.no_vnodes
    def test_assassination_of_unknown_node(self):
        """
            @jira_ticket CASSANDRA-16588
            Test that a non-seed node can come back online after assassinating an
            unknown node.
            """
        cluster = self.cluster
    
        # Create a 5-node cluster
        cluster.populate(5)
        node1 = cluster.nodelist()[0]
        node3 = cluster.nodelist()[2]
    
        self.cluster.set_configuration_options({
            'seed_provider': [{'class_name': 'org.apache.cassandra.locator.SimpleSeedProvider',
                               'parameters': [{'seeds': node1.address()}]
                              }]
            })
    
>       cluster.start()

gossip_test.py:37: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <ccmlib.cluster.Cluster object at 0x7f6d833f3b38>, no_wait = False
verbose = False, wait_for_binary_proto = True, wait_other_notice = True
jvm_args = ['-Dcassandra.migration_task_wait_in_seconds=10', '-Dcassandra.migration_task_wait_in_seconds=10', '-Dcassandra.migrat..._wait_in_seconds=10', '-Dcassandra.migration_task_wait_in_seconds=10', '-Dcassandra.migration_task_wait_in_seconds=10']
profile_options = None, quiet_start = False, allow_root = False
jvm_version = None, kwargs = {}
node = <ccmlib.node.Node object at 0x7f6d82bddcc0>, itf = ('127.0.0.5', 9042)
started = [(<ccmlib.node.Node object at 0x7f6d833f6ef0>, <subprocess.Popen object at 0x7f6d82bace10>, 0), (<ccmlib.node.Node obj... at 0x7f6d82bc5278>, 0), (<ccmlib.node.Node object at 0x7f6d82bdde10>, <subprocess.Popen object at 0x7f6d82bc5630>, 0)]
mark = 0, node_wait_for_binary_proto = False
p = <subprocess.Popen object at 0x7f6d82bac0f0>, timeout = 120

    def start(self, no_wait=False, verbose=False, wait_for_binary_proto=True,
              wait_other_notice=True, jvm_args=None, profile_options=None,
              quiet_start=False, allow_root=False, jvm_version=None, **kwargs):
        if jvm_args is None:
            jvm_args = []
    
        extension.pre_cluster_start(self)
    
        # check whether all loopback aliases are available before starting any nodes
        for node in list(self.nodes.values()):
            if not node.is_running():
                for itf in node.network_interfaces.values():
                    if itf is not None:
                        common.assert_socket_available(itf)
    
        started = []
        for node in list(self.nodes.values()):
            if not node.is_running():
                mark = 0
                if os.path.exists(node.logfilename()):
                    mark = node.mark_log()
    
                # if the node is going to allocate_strategy_ tokens during start, then wait_for_binary_proto=True
                node_wait_for_binary_proto = (self.can_generate_tokens() and self.use_vnodes and node.initial_token is None)
                p = node.start(update_pid=False, jvm_args=jvm_args, jvm_version=jvm_version,
                               profile_options=profile_options, verbose=verbose, quiet_start=quiet_start,
                               allow_root=allow_root, wait_for_binary_proto=node_wait_for_binary_proto)
    
                # Prior to JDK8, starting every node at once could lead to a
                # nanotime collision where the RNG that generates a node's tokens
                # gives identical tokens to several nodes. Thus, we stagger
                # the node starts
                if common.get_jdk_version() < '1.8':
                    time.sleep(1)
    
                started.append((node, p, mark))
    
        if no_wait:
            time.sleep(2)  # waiting 2 seconds to check for early errors and for the pid to be set
        else:
            for node, p, mark in started:
                if not node._wait_for_running(p, timeout_s=7):
                    raise NodeError("Node {} should be running before waiting for <started listening> log message, "
>                                   "but C* process is terminated.".format(node.name))
E                   ccmlib.node.NodeError: Node node2 should be running before waiting for <started listening> log message, but C* process is terminated.

../dtest/lib/python3.6/site-packages/ccmlib/cluster.py:543: NodeError
---------------------------- Captured stdout setup -----------------------------
1:07:19,699 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
11:07:19,488 conftest INFO Starting execution of test_assassination_of_unknown_node at 2022-02-02 11:07:19.487958
11:07:19,596 dtest_setup INFO cluster ccm directory: /tmp/dtest-57tce7o6
----------------------------- Captured stdout call -----------------------------
11:07:19,701 ccm DEBUG using balanced tokens for non-vnode cluster
11:07:23,996 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-57tce7o6/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-57tce7o6/test/node1/conf'}
11:07:23,997 ccm INFO node1: using Java 8 for the current invocation
11:07:24,236 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-57tce7o6/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-57tce7o6/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10'}
11:07:24,236 ccm INFO node1: using Java 8 for the current invocation
11:07:24,367 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:07:24,697 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-57tce7o6/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-57tce7o6/test/node2/conf'}
11:07:24,699 ccm INFO node2: using Java 8 for the current invocation
11:07:24,965 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-57tce7o6/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-57tce7o6/test/node2/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:07:24,966 ccm INFO node2: using Java 8 for the current invocation
11:07:25,87 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:07:25,469 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-57tce7o6/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-57tce7o6/test/node3/conf'}
11:07:25,470 ccm INFO node3: using Java 8 for the current invocation
11:07:25,666 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-57tce7o6/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-57tce7o6/test/node3/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:07:25,667 ccm INFO node3: using Java 8 for the current invocation
11:07:25,760 ccm INFO Starting node3 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:07:26,81 ccm INFO node4: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-57tce7o6/test/node4/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-57tce7o6/test/node4/conf'}
11:07:26,81 ccm INFO node4: using Java 8 for the current invocation
11:07:26,286 ccm INFO node4: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-57tce7o6/test/node4/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-57tce7o6/test/node4/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:07:26,287 ccm INFO node4: using Java 8 for the current invocation
11:07:26,426 ccm INFO Starting node4 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:07:26,802 ccm INFO node5: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-57tce7o6/test/node5/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-57tce7o6/test/node5/conf'}
11:07:26,803 ccm INFO node5: using Java 8 for the current invocation
11:07:27,35 ccm INFO node5: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-57tce7o6/test/node5/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-57tce7o6/test/node5/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:07:27,36 ccm INFO node5: using Java 8 for the current invocation
11:07:27,147 ccm INFO Starting node5 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
----------------------------- Captured stderr call -----------------------------
Exception in thread Thread-1:
Traceback (most recent call last):
  File "/usr/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/root/dtest/lib/python3.6/site-packages/ccmlib/cluster.py", line 193, in run
    self.scan_and_report()
  File "/root/dtest/lib/python3.6/site-packages/ccmlib/cluster.py", line 186, in scan_and_report
    on_error_call(errordata)
  File "/root/cassandra-dtest/dtest_setup.py", line 136, in _log_error_handler
    pytest.fail("Error details: \n{message}".format(message=message))
  File "/root/dtest/lib/python3.6/site-packages/_pytest/outcomes.py", line 97, in fail
    raise Failed(msg=msg, pytrace=pytrace)
Failed: Error details: 
Errors seen in logs for: node2
node2: ERROR [main] 2022-02-02 11:08:32,795 CassandraDaemon.java:911 - Exception encountered during startup
java.lang.RuntimeException: Unable to gossip with any peers
	at org.apache.cassandra.gms.Gossiper.doShadowRound(Gossiper.java:1844)
	at org.apache.cassandra.service.StorageService.checkForEndpointCollision(StorageService.java:648)
	at org.apache.cassandra.service.StorageService.prepareToJoin(StorageService.java:934)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:784)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:729)
	at org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:420)
	at org.apache.cassandra.service.CassandraDaemon.activate(CassandraDaemon.java:765)
	at org.apache.cassandra.service.CassandraDaemon.main(CassandraDaemon.java:889)

------------------------------ Captured log call -------------------------------
11:07:23,996 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-57tce7o6/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-57tce7o6/test/node1/conf'}
11:07:23,997 ccm INFO node1: using Java 8 for the current invocation
11:07:24,236 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-57tce7o6/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-57tce7o6/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10'}
11:07:24,236 ccm INFO node1: using Java 8 for the current invocation
11:07:24,367 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:07:24,697 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-57tce7o6/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-57tce7o6/test/node2/conf'}
11:07:24,699 ccm INFO node2: using Java 8 for the current invocation
11:07:24,965 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-57tce7o6/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-57tce7o6/test/node2/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:07:24,966 ccm INFO node2: using Java 8 for the current invocation
11:07:25,87 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:07:25,469 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-57tce7o6/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-57tce7o6/test/node3/conf'}
11:07:25,470 ccm INFO node3: using Java 8 for the current invocation
11:07:25,666 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-57tce7o6/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-57tce7o6/test/node3/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:07:25,667 ccm INFO node3: using Java 8 for the current invocation
11:07:25,760 ccm INFO Starting node3 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:07:26,81 ccm INFO node4: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-57tce7o6/test/node4/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-57tce7o6/test/node4/conf'}
11:07:26,81 ccm INFO node4: using Java 8 for the current invocation
11:07:26,286 ccm INFO node4: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-57tce7o6/test/node4/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-57tce7o6/test/node4/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:07:26,287 ccm INFO node4: using Java 8 for the current invocation
11:07:26,426 ccm INFO Starting node4 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:07:26,802 ccm INFO node5: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-57tce7o6/test/node5/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-57tce7o6/test/node5/conf'}
11:07:26,803 ccm INFO node5: using Java 8 for the current invocation
11:07:27,35 ccm INFO node5: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-57tce7o6/test/node5/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-57tce7o6/test/node5/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:07:27,36 ccm INFO node5: using Java 8 for the current invocation
11:07:27,147 ccm INFO Starting node5 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
---------------------------- Captured log teardown -----------------------------
11:08:55,34 conftest ERROR Unexpected error in node2 log, error: 
ERROR [main] 2022-02-02 11:08:32,795 CassandraDaemon.java:911 - Exception encountered during startup
java.lang.RuntimeException: Unable to gossip with any peers
	at org.apache.cassandra.gms.Gossiper.doShadowRound(Gossiper.java:1844)
	at org.apache.cassandra.service.StorageService.checkForEndpointCollision(StorageService.java:648)
	at org.apache.cassandra.service.StorageService.prepareToJoin(StorageService.java:934)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:784)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:729)
	at org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:420)
	at org.apache.cassandra.service.CassandraDaemon.activate(CassandraDaemon.java:765)
	at org.apache.cassandra.service.CassandraDaemon.main(CassandraDaemon.java:889)
===Flaky Test Report===

test_assassination_of_unknown_node failed and was not selected for rerun.
	<class 'ccmlib.node.NodeError'>
	Node node2 should be running before waiting for <started listening> log message, but C* process is terminated.
	[<TracebackEntry /root/cassandra-dtest/gossip_test.py:37>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/cluster.py:543>]

===End Flaky Test Report===
========================== 1 failed in 96.61 seconds ===========================
[msx] rc = 1
v1v2 running time = 118052711091
---> v1v2 test failed.
proj: cassandra
u_test: gossip_test.py::TestGossip::test_assassination_of_unknown_node
h_list: periodic_commitlog_sync_lag_block_in_ms@@@CassandraDaemon@@@-1@@@null@@@100
vv_mode: v1v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node PASSED    [100%]
===Flaky Test Report===

test_assassination_of_unknown_node passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 48.65 seconds ===========================
[msx] rc = 0
v1v1 running time = 70039447065
cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node PASSED    [100%]
===Flaky Test Report===

test_assassination_of_unknown_node passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 232.51 seconds ==========================
[msx] rc = 0
v2v2 running time = 254032950583
---> v1v1 and v2v2 test test suceeded.
cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node FAILED    [100%]
------------------------------ live log teardown -------------------------------
11:16:27,1 conftest ERROR Unexpected error in node2 log, error: 
ERROR [main] 2022-02-02 11:15:54,483 CassandraDaemon.java:911 - Exception encountered during startup
java.lang.RuntimeException: Unable to gossip with any peers
	at org.apache.cassandra.gms.Gossiper.doShadowRound(Gossiper.java:1844)
	at org.apache.cassandra.service.StorageService.checkForEndpointCollision(StorageService.java:648)
	at org.apache.cassandra.service.StorageService.prepareToJoin(StorageService.java:934)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:784)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:729)
	at org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:420)
	at org.apache.cassandra.service.CassandraDaemon.activate(CassandraDaemon.java:765)
	at org.apache.cassandra.service.CassandraDaemon.main(CassandraDaemon.java:889)


=================================== FAILURES ===================================
________________ TestGossip.test_assassination_of_unknown_node _________________

self = <gossip_test.TestGossip object at 0x7f32851b1320>

    @pytest.mark.no_vnodes
    def test_assassination_of_unknown_node(self):
        """
            @jira_ticket CASSANDRA-16588
            Test that a non-seed node can come back online after assassinating an
            unknown node.
            """
        cluster = self.cluster
    
        # Create a 5-node cluster
        cluster.populate(5)
        node1 = cluster.nodelist()[0]
        node3 = cluster.nodelist()[2]
    
        self.cluster.set_configuration_options({
            'seed_provider': [{'class_name': 'org.apache.cassandra.locator.SimpleSeedProvider',
                               'parameters': [{'seeds': node1.address()}]
                              }]
            })
    
>       cluster.start()

gossip_test.py:37: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <ccmlib.cluster.Cluster object at 0x7f32851adb38>, no_wait = False
verbose = False, wait_for_binary_proto = True, wait_other_notice = True
jvm_args = ['-Dcassandra.migration_task_wait_in_seconds=10', '-Dcassandra.migration_task_wait_in_seconds=10', '-Dcassandra.migrat..._wait_in_seconds=10', '-Dcassandra.migration_task_wait_in_seconds=10', '-Dcassandra.migration_task_wait_in_seconds=10']
profile_options = None, quiet_start = False, allow_root = False
jvm_version = None, kwargs = {}
node = <ccmlib.node.Node object at 0x7f3284998cc0>, itf = ('127.0.0.5', 9042)
started = [(<ccmlib.node.Node object at 0x7f32851b1f60>, <subprocess.Popen object at 0x7f328499de10>, 0), (<ccmlib.node.Node obj... at 0x7f3284966278>, 0), (<ccmlib.node.Node object at 0x7f3284998e10>, <subprocess.Popen object at 0x7f3284966630>, 0)]
mark = 0, node_wait_for_binary_proto = False
p = <subprocess.Popen object at 0x7f328499d0f0>, timeout = 120

    def start(self, no_wait=False, verbose=False, wait_for_binary_proto=True,
              wait_other_notice=True, jvm_args=None, profile_options=None,
              quiet_start=False, allow_root=False, jvm_version=None, **kwargs):
        if jvm_args is None:
            jvm_args = []
    
        extension.pre_cluster_start(self)
    
        # check whether all loopback aliases are available before starting any nodes
        for node in list(self.nodes.values()):
            if not node.is_running():
                for itf in node.network_interfaces.values():
                    if itf is not None:
                        common.assert_socket_available(itf)
    
        started = []
        for node in list(self.nodes.values()):
            if not node.is_running():
                mark = 0
                if os.path.exists(node.logfilename()):
                    mark = node.mark_log()
    
                # if the node is going to allocate_strategy_ tokens during start, then wait_for_binary_proto=True
                node_wait_for_binary_proto = (self.can_generate_tokens() and self.use_vnodes and node.initial_token is None)
                p = node.start(update_pid=False, jvm_args=jvm_args, jvm_version=jvm_version,
                               profile_options=profile_options, verbose=verbose, quiet_start=quiet_start,
                               allow_root=allow_root, wait_for_binary_proto=node_wait_for_binary_proto)
    
                # Prior to JDK8, starting every node at once could lead to a
                # nanotime collision where the RNG that generates a node's tokens
                # gives identical tokens to several nodes. Thus, we stagger
                # the node starts
                if common.get_jdk_version() < '1.8':
                    time.sleep(1)
    
                started.append((node, p, mark))
    
        if no_wait:
            time.sleep(2)  # waiting 2 seconds to check for early errors and for the pid to be set
        else:
            for node, p, mark in started:
                if not node._wait_for_running(p, timeout_s=7):
                    raise NodeError("Node {} should be running before waiting for <started listening> log message, "
>                                   "but C* process is terminated.".format(node.name))
E                   ccmlib.node.NodeError: Node node2 should be running before waiting for <started listening> log message, but C* process is terminated.

../dtest/lib/python3.6/site-packages/ccmlib/cluster.py:543: NodeError
---------------------------- Captured stdout setup -----------------------------
11:14:41,853 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
11:14:41,641 conftest INFO Starting execution of test_assassination_of_unknown_node at 2022-02-02 11:14:41.641213
11:14:41,754 dtest_setup INFO cluster ccm directory: /tmp/dtest-j10llqiu
----------------------------- Captured stdout call -----------------------------
11:14:41,855 ccm DEBUG using balanced tokens for non-vnode cluster
11:14:45,775 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-j10llqiu/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-j10llqiu/test/node1/conf'}
11:14:45,777 ccm INFO node1: using Java 8 for the current invocation
11:14:45,996 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-j10llqiu/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-j10llqiu/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10'}
11:14:45,997 ccm INFO node1: using Java 8 for the current invocation
11:14:46,119 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:14:46,419 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-j10llqiu/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-j10llqiu/test/node2/conf'}
11:14:46,420 ccm INFO node2: using Java 8 for the current invocation
11:14:46,713 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-j10llqiu/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-j10llqiu/test/node2/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:14:46,714 ccm INFO node2: using Java 8 for the current invocation
11:14:46,820 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:14:47,151 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-j10llqiu/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-j10llqiu/test/node3/conf'}
11:14:47,152 ccm INFO node3: using Java 8 for the current invocation
11:14:47,390 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-j10llqiu/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-j10llqiu/test/node3/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:14:47,391 ccm INFO node3: using Java 8 for the current invocation
11:14:47,564 ccm INFO Starting node3 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:14:47,946 ccm INFO node4: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-j10llqiu/test/node4/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-j10llqiu/test/node4/conf'}
11:14:47,946 ccm INFO node4: using Java 8 for the current invocation
11:14:48,175 ccm INFO node4: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-j10llqiu/test/node4/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-j10llqiu/test/node4/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:14:48,175 ccm INFO node4: using Java 8 for the current invocation
11:14:48,295 ccm INFO Starting node4 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:14:48,698 ccm INFO node5: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-j10llqiu/test/node5/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-j10llqiu/test/node5/conf'}
11:14:48,698 ccm INFO node5: using Java 8 for the current invocation
11:14:48,964 ccm INFO node5: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-j10llqiu/test/node5/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-j10llqiu/test/node5/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:14:48,965 ccm INFO node5: using Java 8 for the current invocation
11:14:49,84 ccm INFO Starting node5 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
----------------------------- Captured stderr call -----------------------------
Exception in thread Thread-1:
Traceback (most recent call last):
  File "/usr/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/root/dtest/lib/python3.6/site-packages/ccmlib/cluster.py", line 193, in run
    self.scan_and_report()
  File "/root/dtest/lib/python3.6/site-packages/ccmlib/cluster.py", line 186, in scan_and_report
    on_error_call(errordata)
  File "/root/cassandra-dtest/dtest_setup.py", line 136, in _log_error_handler
    pytest.fail("Error details: \n{message}".format(message=message))
  File "/root/dtest/lib/python3.6/site-packages/_pytest/outcomes.py", line 97, in fail
    raise Failed(msg=msg, pytrace=pytrace)
Failed: Error details: 
Errors seen in logs for: node2
node2: ERROR [main] 2022-02-02 11:15:54,483 CassandraDaemon.java:911 - Exception encountered during startup
java.lang.RuntimeException: Unable to gossip with any peers
	at org.apache.cassandra.gms.Gossiper.doShadowRound(Gossiper.java:1844)
	at org.apache.cassandra.service.StorageService.checkForEndpointCollision(StorageService.java:648)
	at org.apache.cassandra.service.StorageService.prepareToJoin(StorageService.java:934)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:784)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:729)
	at org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:420)
	at org.apache.cassandra.service.CassandraDaemon.activate(CassandraDaemon.java:765)
	at org.apache.cassandra.service.CassandraDaemon.main(CassandraDaemon.java:889)

------------------------------ Captured log call -------------------------------
11:14:45,775 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-j10llqiu/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-j10llqiu/test/node1/conf'}
11:14:45,777 ccm INFO node1: using Java 8 for the current invocation
11:14:45,996 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-j10llqiu/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-j10llqiu/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10'}
11:14:45,997 ccm INFO node1: using Java 8 for the current invocation
11:14:46,119 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:14:46,419 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-j10llqiu/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-j10llqiu/test/node2/conf'}
11:14:46,420 ccm INFO node2: using Java 8 for the current invocation
11:14:46,713 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-j10llqiu/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-j10llqiu/test/node2/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:14:46,714 ccm INFO node2: using Java 8 for the current invocation
11:14:46,820 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:14:47,151 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-j10llqiu/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-j10llqiu/test/node3/conf'}
11:14:47,152 ccm INFO node3: using Java 8 for the current invocation
11:14:47,390 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-j10llqiu/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-j10llqiu/test/node3/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:14:47,391 ccm INFO node3: using Java 8 for the current invocation
11:14:47,564 ccm INFO Starting node3 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:14:47,946 ccm INFO node4: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-j10llqiu/test/node4/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-j10llqiu/test/node4/conf'}
11:14:47,946 ccm INFO node4: using Java 8 for the current invocation
11:14:48,175 ccm INFO node4: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-j10llqiu/test/node4/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-j10llqiu/test/node4/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:14:48,175 ccm INFO node4: using Java 8 for the current invocation
11:14:48,295 ccm INFO Starting node4 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:14:48,698 ccm INFO node5: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-j10llqiu/test/node5/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-j10llqiu/test/node5/conf'}
11:14:48,698 ccm INFO node5: using Java 8 for the current invocation
11:14:48,964 ccm INFO node5: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-j10llqiu/test/node5/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-j10llqiu/test/node5/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:14:48,965 ccm INFO node5: using Java 8 for the current invocation
11:14:49,84 ccm INFO Starting node5 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
---------------------------- Captured log teardown -----------------------------
11:16:27,1 conftest ERROR Unexpected error in node2 log, error: 
ERROR [main] 2022-02-02 11:15:54,483 CassandraDaemon.java:911 - Exception encountered during startup
java.lang.RuntimeException: Unable to gossip with any peers
	at org.apache.cassandra.gms.Gossiper.doShadowRound(Gossiper.java:1844)
	at org.apache.cassandra.service.StorageService.checkForEndpointCollision(StorageService.java:648)
	at org.apache.cassandra.service.StorageService.prepareToJoin(StorageService.java:934)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:784)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:729)
	at org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:420)
	at org.apache.cassandra.service.CassandraDaemon.activate(CassandraDaemon.java:765)
	at org.apache.cassandra.service.CassandraDaemon.main(CassandraDaemon.java:889)
===Flaky Test Report===

test_assassination_of_unknown_node failed and was not selected for rerun.
	<class 'ccmlib.node.NodeError'>
	Node node2 should be running before waiting for <started listening> log message, but C* process is terminated.
	[<TracebackEntry /root/cassandra-dtest/gossip_test.py:37>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/cluster.py:543>]

===End Flaky Test Report===
========================== 1 failed in 106.46 seconds ==========================
[msx] rc = 1
v1v2 running time = 127909021725
---> v1v2 test failed.
proj: cassandra
u_test: gossip_test.py::TestGossip::test_assassination_of_unknown_node
h_list: periodic_commitlog_sync_lag_block_in_ms@@@CassandraDaemon@@@-1@@@null@@@100
vv_mode: v1v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node PASSED    [100%]
===Flaky Test Report===

test_assassination_of_unknown_node passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 50.02 seconds ===========================
[msx] rc = 0
v1v1 running time = 71554191948
cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node PASSED    [100%]
===Flaky Test Report===

test_assassination_of_unknown_node passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 239.75 seconds ==========================
[msx] rc = 0
v2v2 running time = 261158175807
---> v1v1 and v2v2 test test suceeded.
cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node PASSED    [100%]
===Flaky Test Report===

test_assassination_of_unknown_node passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 151.42 seconds ==========================
[msx] rc = 0
v1v2 running time = 172823397894
---> v1v2 test suceeded.
cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node PASSED    [100%]
===Flaky Test Report===

test_assassination_of_unknown_node passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 49.55 seconds ===========================
[msx] rc = 0
v1v1 running time = 71149759589
cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node PASSED    [100%]
===Flaky Test Report===

test_assassination_of_unknown_node passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 229.47 seconds ==========================
[msx] rc = 0
v2v2 running time = 250897477540
---> v1v1 and v2v2 test test suceeded.
cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node FAILED    [100%]
------------------------------ live log teardown -------------------------------
11:32:23,364 conftest ERROR Unexpected error in node2 log, error: 
ERROR [main] 2022-02-02 11:31:50,507 CassandraDaemon.java:911 - Exception encountered during startup
java.lang.RuntimeException: Unable to gossip with any peers
	at org.apache.cassandra.gms.Gossiper.doShadowRound(Gossiper.java:1844)
	at org.apache.cassandra.service.StorageService.checkForEndpointCollision(StorageService.java:648)
	at org.apache.cassandra.service.StorageService.prepareToJoin(StorageService.java:934)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:784)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:729)
	at org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:420)
	at org.apache.cassandra.service.CassandraDaemon.activate(CassandraDaemon.java:765)
	at org.apache.cassandra.service.CassandraDaemon.main(CassandraDaemon.java:889)


=================================== FAILURES ===================================
________________ TestGossip.test_assassination_of_unknown_node _________________

self = <gossip_test.TestGossip object at 0x7f832f98a2e8>

    @pytest.mark.no_vnodes
    def test_assassination_of_unknown_node(self):
        """
            @jira_ticket CASSANDRA-16588
            Test that a non-seed node can come back online after assassinating an
            unknown node.
            """
        cluster = self.cluster
    
        # Create a 5-node cluster
        cluster.populate(5)
        node1 = cluster.nodelist()[0]
        node3 = cluster.nodelist()[2]
    
        self.cluster.set_configuration_options({
            'seed_provider': [{'class_name': 'org.apache.cassandra.locator.SimpleSeedProvider',
                               'parameters': [{'seeds': node1.address()}]
                              }]
            })
    
>       cluster.start()

gossip_test.py:37: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <ccmlib.cluster.Cluster object at 0x7f832f987b00>, no_wait = False
verbose = False, wait_for_binary_proto = True, wait_other_notice = True
jvm_args = ['-Dcassandra.migration_task_wait_in_seconds=10', '-Dcassandra.migration_task_wait_in_seconds=10', '-Dcassandra.migrat..._wait_in_seconds=10', '-Dcassandra.migration_task_wait_in_seconds=10', '-Dcassandra.migration_task_wait_in_seconds=10']
profile_options = None, quiet_start = False, allow_root = False
jvm_version = None, kwargs = {}
node = <ccmlib.node.Node object at 0x7f832f173c88>, itf = ('127.0.0.5', 9042)
started = [(<ccmlib.node.Node object at 0x7f832f98a240>, <subprocess.Popen object at 0x7f832f15bba8>, 0), (<ccmlib.node.Node obj... at 0x7f832f151240>, 0), (<ccmlib.node.Node object at 0x7f832f173f28>, <subprocess.Popen object at 0x7f832f1515f8>, 0)]
mark = 0, node_wait_for_binary_proto = False
p = <subprocess.Popen object at 0x7f832f15bfd0>, timeout = 120

    def start(self, no_wait=False, verbose=False, wait_for_binary_proto=True,
              wait_other_notice=True, jvm_args=None, profile_options=None,
              quiet_start=False, allow_root=False, jvm_version=None, **kwargs):
        if jvm_args is None:
            jvm_args = []
    
        extension.pre_cluster_start(self)
    
        # check whether all loopback aliases are available before starting any nodes
        for node in list(self.nodes.values()):
            if not node.is_running():
                for itf in node.network_interfaces.values():
                    if itf is not None:
                        common.assert_socket_available(itf)
    
        started = []
        for node in list(self.nodes.values()):
            if not node.is_running():
                mark = 0
                if os.path.exists(node.logfilename()):
                    mark = node.mark_log()
    
                # if the node is going to allocate_strategy_ tokens during start, then wait_for_binary_proto=True
                node_wait_for_binary_proto = (self.can_generate_tokens() and self.use_vnodes and node.initial_token is None)
                p = node.start(update_pid=False, jvm_args=jvm_args, jvm_version=jvm_version,
                               profile_options=profile_options, verbose=verbose, quiet_start=quiet_start,
                               allow_root=allow_root, wait_for_binary_proto=node_wait_for_binary_proto)
    
                # Prior to JDK8, starting every node at once could lead to a
                # nanotime collision where the RNG that generates a node's tokens
                # gives identical tokens to several nodes. Thus, we stagger
                # the node starts
                if common.get_jdk_version() < '1.8':
                    time.sleep(1)
    
                started.append((node, p, mark))
    
        if no_wait:
            time.sleep(2)  # waiting 2 seconds to check for early errors and for the pid to be set
        else:
            for node, p, mark in started:
                if not node._wait_for_running(p, timeout_s=7):
                    raise NodeError("Node {} should be running before waiting for <started listening> log message, "
>                                   "but C* process is terminated.".format(node.name))
E                   ccmlib.node.NodeError: Node node2 should be running before waiting for <started listening> log message, but C* process is terminated.

../dtest/lib/python3.6/site-packages/ccmlib/cluster.py:543: NodeError
---------------------------- Captured stdout setup -----------------------------
1:30:37,523 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
11:30:37,241 conftest INFO Starting execution of test_assassination_of_unknown_node at 2022-02-02 11:30:37.241319
11:30:37,400 dtest_setup INFO cluster ccm directory: /tmp/dtest-62ln5v1c
----------------------------- Captured stdout call -----------------------------
11:30:37,527 ccm DEBUG using balanced tokens for non-vnode cluster
11:30:42,420 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-62ln5v1c/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-62ln5v1c/test/node1/conf'}
11:30:42,421 ccm INFO node1: using Java 8 for the current invocation
11:30:42,641 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-62ln5v1c/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-62ln5v1c/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10'}
11:30:42,642 ccm INFO node1: using Java 8 for the current invocation
11:30:42,755 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:30:43,123 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-62ln5v1c/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-62ln5v1c/test/node2/conf'}
11:30:43,124 ccm INFO node2: using Java 8 for the current invocation
11:30:43,354 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-62ln5v1c/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-62ln5v1c/test/node2/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:30:43,355 ccm INFO node2: using Java 8 for the current invocation
11:30:43,500 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:30:43,859 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-62ln5v1c/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-62ln5v1c/test/node3/conf'}
11:30:43,860 ccm INFO node3: using Java 8 for the current invocation
11:30:44,75 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-62ln5v1c/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-62ln5v1c/test/node3/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:30:44,75 ccm INFO node3: using Java 8 for the current invocation
11:30:44,186 ccm INFO Starting node3 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:30:44,510 ccm INFO node4: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-62ln5v1c/test/node4/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-62ln5v1c/test/node4/conf'}
11:30:44,510 ccm INFO node4: using Java 8 for the current invocation
11:30:44,719 ccm INFO node4: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-62ln5v1c/test/node4/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-62ln5v1c/test/node4/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:30:44,720 ccm INFO node4: using Java 8 for the current invocation
11:30:44,824 ccm INFO Starting node4 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:30:45,173 ccm INFO node5: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-62ln5v1c/test/node5/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-62ln5v1c/test/node5/conf'}
11:30:45,175 ccm INFO node5: using Java 8 for the current invocation
11:30:45,384 ccm INFO node5: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-62ln5v1c/test/node5/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-62ln5v1c/test/node5/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:30:45,384 ccm INFO node5: using Java 8 for the current invocation
11:30:45,478 ccm INFO Starting node5 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
----------------------------- Captured stderr call -----------------------------
Exception in thread Thread-1:
Traceback (most recent call last):
  File "/usr/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/root/dtest/lib/python3.6/site-packages/ccmlib/cluster.py", line 193, in run
    self.scan_and_report()
  File "/root/dtest/lib/python3.6/site-packages/ccmlib/cluster.py", line 186, in scan_and_report
    on_error_call(errordata)
  File "/root/cassandra-dtest/dtest_setup.py", line 136, in _log_error_handler
    pytest.fail("Error details: \n{message}".format(message=message))
  File "/root/dtest/lib/python3.6/site-packages/_pytest/outcomes.py", line 97, in fail
    raise Failed(msg=msg, pytrace=pytrace)
Failed: Error details: 
Errors seen in logs for: node2
node2: ERROR [main] 2022-02-02 11:31:50,507 CassandraDaemon.java:911 - Exception encountered during startup
java.lang.RuntimeException: Unable to gossip with any peers
	at org.apache.cassandra.gms.Gossiper.doShadowRound(Gossiper.java:1844)
	at org.apache.cassandra.service.StorageService.checkForEndpointCollision(StorageService.java:648)
	at org.apache.cassandra.service.StorageService.prepareToJoin(StorageService.java:934)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:784)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:729)
	at org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:420)
	at org.apache.cassandra.service.CassandraDaemon.activate(CassandraDaemon.java:765)
	at org.apache.cassandra.service.CassandraDaemon.main(CassandraDaemon.java:889)

------------------------------ Captured log call -------------------------------
11:30:42,420 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-62ln5v1c/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-62ln5v1c/test/node1/conf'}
11:30:42,421 ccm INFO node1: using Java 8 for the current invocation
11:30:42,641 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-62ln5v1c/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-62ln5v1c/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10'}
11:30:42,642 ccm INFO node1: using Java 8 for the current invocation
11:30:42,755 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:30:43,123 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-62ln5v1c/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-62ln5v1c/test/node2/conf'}
11:30:43,124 ccm INFO node2: using Java 8 for the current invocation
11:30:43,354 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-62ln5v1c/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-62ln5v1c/test/node2/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:30:43,355 ccm INFO node2: using Java 8 for the current invocation
11:30:43,500 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:30:43,859 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-62ln5v1c/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-62ln5v1c/test/node3/conf'}
11:30:43,860 ccm INFO node3: using Java 8 for the current invocation
11:30:44,75 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-62ln5v1c/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-62ln5v1c/test/node3/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:30:44,75 ccm INFO node3: using Java 8 for the current invocation
11:30:44,186 ccm INFO Starting node3 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:30:44,510 ccm INFO node4: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-62ln5v1c/test/node4/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-62ln5v1c/test/node4/conf'}
11:30:44,510 ccm INFO node4: using Java 8 for the current invocation
11:30:44,719 ccm INFO node4: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-62ln5v1c/test/node4/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-62ln5v1c/test/node4/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:30:44,720 ccm INFO node4: using Java 8 for the current invocation
11:30:44,824 ccm INFO Starting node4 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:30:45,173 ccm INFO node5: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-62ln5v1c/test/node5/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-62ln5v1c/test/node5/conf'}
11:30:45,175 ccm INFO node5: using Java 8 for the current invocation
11:30:45,384 ccm INFO node5: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-62ln5v1c/test/node5/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-62ln5v1c/test/node5/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:30:45,384 ccm INFO node5: using Java 8 for the current invocation
11:30:45,478 ccm INFO Starting node5 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
---------------------------- Captured log teardown -----------------------------
11:32:23,364 conftest ERROR Unexpected error in node2 log, error: 
ERROR [main] 2022-02-02 11:31:50,507 CassandraDaemon.java:911 - Exception encountered during startup
java.lang.RuntimeException: Unable to gossip with any peers
	at org.apache.cassandra.gms.Gossiper.doShadowRound(Gossiper.java:1844)
	at org.apache.cassandra.service.StorageService.checkForEndpointCollision(StorageService.java:648)
	at org.apache.cassandra.service.StorageService.prepareToJoin(StorageService.java:934)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:784)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:729)
	at org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:420)
	at org.apache.cassandra.service.CassandraDaemon.activate(CassandraDaemon.java:765)
	at org.apache.cassandra.service.CassandraDaemon.main(CassandraDaemon.java:889)
===Flaky Test Report===

test_assassination_of_unknown_node failed and was not selected for rerun.
	<class 'ccmlib.node.NodeError'>
	Node node2 should be running before waiting for <started listening> log message, but C* process is terminated.
	[<TracebackEntry /root/cassandra-dtest/gossip_test.py:37>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/cluster.py:543>]

===End Flaky Test Report===
========================== 1 failed in 107.23 seconds ==========================
[msx] rc = 1
v1v2 running time = 128767665585
---> v1v2 test failed.
proj: cassandra
u_test: gossip_test.py::TestGossip::test_assassination_of_unknown_node
h_list: periodic_commitlog_sync_lag_block_in_ms@@@CassandraDaemon@@@-1@@@null@@@100
vv_mode: v1v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node PASSED    [100%]
===Flaky Test Report===

test_assassination_of_unknown_node passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 49.43 seconds ===========================
[msx] rc = 0
v1v1 running time = 71097014933
cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node PASSED    [100%]
===Flaky Test Report===

test_assassination_of_unknown_node passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 231.04 seconds ==========================
[msx] rc = 0
v2v2 running time = 252636996303
---> v1v1 and v2v2 test test suceeded.
cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node FAILED    [100%]
------------------------------ live log teardown -------------------------------
11:39:54,431 conftest ERROR Unexpected error in node2 log, error: 
ERROR [main] 2022-02-02 11:39:22,303 CassandraDaemon.java:911 - Exception encountered during startup
java.lang.RuntimeException: Unable to gossip with any peers
	at org.apache.cassandra.gms.Gossiper.doShadowRound(Gossiper.java:1844)
	at org.apache.cassandra.service.StorageService.checkForEndpointCollision(StorageService.java:648)
	at org.apache.cassandra.service.StorageService.prepareToJoin(StorageService.java:934)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:784)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:729)
	at org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:420)
	at org.apache.cassandra.service.CassandraDaemon.activate(CassandraDaemon.java:765)
	at org.apache.cassandra.service.CassandraDaemon.main(CassandraDaemon.java:889)


=================================== FAILURES ===================================
________________ TestGossip.test_assassination_of_unknown_node _________________

self = <gossip_test.TestGossip object at 0x7f1a9c103160>

    @pytest.mark.no_vnodes
    def test_assassination_of_unknown_node(self):
        """
            @jira_ticket CASSANDRA-16588
            Test that a non-seed node can come back online after assassinating an
            unknown node.
            """
        cluster = self.cluster
    
        # Create a 5-node cluster
        cluster.populate(5)
        node1 = cluster.nodelist()[0]
        node3 = cluster.nodelist()[2]
    
        self.cluster.set_configuration_options({
            'seed_provider': [{'class_name': 'org.apache.cassandra.locator.SimpleSeedProvider',
                               'parameters': [{'seeds': node1.address()}]
                              }]
            })
    
>       cluster.start()

gossip_test.py:37: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <ccmlib.cluster.Cluster object at 0x7f1a9c09cc88>, no_wait = False
verbose = False, wait_for_binary_proto = True, wait_other_notice = True
jvm_args = ['-Dcassandra.migration_task_wait_in_seconds=10', '-Dcassandra.migration_task_wait_in_seconds=10', '-Dcassandra.migrat..._wait_in_seconds=10', '-Dcassandra.migration_task_wait_in_seconds=10', '-Dcassandra.migration_task_wait_in_seconds=10']
profile_options = None, quiet_start = False, allow_root = False
jvm_version = None, kwargs = {}
node = <ccmlib.node.Node object at 0x7f1a9c09c908>, itf = ('127.0.0.5', 9042)
started = [(<ccmlib.node.Node object at 0x7f1a9c09c518>, <subprocess.Popen object at 0x7f1a9b86e4a8>, 0), (<ccmlib.node.Node obj... at 0x7f1a9b86efd0>, 0), (<ccmlib.node.Node object at 0x7f1a9b883cc0>, <subprocess.Popen object at 0x7f1a9b8883c8>, 0)]
mark = 0, node_wait_for_binary_proto = False
p = <subprocess.Popen object at 0x7f1a9b86e860>, timeout = 120

    def start(self, no_wait=False, verbose=False, wait_for_binary_proto=True,
              wait_other_notice=True, jvm_args=None, profile_options=None,
              quiet_start=False, allow_root=False, jvm_version=None, **kwargs):
        if jvm_args is None:
            jvm_args = []
    
        extension.pre_cluster_start(self)
    
        # check whether all loopback aliases are available before starting any nodes
        for node in list(self.nodes.values()):
            if not node.is_running():
                for itf in node.network_interfaces.values():
                    if itf is not None:
                        common.assert_socket_available(itf)
    
        started = []
        for node in list(self.nodes.values()):
            if not node.is_running():
                mark = 0
                if os.path.exists(node.logfilename()):
                    mark = node.mark_log()
    
                # if the node is going to allocate_strategy_ tokens during start, then wait_for_binary_proto=True
                node_wait_for_binary_proto = (self.can_generate_tokens() and self.use_vnodes and node.initial_token is None)
                p = node.start(update_pid=False, jvm_args=jvm_args, jvm_version=jvm_version,
                               profile_options=profile_options, verbose=verbose, quiet_start=quiet_start,
                               allow_root=allow_root, wait_for_binary_proto=node_wait_for_binary_proto)
    
                # Prior to JDK8, starting every node at once could lead to a
                # nanotime collision where the RNG that generates a node's tokens
                # gives identical tokens to several nodes. Thus, we stagger
                # the node starts
                if common.get_jdk_version() < '1.8':
                    time.sleep(1)
    
                started.append((node, p, mark))
    
        if no_wait:
            time.sleep(2)  # waiting 2 seconds to check for early errors and for the pid to be set
        else:
            for node, p, mark in started:
                if not node._wait_for_running(p, timeout_s=7):
                    raise NodeError("Node {} should be running before waiting for <started listening> log message, "
>                                   "but C* process is terminated.".format(node.name))
E                   ccmlib.node.NodeError: Node node2 should be running before waiting for <started listening> log message, but C* process is terminated.

../dtest/lib/python3.6/site-packages/ccmlib/cluster.py:543: NodeError
---------------------------- Captured stdout setup -----------------------------
11:38:09,989 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
11:38:09,727 conftest INFO Starting execution of test_assassination_of_unknown_node at 2022-02-02 11:38:09.727658
11:38:09,891 dtest_setup INFO cluster ccm directory: /tmp/dtest-yrpong_q
----------------------------- Captured stdout call -----------------------------
11:38:09,991 ccm DEBUG using balanced tokens for non-vnode cluster
11:38:13,548 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-yrpong_q/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-yrpong_q/test/node1/conf'}
11:38:13,550 ccm INFO node1: using Java 8 for the current invocation
11:38:13,762 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-yrpong_q/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-yrpong_q/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10'}
11:38:13,763 ccm INFO node1: using Java 8 for the current invocation
11:38:13,870 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:38:14,201 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-yrpong_q/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-yrpong_q/test/node2/conf'}
11:38:14,201 ccm INFO node2: using Java 8 for the current invocation
11:38:14,414 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-yrpong_q/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-yrpong_q/test/node2/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:38:14,415 ccm INFO node2: using Java 8 for the current invocation
11:38:14,519 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:38:14,852 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-yrpong_q/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-yrpong_q/test/node3/conf'}
11:38:14,854 ccm INFO node3: using Java 8 for the current invocation
11:38:15,78 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-yrpong_q/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-yrpong_q/test/node3/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:38:15,79 ccm INFO node3: using Java 8 for the current invocation
11:38:15,183 ccm INFO Starting node3 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:38:15,519 ccm INFO node4: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-yrpong_q/test/node4/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-yrpong_q/test/node4/conf'}
11:38:15,520 ccm INFO node4: using Java 8 for the current invocation
11:38:15,760 ccm INFO node4: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-yrpong_q/test/node4/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-yrpong_q/test/node4/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:38:15,760 ccm INFO node4: using Java 8 for the current invocation
11:38:15,867 ccm INFO Starting node4 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:38:16,217 ccm INFO node5: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-yrpong_q/test/node5/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-yrpong_q/test/node5/conf'}
11:38:16,217 ccm INFO node5: using Java 8 for the current invocation
11:38:16,425 ccm INFO node5: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-yrpong_q/test/node5/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-yrpong_q/test/node5/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:38:16,426 ccm INFO node5: using Java 8 for the current invocation
11:38:16,540 ccm INFO Starting node5 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
----------------------------- Captured stderr call -----------------------------
Exception in thread Thread-1:
Traceback (most recent call last):
  File "/usr/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/root/dtest/lib/python3.6/site-packages/ccmlib/cluster.py", line 193, in run
    self.scan_and_report()
  File "/root/dtest/lib/python3.6/site-packages/ccmlib/cluster.py", line 186, in scan_and_report
    on_error_call(errordata)
  File "/root/cassandra-dtest/dtest_setup.py", line 136, in _log_error_handler
    pytest.fail("Error details: \n{message}".format(message=message))
  File "/root/dtest/lib/python3.6/site-packages/_pytest/outcomes.py", line 97, in fail
    raise Failed(msg=msg, pytrace=pytrace)
Failed: Error details: 
Errors seen in logs for: node2
node2: ERROR [main] 2022-02-02 11:39:22,303 CassandraDaemon.java:911 - Exception encountered during startup
java.lang.RuntimeException: Unable to gossip with any peers
	at org.apache.cassandra.gms.Gossiper.doShadowRound(Gossiper.java:1844)
	at org.apache.cassandra.service.StorageService.checkForEndpointCollision(StorageService.java:648)
	at org.apache.cassandra.service.StorageService.prepareToJoin(StorageService.java:934)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:784)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:729)
	at org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:420)
	at org.apache.cassandra.service.CassandraDaemon.activate(CassandraDaemon.java:765)
	at org.apache.cassandra.service.CassandraDaemon.main(CassandraDaemon.java:889)

------------------------------ Captured log call -------------------------------
11:38:13,548 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-yrpong_q/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-yrpong_q/test/node1/conf'}
11:38:13,550 ccm INFO node1: using Java 8 for the current invocation
11:38:13,762 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-yrpong_q/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-yrpong_q/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10'}
11:38:13,763 ccm INFO node1: using Java 8 for the current invocation
11:38:13,870 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:38:14,201 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-yrpong_q/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-yrpong_q/test/node2/conf'}
11:38:14,201 ccm INFO node2: using Java 8 for the current invocation
11:38:14,414 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-yrpong_q/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-yrpong_q/test/node2/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:38:14,415 ccm INFO node2: using Java 8 for the current invocation
11:38:14,519 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:38:14,852 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-yrpong_q/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-yrpong_q/test/node3/conf'}
11:38:14,854 ccm INFO node3: using Java 8 for the current invocation
11:38:15,78 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-yrpong_q/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-yrpong_q/test/node3/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:38:15,79 ccm INFO node3: using Java 8 for the current invocation
11:38:15,183 ccm INFO Starting node3 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:38:15,519 ccm INFO node4: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-yrpong_q/test/node4/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-yrpong_q/test/node4/conf'}
11:38:15,520 ccm INFO node4: using Java 8 for the current invocation
11:38:15,760 ccm INFO node4: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-yrpong_q/test/node4/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-yrpong_q/test/node4/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:38:15,760 ccm INFO node4: using Java 8 for the current invocation
11:38:15,867 ccm INFO Starting node4 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:38:16,217 ccm INFO node5: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-yrpong_q/test/node5/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-yrpong_q/test/node5/conf'}
11:38:16,217 ccm INFO node5: using Java 8 for the current invocation
11:38:16,425 ccm INFO node5: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-yrpong_q/test/node5/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-yrpong_q/test/node5/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:38:16,426 ccm INFO node5: using Java 8 for the current invocation
11:38:16,540 ccm INFO Starting node5 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
---------------------------- Captured log teardown -----------------------------
11:39:54,431 conftest ERROR Unexpected error in node2 log, error: 
ERROR [main] 2022-02-02 11:39:22,303 CassandraDaemon.java:911 - Exception encountered during startup
java.lang.RuntimeException: Unable to gossip with any peers
	at org.apache.cassandra.gms.Gossiper.doShadowRound(Gossiper.java:1844)
	at org.apache.cassandra.service.StorageService.checkForEndpointCollision(StorageService.java:648)
	at org.apache.cassandra.service.StorageService.prepareToJoin(StorageService.java:934)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:784)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:729)
	at org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:420)
	at org.apache.cassandra.service.CassandraDaemon.activate(CassandraDaemon.java:765)
	at org.apache.cassandra.service.CassandraDaemon.main(CassandraDaemon.java:889)
===Flaky Test Report===

test_assassination_of_unknown_node failed and was not selected for rerun.
	<class 'ccmlib.node.NodeError'>
	Node node2 should be running before waiting for <started listening> log message, but C* process is terminated.
	[<TracebackEntry /root/cassandra-dtest/gossip_test.py:37>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/cluster.py:543>]

===End Flaky Test Report===
========================== 1 failed in 105.81 seconds ==========================
[msx] rc = 1
v1v2 running time = 127343299724
---> v1v2 test failed.
proj: cassandra
u_test: gossip_test.py::TestGossip::test_assassination_of_unknown_node
h_list: periodic_commitlog_sync_lag_block_in_ms@@@CassandraDaemon@@@-1@@@null@@@100
vv_mode: v1v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node PASSED    [100%]
===Flaky Test Report===

test_assassination_of_unknown_node passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 51.76 seconds ===========================
[msx] rc = 0
v1v1 running time = 73225882585
cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node PASSED    [100%]
===Flaky Test Report===

test_assassination_of_unknown_node passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 241.72 seconds ==========================
[msx] rc = 0
v2v2 running time = 263287068831
---> v1v1 and v2v2 test test suceeded.
cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node PASSED    [100%]
===Flaky Test Report===

test_assassination_of_unknown_node passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 171.30 seconds ==========================
[msx] rc = 0
v1v2 running time = 192724611249
---> v1v2 test suceeded.
cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node PASSED    [100%]
===Flaky Test Report===

test_assassination_of_unknown_node passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 50.78 seconds ===========================
[msx] rc = 0
v1v1 running time = 72211195382
cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node PASSED    [100%]
===Flaky Test Report===

test_assassination_of_unknown_node passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 236.89 seconds ==========================
[msx] rc = 0
v2v2 running time = 258572610839
---> v1v1 and v2v2 test test suceeded.
cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node FAILED    [100%]
------------------------------ live log teardown -------------------------------
11:56:13,143 conftest ERROR Unexpected error in node2 log, error: 
ERROR [main] 2022-02-02 11:55:49,637 CassandraDaemon.java:911 - Exception encountered during startup
java.lang.RuntimeException: Unable to gossip with any peers
	at org.apache.cassandra.gms.Gossiper.doShadowRound(Gossiper.java:1844)
	at org.apache.cassandra.service.StorageService.checkForEndpointCollision(StorageService.java:648)
	at org.apache.cassandra.service.StorageService.prepareToJoin(StorageService.java:934)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:784)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:729)
	at org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:420)
	at org.apache.cassandra.service.CassandraDaemon.activate(CassandraDaemon.java:765)
	at org.apache.cassandra.service.CassandraDaemon.main(CassandraDaemon.java:889)


=================================== FAILURES ===================================
________________ TestGossip.test_assassination_of_unknown_node _________________

self = <gossip_test.TestGossip object at 0x7f8d94d4b908>

    @pytest.mark.no_vnodes
    def test_assassination_of_unknown_node(self):
        """
            @jira_ticket CASSANDRA-16588
            Test that a non-seed node can come back online after assassinating an
            unknown node.
            """
        cluster = self.cluster
    
        # Create a 5-node cluster
        cluster.populate(5)
        node1 = cluster.nodelist()[0]
        node3 = cluster.nodelist()[2]
    
        self.cluster.set_configuration_options({
            'seed_provider': [{'class_name': 'org.apache.cassandra.locator.SimpleSeedProvider',
                               'parameters': [{'seeds': node1.address()}]
                              }]
            })
    
>       cluster.start()

gossip_test.py:37: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <ccmlib.cluster.Cluster object at 0x7f8d94d4bda0>, no_wait = False
verbose = False, wait_for_binary_proto = True, wait_other_notice = True
jvm_args = ['-Dcassandra.migration_task_wait_in_seconds=10', '-Dcassandra.migration_task_wait_in_seconds=10', '-Dcassandra.migrat..._wait_in_seconds=10', '-Dcassandra.migration_task_wait_in_seconds=10', '-Dcassandra.migration_task_wait_in_seconds=10']
profile_options = None, quiet_start = False, allow_root = False
jvm_version = None, kwargs = {}
node = <ccmlib.node.Node object at 0x7f8d94d4be10>, itf = ('127.0.0.5', 9042)
started = [(<ccmlib.node.Node object at 0x7f8d94d4bef0>, <subprocess.Popen object at 0x7f8d94513588>, 0), (<ccmlib.node.Node obj... at 0x7f8d9450a0f0>, 0), (<ccmlib.node.Node object at 0x7f8d94533278>, <subprocess.Popen object at 0x7f8d9450a4a8>, 0)]
mark = 0, node_wait_for_binary_proto = False
p = <subprocess.Popen object at 0x7f8d94513940>, timeout = 120

    def start(self, no_wait=False, verbose=False, wait_for_binary_proto=True,
              wait_other_notice=True, jvm_args=None, profile_options=None,
              quiet_start=False, allow_root=False, jvm_version=None, **kwargs):
        if jvm_args is None:
            jvm_args = []
    
        extension.pre_cluster_start(self)
    
        # check whether all loopback aliases are available before starting any nodes
        for node in list(self.nodes.values()):
            if not node.is_running():
                for itf in node.network_interfaces.values():
                    if itf is not None:
                        common.assert_socket_available(itf)
    
        started = []
        for node in list(self.nodes.values()):
            if not node.is_running():
                mark = 0
                if os.path.exists(node.logfilename()):
                    mark = node.mark_log()
    
                # if the node is going to allocate_strategy_ tokens during start, then wait_for_binary_proto=True
                node_wait_for_binary_proto = (self.can_generate_tokens() and self.use_vnodes and node.initial_token is None)
                p = node.start(update_pid=False, jvm_args=jvm_args, jvm_version=jvm_version,
                               profile_options=profile_options, verbose=verbose, quiet_start=quiet_start,
                               allow_root=allow_root, wait_for_binary_proto=node_wait_for_binary_proto)
    
                # Prior to JDK8, starting every node at once could lead to a
                # nanotime collision where the RNG that generates a node's tokens
                # gives identical tokens to several nodes. Thus, we stagger
                # the node starts
                if common.get_jdk_version() < '1.8':
                    time.sleep(1)
    
                started.append((node, p, mark))
    
        if no_wait:
            time.sleep(2)  # waiting 2 seconds to check for early errors and for the pid to be set
        else:
            for node, p, mark in started:
                if not node._wait_for_running(p, timeout_s=7):
                    raise NodeError("Node {} should be running before waiting for <started listening> log message, "
>                                   "but C* process is terminated.".format(node.name))
E                   ccmlib.node.NodeError: Node node2 should be running before waiting for <started listening> log message, but C* process is terminated.

../dtest/lib/python3.6/site-packages/ccmlib/cluster.py:543: NodeError
---------------------------- Captured stdout setup -----------------------------
1:54:37,411 ccm DEBUG Log-watching thread starting.
---------------------------- Captured stderr setup -----------------------------
swapoff: Not superuser.
------------------------------ Captured log setup ------------------------------
11:54:37,145 conftest INFO Starting execution of test_assassination_of_unknown_node at 2022-02-02 11:54:37.145500
11:54:37,308 dtest_setup INFO cluster ccm directory: /tmp/dtest-qp8xyhe7
----------------------------- Captured stdout call -----------------------------
11:54:37,413 ccm DEBUG using balanced tokens for non-vnode cluster
11:54:41,210 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-qp8xyhe7/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-qp8xyhe7/test/node1/conf'}
11:54:41,212 ccm INFO node1: using Java 8 for the current invocation
11:54:41,438 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-qp8xyhe7/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-qp8xyhe7/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10'}
11:54:41,439 ccm INFO node1: using Java 8 for the current invocation
11:54:41,550 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:54:41,894 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-qp8xyhe7/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-qp8xyhe7/test/node2/conf'}
11:54:41,895 ccm INFO node2: using Java 8 for the current invocation
11:54:42,108 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-qp8xyhe7/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-qp8xyhe7/test/node2/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:54:42,109 ccm INFO node2: using Java 8 for the current invocation
11:54:42,210 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:54:42,554 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-qp8xyhe7/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-qp8xyhe7/test/node3/conf'}
11:54:42,555 ccm INFO node3: using Java 8 for the current invocation
11:54:42,754 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-qp8xyhe7/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-qp8xyhe7/test/node3/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:54:42,755 ccm INFO node3: using Java 8 for the current invocation
11:54:42,870 ccm INFO Starting node3 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:54:43,220 ccm INFO node4: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-qp8xyhe7/test/node4/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-qp8xyhe7/test/node4/conf'}
11:54:43,220 ccm INFO node4: using Java 8 for the current invocation
11:54:43,428 ccm INFO node4: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-qp8xyhe7/test/node4/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-qp8xyhe7/test/node4/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:54:43,429 ccm INFO node4: using Java 8 for the current invocation
11:54:43,542 ccm INFO Starting node4 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:54:43,908 ccm INFO node5: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-qp8xyhe7/test/node5/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-qp8xyhe7/test/node5/conf'}
11:54:43,910 ccm INFO node5: using Java 8 for the current invocation
11:54:44,144 ccm INFO node5: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-qp8xyhe7/test/node5/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-qp8xyhe7/test/node5/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:54:44,145 ccm INFO node5: using Java 8 for the current invocation
11:54:44,269 ccm INFO Starting node5 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
----------------------------- Captured stderr call -----------------------------
Exception in thread Thread-1:
Traceback (most recent call last):
  File "/usr/lib/python3.6/threading.py", line 916, in _bootstrap_inner
    self.run()
  File "/root/dtest/lib/python3.6/site-packages/ccmlib/cluster.py", line 193, in run
    self.scan_and_report()
  File "/root/dtest/lib/python3.6/site-packages/ccmlib/cluster.py", line 186, in scan_and_report
    on_error_call(errordata)
  File "/root/cassandra-dtest/dtest_setup.py", line 136, in _log_error_handler
    pytest.fail("Error details: \n{message}".format(message=message))
  File "/root/dtest/lib/python3.6/site-packages/_pytest/outcomes.py", line 97, in fail
    raise Failed(msg=msg, pytrace=pytrace)
Failed: Error details: 
Errors seen in logs for: node2
node2: ERROR [main] 2022-02-02 11:55:49,637 CassandraDaemon.java:911 - Exception encountered during startup
java.lang.RuntimeException: Unable to gossip with any peers
	at org.apache.cassandra.gms.Gossiper.doShadowRound(Gossiper.java:1844)
	at org.apache.cassandra.service.StorageService.checkForEndpointCollision(StorageService.java:648)
	at org.apache.cassandra.service.StorageService.prepareToJoin(StorageService.java:934)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:784)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:729)
	at org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:420)
	at org.apache.cassandra.service.CassandraDaemon.activate(CassandraDaemon.java:765)
	at org.apache.cassandra.service.CassandraDaemon.main(CassandraDaemon.java:889)

------------------------------ Captured log call -------------------------------
11:54:41,210 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-qp8xyhe7/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-qp8xyhe7/test/node1/conf'}
11:54:41,212 ccm INFO node1: using Java 8 for the current invocation
11:54:41,438 ccm INFO node1: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-qp8xyhe7/test/node1/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-qp8xyhe7/test/node1/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10'}
11:54:41,439 ccm INFO node1: using Java 8 for the current invocation
11:54:41,550 ccm INFO Starting node1 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:54:41,894 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-qp8xyhe7/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-qp8xyhe7/test/node2/conf'}
11:54:41,895 ccm INFO node2: using Java 8 for the current invocation
11:54:42,108 ccm INFO node2: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-qp8xyhe7/test/node2/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-qp8xyhe7/test/node2/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:54:42,109 ccm INFO node2: using Java 8 for the current invocation
11:54:42,210 ccm INFO Starting node2 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:54:42,554 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-qp8xyhe7/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-qp8xyhe7/test/node3/conf'}
11:54:42,555 ccm INFO node3: using Java 8 for the current invocation
11:54:42,754 ccm INFO node3: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-qp8xyhe7/test/node3/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-qp8xyhe7/test/node3/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:54:42,755 ccm INFO node3: using Java 8 for the current invocation
11:54:42,870 ccm INFO Starting node3 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:54:43,220 ccm INFO node4: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-qp8xyhe7/test/node4/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-qp8xyhe7/test/node4/conf'}
11:54:43,220 ccm INFO node4: using Java 8 for the current invocation
11:54:43,428 ccm INFO node4: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-qp8xyhe7/test/node4/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-qp8xyhe7/test/node4/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:54:43,429 ccm INFO node4: using Java 8 for the current invocation
11:54:43,542 ccm INFO Starting node4 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
11:54:43,908 ccm INFO node5: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-qp8xyhe7/test/node5/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-qp8xyhe7/test/node5/conf'}
11:54:43,910 ccm INFO node5: using Java 8 for the current invocation
11:54:44,144 ccm INFO node5: current_java_version=8, current_java_home_version=8, jvm_version=None, for_build=False, cassandra_version=4.0.2, install_dir=/root/cassandra, env={'HOSTNAME': '46d69a5e8199', 'JAVA_HOME': '/usr/lib/jvm/java-1.8.0-openjdk-amd64', 'PWD': '/root/cassandra-dtest', 'HOME': '/root', 'SHLVL': '4', 'ZEBRACONF_HOME': '/root/vm_images/ZebraConf', 'PATH': '/root/dtest/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin', '_': '/root/dtest/bin/pytest', 'OLDPWD': '/', 'PYTEST_CURRENT_TEST': 'gossip_test.py::TestGossip::()::test_assassination_of_unknown_node (call)', 'CASSANDRA_INCLUDE': '/tmp/dtest-qp8xyhe7/test/node5/bin/cassandra.in.sh', 'MAX_HEAP_SIZE': '500M', 'HEAP_NEWSIZE': '50M', 'CASSANDRA_HOME': '/root/cassandra', 'CASSANDRA_CONF': '/tmp/dtest-qp8xyhe7/test/node5/conf', 'CASSANDRA_LIBJEMALLOC': '-', 'JVM_EXTRA_OPTS': ' -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10 -Dcassandra.migration_task_wait_in_seconds=10'}
11:54:44,145 ccm INFO node5: using Java 8 for the current invocation
11:54:44,269 ccm INFO Starting node5 with JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 java_version=8 cassandra_version=4.0.2, install_dir=/root/cassandra
---------------------------- Captured log teardown -----------------------------
11:56:13,143 conftest ERROR Unexpected error in node2 log, error: 
ERROR [main] 2022-02-02 11:55:49,637 CassandraDaemon.java:911 - Exception encountered during startup
java.lang.RuntimeException: Unable to gossip with any peers
	at org.apache.cassandra.gms.Gossiper.doShadowRound(Gossiper.java:1844)
	at org.apache.cassandra.service.StorageService.checkForEndpointCollision(StorageService.java:648)
	at org.apache.cassandra.service.StorageService.prepareToJoin(StorageService.java:934)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:784)
	at org.apache.cassandra.service.StorageService.initServer(StorageService.java:729)
	at org.apache.cassandra.service.CassandraDaemon.setup(CassandraDaemon.java:420)
	at org.apache.cassandra.service.CassandraDaemon.activate(CassandraDaemon.java:765)
	at org.apache.cassandra.service.CassandraDaemon.main(CassandraDaemon.java:889)
===Flaky Test Report===

test_assassination_of_unknown_node failed and was not selected for rerun.
	<class 'ccmlib.node.NodeError'>
	Node node2 should be running before waiting for <started listening> log message, but C* process is terminated.
	[<TracebackEntry /root/cassandra-dtest/gossip_test.py:37>, <TracebackEntry /root/dtest/lib/python3.6/site-packages/ccmlib/cluster.py:543>]

===End Flaky Test Report===
========================== 1 failed in 97.10 seconds ===========================
[msx] rc = 1
v1v2 running time = 118679344710
---> v1v2 test failed.
proj: cassandra
u_test: gossip_test.py::TestGossip::test_assassination_of_unknown_node
h_list: periodic_commitlog_sync_lag_block_in_ms@@@CassandraDaemon@@@-1@@@null@@@100
vv_mode: v1v2
result: FAIL
failureMessage: 
stackTrace: 

cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node PASSED    [100%]
===Flaky Test Report===

test_assassination_of_unknown_node passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 50.38 seconds ===========================
[msx] rc = 0
v1v1 running time = 71885543126
cassandra gossip_test.py::TestGossip::test_assassination_of_unknown_node false false
log_dst_dir = /root/vm_images/ZebraConf/app_meta/logs
the_test is gossip_test.py::TestGossip::test_assassination_of_unknown_node
============================= test session starts ==============================
platform linux -- Python 3.6.9, pytest-3.6.4, py-1.11.0, pluggy-0.7.1 -- /root/dtest/bin/python
cachedir: .pytest_cache
rootdir: /root/cassandra-dtest, inifile: pytest.ini
plugins: flaky-3.7.0, timeout-1.4.2, repeat-0.9.1
timeout: 1200.0s
timeout method: signal
timeout func_only: False
collecting ... collected 1 item

gossip_test.py::TestGossip::test_assassination_of_unknown_node PASSED    [100%]
===Flaky Test Report===

test_assassination_of_unknown_node passed 1 out of the required 1 times. Success!

===End Flaky Test Report===

========================== 1 passed in 226.76 seconds ==========================
[msx] rc = 0
v2v2 running time = 248206850131
---> v1v1 and v2v2 test test suceeded.
early stop after 7 is satisfied
v1v2 failed with probability 7 out of 12
v1v1v2v2 failed with probability 0 out of 12
Total execution time in seconds : 5697
0
